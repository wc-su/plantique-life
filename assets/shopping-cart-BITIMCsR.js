import{l as Vs,c as Ps}from"./index-DdMuGOvR.js";/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const ae=new Map,qt={set(n,e,t){ae.has(n)||ae.set(n,new Map);const s=ae.get(n);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,t)},get(n,e){return ae.has(n)&&ae.get(n).get(e)||null},remove(n,e){if(!ae.has(n))return;const t=ae.get(n);t.delete(e),t.size===0&&ae.delete(n)}},Wi=1e6,Yi=1e3,pn="transitionend",zs=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),qi=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),Gi=n=>{do n+=Math.floor(Math.random()*Wi);while(document.getElementById(n));return n},Xi=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const s=Number.parseFloat(e),i=Number.parseFloat(t);return!s&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*Yi)},Zs=n=>{n.dispatchEvent(new Event(pn))},ne=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),ce=n=>ne(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(zs(n)):null,Ve=n=>{if(!ne(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const s=n.closest("summary");if(s&&s.parentNode!==t||s===null)return!1}return e},le=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",js=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?js(n.parentNode):null},bt=()=>{},Je=n=>{n.offsetHeight},Us=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Gt=[],Qi=n=>{document.readyState==="loading"?(Gt.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Gt)e()}),Gt.push(n)):n()},P=()=>document.documentElement.dir==="rtl",Z=n=>{Qi(()=>{const e=Us();if(e){const t=n.NAME,s=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=s,n.jQueryInterface)}})},M=(n,e=[],t=n)=>typeof n=="function"?n.call(...e):t,Hs=(n,e,t=!0)=>{if(!t){M(n);return}const i=Xi(e)+5;let r=!1;const o=({target:a})=>{a===e&&(r=!0,e.removeEventListener(pn,o),M(n))};e.addEventListener(pn,o),setTimeout(()=>{r||Zs(e)},i)},Tn=(n,e,t,s)=>{const i=n.length;let r=n.indexOf(e);return r===-1?!t&&s?n[i-1]:n[0]:(r+=t?1:-1,s&&(r=(r+i)%i),n[Math.max(0,Math.min(r,i-1))])},Ji=/[^.]*(?=\..*)\.|.*/,er=/\..*/,tr=/::\d+$/,Xt={};let Un=1;const Ks={mouseenter:"mouseover",mouseleave:"mouseout"},nr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ws(n,e){return e&&`${e}::${Un++}`||n.uidEvent||Un++}function Ys(n){const e=Ws(n);return n.uidEvent=e,Xt[e]=Xt[e]||{},Xt[e]}function sr(n,e){return function t(s){return wn(s,{delegateTarget:n}),t.oneOff&&h.off(n,s.type,e),e.apply(n,[s])}}function ir(n,e,t){return function s(i){const r=n.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return wn(i,{delegateTarget:o}),s.oneOff&&h.off(n,i.type,e,t),t.apply(o,[i])}}function qs(n,e,t=null){return Object.values(n).find(s=>s.callable===e&&s.delegationSelector===t)}function Gs(n,e,t){const s=typeof e=="string",i=s?t:e||t;let r=Xs(n);return nr.has(r)||(r=n),[s,i,r]}function Hn(n,e,t,s,i){if(typeof e!="string"||!n)return;let[r,o,a]=Gs(e,t,s);e in Ks&&(o=(A=>function(C){if(!C.relatedTarget||C.relatedTarget!==C.delegateTarget&&!C.delegateTarget.contains(C.relatedTarget))return A.call(this,C)})(o));const u=Ys(n),c=u[a]||(u[a]={}),d=qs(c,o,r?t:null);if(d){d.oneOff=d.oneOff&&i;return}const f=Ws(o,e.replace(Ji,"")),m=r?ir(n,t,o):sr(n,o);m.delegationSelector=r?t:null,m.callable=o,m.oneOff=i,m.uidEvent=f,c[f]=m,n.addEventListener(a,m,r)}function fn(n,e,t,s,i){const r=qs(e[t],s,i);r&&(n.removeEventListener(t,r,!!i),delete e[t][r.uidEvent])}function rr(n,e,t,s){const i=e[t]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&fn(n,e,t,o.callable,o.delegationSelector)}function Xs(n){return n=n.replace(er,""),Ks[n]||n}const h={on(n,e,t,s){Hn(n,e,t,s,!1)},one(n,e,t,s){Hn(n,e,t,s,!0)},off(n,e,t,s){if(typeof e!="string"||!n)return;const[i,r,o]=Gs(e,t,s),a=o!==e,u=Ys(n),c=u[o]||{},d=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(c).length)return;fn(n,u,o,r,i?t:null);return}if(d)for(const f of Object.keys(u))rr(n,u,f,e.slice(1));for(const[f,m]of Object.entries(c)){const v=f.replace(tr,"");(!a||e.includes(v))&&fn(n,u,o,m.callable,m.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const s=Us(),i=Xs(e),r=e!==i;let o=null,a=!0,u=!0,c=!1;r&&s&&(o=s.Event(e,t),s(n).trigger(o),a=!o.isPropagationStopped(),u=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const d=wn(new Event(e,{bubbles:a,cancelable:!0}),t);return c&&d.preventDefault(),u&&n.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function wn(n,e={}){for(const[t,s]of Object.entries(e))try{n[t]=s}catch{Object.defineProperty(n,t,{configurable:!0,get(){return s}})}return n}function Kn(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Qt(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const se={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Qt(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Qt(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of t){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=Kn(n.dataset[s])}return e},getDataAttribute(n,e){return Kn(n.getAttribute(`data-bs-${Qt(e)}`))}};class et{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const s=ne(t)?se.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...ne(t)?se.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[s,i]of Object.entries(t)){const r=e[s],o=ne(r)?"element":qi(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const or="5.3.8";class H extends et{constructor(e,t){super(),e=ce(e),e&&(this._element=e,this._config=this._getConfig(t),qt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){qt.remove(this._element,this.constructor.DATA_KEY),h.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,s=!0){Hs(e,t,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return qt.get(ce(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return or}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Jt=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>zs(t)).join(","):null},g={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let s=n.parentNode.closest(e);for(;s;)t.push(s),s=s.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!le(t)&&Ve(t))},getSelectorFromElement(n){const e=Jt(n);return e&&g.findOne(e)?e:null},getElementFromSelector(n){const e=Jt(n);return e?g.findOne(e):null},getMultipleElementsFromSelector(n){const e=Jt(n);return e?g.find(e):[]}},xt=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,s=n.NAME;h.on(document,t,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),le(this))return;const r=g.getElementFromSelector(this)||this.closest(`.${s}`);n.getOrCreateInstance(r)[e]()})},ar="alert",ur="bs.alert",Qs=`.${ur}`,cr=`close${Qs}`,lr=`closed${Qs}`,dr="fade",hr="show";class Nt extends H{static get NAME(){return ar}close(){if(h.trigger(this._element,cr).defaultPrevented)return;this._element.classList.remove(hr);const t=this._element.classList.contains(dr);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),h.trigger(this._element,lr),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Nt.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}xt(Nt,"close");Z(Nt);const pr="button",fr="bs.button",mr=`.${fr}`,_r=".data-api",gr="active",Wn='[data-bs-toggle="button"]',Er=`click${mr}${_r}`;class Ft extends H{static get NAME(){return pr}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(gr))}static jQueryInterface(e){return this.each(function(){const t=Ft.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}h.on(document,Er,Wn,n=>{n.preventDefault();const e=n.target.closest(Wn);Ft.getOrCreateInstance(e).toggle()});Z(Ft);const vr="swipe",Pe=".bs.swipe",br=`touchstart${Pe}`,kr=`touchmove${Pe}`,Ar=`touchend${Pe}`,Cr=`pointerdown${Pe}`,yr=`pointerup${Pe}`,Tr="touch",wr="pen",Sr="pointer-event",Ir=40,Dr={endCallback:null,leftCallback:null,rightCallback:null},Lr={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class kt extends et{constructor(e,t){super(),this._element=e,!(!e||!kt.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Dr}static get DefaultType(){return Lr}static get NAME(){return vr}dispose(){h.off(this._element,Pe)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),M(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Ir)return;const t=e/this._deltaX;this._deltaX=0,t&&M(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(h.on(this._element,Cr,e=>this._start(e)),h.on(this._element,yr,e=>this._end(e)),this._element.classList.add(Sr)):(h.on(this._element,br,e=>this._start(e)),h.on(this._element,kr,e=>this._move(e)),h.on(this._element,Ar,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===wr||e.pointerType===Tr)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Or="carousel",$r="bs.carousel",he=`.${$r}`,Js=".data-api",xr="ArrowLeft",Nr="ArrowRight",Fr=500,Ze="next",Ie="prev",Le="left",_t="right",Mr=`slide${he}`,en=`slid${he}`,Br=`keydown${he}`,Rr=`mouseenter${he}`,Vr=`mouseleave${he}`,Pr=`dragstart${he}`,zr=`load${he}${Js}`,Zr=`click${he}${Js}`,ei="carousel",ot="active",jr="slide",Ur="carousel-item-end",Hr="carousel-item-start",Kr="carousel-item-next",Wr="carousel-item-prev",ti=".active",ni=".carousel-item",Yr=ti+ni,qr=".carousel-item img",Gr=".carousel-indicators",Xr="[data-bs-slide], [data-bs-slide-to]",Qr='[data-bs-ride="carousel"]',Jr={[xr]:_t,[Nr]:Le},eo={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},to={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class tt extends H{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=g.findOne(Gr,this._element),this._addEventListeners(),this._config.ride===ei&&this.cycle()}static get Default(){return eo}static get DefaultType(){return to}static get NAME(){return Or}next(){this._slide(Ze)}nextWhenVisible(){!document.hidden&&Ve(this._element)&&this.next()}prev(){this._slide(Ie)}pause(){this._isSliding&&Zs(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){h.one(this._element,en,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){h.one(this._element,en,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?Ze:Ie;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&h.on(this._element,Br,e=>this._keydown(e)),this._config.pause==="hover"&&(h.on(this._element,Rr,()=>this.pause()),h.on(this._element,Vr,()=>this._maybeEnableCycle())),this._config.touch&&kt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of g.find(qr,this._element))h.on(s,Pr,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Le)),rightCallback:()=>this._slide(this._directionToOrder(_t)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Fr+this._config.interval))}};this._swipeHelper=new kt(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Jr[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=g.findOne(ti,this._indicatorsElement);t.classList.remove(ot),t.removeAttribute("aria-current");const s=g.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(ot),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const s=this._getActive(),i=e===Ze,r=t||Tn(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),a=v=>h.trigger(this._element,v,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(a(Mr).defaultPrevented||!s||!r)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const d=i?Hr:Ur,f=i?Kr:Wr;r.classList.add(f),Je(r),s.classList.add(d),r.classList.add(d);const m=()=>{r.classList.remove(d,f),r.classList.add(ot),s.classList.remove(ot,f,d),this._isSliding=!1,a(en)};this._queueCallback(m,s,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(jr)}_getActive(){return g.findOne(Yr,this._element)}_getItems(){return g.find(ni,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return P()?e===Le?Ie:Ze:e===Le?Ze:Ie}_orderToDirection(e){return P()?e===Ie?Le:_t:e===Ie?_t:Le}static jQueryInterface(e){return this.each(function(){const t=tt.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}h.on(document,Zr,Xr,function(n){const e=g.getElementFromSelector(this);if(!e||!e.classList.contains(ei))return;n.preventDefault();const t=tt.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){t.to(s),t._maybeEnableCycle();return}if(se.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});h.on(window,zr,()=>{const n=g.find(Qr);for(const e of n)tt.getOrCreateInstance(e)});Z(tt);const no="collapse",so="bs.collapse",nt=`.${so}`,io=".data-api",ro=`show${nt}`,oo=`shown${nt}`,ao=`hide${nt}`,uo=`hidden${nt}`,co=`click${nt}${io}`,tn="show",$e="collapse",at="collapsing",lo="collapsed",ho=`:scope .${$e} .${$e}`,po="collapse-horizontal",fo="width",mo="height",_o=".collapse.show, .collapse.collapsing",mn='[data-bs-toggle="collapse"]',go={parent:null,toggle:!0},Eo={parent:"(null|element)",toggle:"boolean"};class Ke extends H{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const s=g.find(mn);for(const i of s){const r=g.getSelectorFromElement(i),o=g.find(r).filter(a=>a===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return go}static get DefaultType(){return Eo}static get NAME(){return no}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(_o).filter(a=>a!==this._element).map(a=>Ke.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||h.trigger(this._element,ro).defaultPrevented)return;for(const a of e)a.hide();const s=this._getDimension();this._element.classList.remove($e),this._element.classList.add(at),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(at),this._element.classList.add($e,tn),this._element.style[s]="",h.trigger(this._element,oo)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||h.trigger(this._element,ao).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Je(this._element),this._element.classList.add(at),this._element.classList.remove($e,tn);for(const i of this._triggerArray){const r=g.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(at),this._element.classList.add($e),h.trigger(this._element,uo)};this._element.style[t]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(tn)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=ce(e.parent),e}_getDimension(){return this._element.classList.contains(po)?fo:mo}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(mn);for(const t of e){const s=g.getElementFromSelector(t);s&&this._addAriaAndCollapsedClass([t],this._isShown(s))}}_getFirstLevelChildren(e){const t=g.find(ho,this._config.parent);return g.find(e,this._config.parent).filter(s=>!t.includes(s))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const s of e)s.classList.toggle(lo,!t),s.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const s=Ke.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}h.on(document,co,mn,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of g.getMultipleElementsFromSelector(this))Ke.getOrCreateInstance(e,{toggle:!1}).toggle()});Z(Ke);const Yn="dropdown",vo="bs.dropdown",Ce=`.${vo}`,Sn=".data-api",bo="Escape",qn="Tab",ko="ArrowUp",Gn="ArrowDown",Ao=2,Co=`hide${Ce}`,yo=`hidden${Ce}`,To=`show${Ce}`,wo=`shown${Ce}`,si=`click${Ce}${Sn}`,ii=`keydown${Ce}${Sn}`,So=`keyup${Ce}${Sn}`,Oe="show",Io="dropup",Do="dropend",Lo="dropstart",Oo="dropup-center",$o="dropdown-center",_e='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',xo=`${_e}.${Oe}`,gt=".dropdown-menu",No=".navbar",Fo=".navbar-nav",Mo=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Bo=P()?"top-end":"top-start",Ro=P()?"top-start":"top-end",Vo=P()?"bottom-end":"bottom-start",Po=P()?"bottom-start":"bottom-end",zo=P()?"left-start":"right-start",Zo=P()?"right-start":"left-start",jo="top",Uo="bottom",Ho={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ko={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class W extends H{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=g.next(this._element,gt)[0]||g.prev(this._element,gt)[0]||g.findOne(gt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ho}static get DefaultType(){return Ko}static get NAME(){return Yn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(le(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!h.trigger(this._element,To,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Fo))for(const s of[].concat(...document.body.children))h.on(s,"mouseover",bt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Oe),this._element.classList.add(Oe),h.trigger(this._element,wo,e)}}hide(){if(le(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!h.trigger(this._element,Co,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))h.off(s,"mouseover",bt);this._popper&&this._popper.destroy(),this._menu.classList.remove(Oe),this._element.classList.remove(Oe),this._element.setAttribute("aria-expanded","false"),se.removeDataAttribute(this._menu,"popper"),h.trigger(this._element,yo,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!ne(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Yn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Vs>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:ne(this._config.reference)?e=ce(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Ps(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Oe)}_getPlacement(){const e=this._parent;if(e.classList.contains(Do))return zo;if(e.classList.contains(Lo))return Zo;if(e.classList.contains(Oo))return jo;if(e.classList.contains($o))return Uo;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Io)?t?Ro:Bo:t?Po:Vo}_detectNavbar(){return this._element.closest(No)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(se.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...M(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const s=g.find(Mo,this._menu).filter(i=>Ve(i));s.length&&Tn(s,t,e===Gn,!s.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=W.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Ao||e.type==="keyup"&&e.key!==qn)return;const t=g.find(xo);for(const s of t){const i=W.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===qn||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),s=e.key===bo,i=[ko,Gn].includes(e.key);if(!i&&!s||t&&!s)return;e.preventDefault();const r=this.matches(_e)?this:g.prev(this,_e)[0]||g.next(this,_e)[0]||g.findOne(_e,e.delegateTarget.parentNode),o=W.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}h.on(document,ii,_e,W.dataApiKeydownHandler);h.on(document,ii,gt,W.dataApiKeydownHandler);h.on(document,si,W.clearMenus);h.on(document,So,W.clearMenus);h.on(document,si,_e,function(n){n.preventDefault(),W.getOrCreateInstance(this).toggle()});Z(W);const ri="backdrop",Wo="fade",Xn="show",Qn=`mousedown.bs.${ri}`,Yo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},qo={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class oi extends et{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Yo}static get DefaultType(){return qo}static get NAME(){return ri}show(e){if(!this._config.isVisible){M(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Je(t),t.classList.add(Xn),this._emulateAnimation(()=>{M(e)})}hide(e){if(!this._config.isVisible){M(e);return}this._getElement().classList.remove(Xn),this._emulateAnimation(()=>{this.dispose(),M(e)})}dispose(){this._isAppended&&(h.off(this._element,Qn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Wo),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ce(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),h.on(e,Qn,()=>{M(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Hs(e,this._getElement(),this._config.isAnimated)}}const Go="focustrap",Xo="bs.focustrap",At=`.${Xo}`,Qo=`focusin${At}`,Jo=`keydown.tab${At}`,ea="Tab",ta="forward",Jn="backward",na={autofocus:!0,trapElement:null},sa={autofocus:"boolean",trapElement:"element"};class ai extends et{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return na}static get DefaultType(){return sa}static get NAME(){return Go}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),h.off(document,At),h.on(document,Qo,e=>this._handleFocusin(e)),h.on(document,Jo,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,h.off(document,At))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const s=g.focusableChildren(t);s.length===0?t.focus():this._lastTabNavDirection===Jn?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===ea&&(this._lastTabNavDirection=e.shiftKey?Jn:ta)}}const es=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ts=".sticky-top",ut="padding-right",ns="margin-right";class _n{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ut,t=>t+e),this._setElementAttributes(es,ut,t=>t+e),this._setElementAttributes(ts,ns,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ut),this._resetElementAttributes(es,ut),this._resetElementAttributes(ts,ns)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,t);const a=window.getComputedStyle(o).getPropertyValue(t);o.style.setProperty(t,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const s=e.style.getPropertyValue(t);s&&se.setDataAttribute(e,t,s)}_resetElementAttributes(e,t){const s=i=>{const r=se.getDataAttribute(i,t);if(r===null){i.style.removeProperty(t);return}se.removeDataAttribute(i,t),i.style.setProperty(t,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,t){if(ne(e)){t(e);return}for(const s of g.find(e,this._element))t(s)}}const ia="modal",ra="bs.modal",z=`.${ra}`,oa=".data-api",aa="Escape",ua=`hide${z}`,ca=`hidePrevented${z}`,ui=`hidden${z}`,ci=`show${z}`,la=`shown${z}`,da=`resize${z}`,ha=`click.dismiss${z}`,pa=`mousedown.dismiss${z}`,fa=`keydown.dismiss${z}`,ma=`click${z}${oa}`,ss="modal-open",_a="fade",is="show",nn="modal-static",ga=".modal.show",Ea=".modal-dialog",va=".modal-body",ba='[data-bs-toggle="modal"]',ka={backdrop:!0,focus:!0,keyboard:!0},Aa={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Re extends H{constructor(e,t){super(e,t),this._dialog=g.findOne(Ea,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _n,this._addEventListeners()}static get Default(){return ka}static get DefaultType(){return Aa}static get NAME(){return ia}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||h.trigger(this._element,ci,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ss),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||h.trigger(this._element,ua).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(is),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){h.off(window,z),h.off(this._dialog,z),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new oi({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ai({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=g.findOne(va,this._dialog);t&&(t.scrollTop=0),Je(this._element),this._element.classList.add(is);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,h.trigger(this._element,la,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){h.on(this._element,fa,e=>{if(e.key===aa){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),h.on(window,da,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),h.on(this._element,pa,e=>{h.one(this._element,ha,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ss),this._resetAdjustments(),this._scrollBar.reset(),h.trigger(this._element,ui)})}_isAnimated(){return this._element.classList.contains(_a)}_triggerBackdropTransition(){if(h.trigger(this._element,ca).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(nn)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(nn),this._queueCallback(()=>{this._element.classList.remove(nn),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),s=t>0;if(s&&!e){const i=P()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!s&&e){const i=P()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const s=Re.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](t)}})}}h.on(document,ma,ba,function(n){const e=g.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),h.one(e,ci,i=>{i.defaultPrevented||h.one(e,ui,()=>{Ve(this)&&this.focus()})});const t=g.findOne(ga);t&&Re.getInstance(t).hide(),Re.getOrCreateInstance(e).toggle(this)});xt(Re);Z(Re);const Ca="offcanvas",ya="bs.offcanvas",re=`.${ya}`,li=".data-api",Ta=`load${re}${li}`,wa="Escape",rs="show",os="showing",as="hiding",Sa="offcanvas-backdrop",di=".offcanvas.show",Ia=`show${re}`,Da=`shown${re}`,La=`hide${re}`,us=`hidePrevented${re}`,hi=`hidden${re}`,Oa=`resize${re}`,$a=`click${re}${li}`,xa=`keydown.dismiss${re}`,Na='[data-bs-toggle="offcanvas"]',Fa={backdrop:!0,keyboard:!0,scroll:!1},Ma={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class de extends H{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Fa}static get DefaultType(){return Ma}static get NAME(){return Ca}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||h.trigger(this._element,Ia,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new _n().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(os);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(rs),this._element.classList.remove(os),h.trigger(this._element,Da,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||h.trigger(this._element,La).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(as),this._backdrop.hide();const t=()=>{this._element.classList.remove(rs,as),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _n().reset(),h.trigger(this._element,hi)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){h.trigger(this._element,us);return}this.hide()},t=!!this._config.backdrop;return new oi({className:Sa,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new ai({trapElement:this._element})}_addEventListeners(){h.on(this._element,xa,e=>{if(e.key===wa){if(this._config.keyboard){this.hide();return}h.trigger(this._element,us)}})}static jQueryInterface(e){return this.each(function(){const t=de.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}h.on(document,$a,Na,function(n){const e=g.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),le(this))return;h.one(e,hi,()=>{Ve(this)&&this.focus()});const t=g.findOne(di);t&&t!==e&&de.getInstance(t).hide(),de.getOrCreateInstance(e).toggle(this)});h.on(window,Ta,()=>{for(const n of g.find(di))de.getOrCreateInstance(n).show()});h.on(window,Oa,()=>{for(const n of g.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&de.getOrCreateInstance(n).hide()});xt(de);Z(de);const Ba=/^aria-[\w-]*$/i,pi={"*":["class","dir","id","lang","role",Ba],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ra=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Va=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Pa=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?Ra.has(t)?!!Va.test(n.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(t))};function za(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const u=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const d of u)Pa(d,c)||o.removeAttribute(d.nodeName)}return i.body.innerHTML}const Za="TemplateFactory",ja={allowList:pi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ua={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ha={entry:"(string|element|function|null)",selector:"(string|element)"};class Ka extends et{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return ja}static get DefaultType(){return Ua}static get NAME(){return Za}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const t=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&t.classList.add(...s.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,s]of Object.entries(e))super._typeCheckConfig({selector:t,entry:s},Ha)}_setContent(e,t,s){const i=g.findOne(s,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(ne(t)){this._putElementInTemplate(ce(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?za(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return M(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const Wa="tooltip",Ya=new Set(["sanitize","allowList","sanitizeFn"]),sn="fade",qa="modal",ct="show",Ga=".tooltip-inner",cs=`.${qa}`,ls="hide.bs.modal",je="hover",rn="focus",on="click",Xa="manual",Qa="hide",Ja="hidden",eu="show",tu="shown",nu="inserted",su="click",iu="focusin",ru="focusout",ou="mouseenter",au="mouseleave",uu={AUTO:"auto",TOP:"top",RIGHT:P()?"left":"right",BOTTOM:"bottom",LEFT:P()?"right":"left"},cu={allowList:pi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ze extends H{constructor(e,t){if(typeof Vs>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return cu}static get DefaultType(){return lu}static get NAME(){return Wa}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),h.off(this._element.closest(cs),ls,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=h.trigger(this._element,this.constructor.eventName(eu)),s=(js(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),h.trigger(this._element,this.constructor.eventName(nu))),this._popper=this._createPopper(i),i.classList.add(ct),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))h.on(a,"mouseover",bt);const o=()=>{h.trigger(this._element,this.constructor.eventName(tu)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||h.trigger(this._element,this.constructor.eventName(Qa)).defaultPrevented)return;if(this._getTipElement().classList.remove(ct),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))h.off(i,"mouseover",bt);this._activeTrigger[on]=!1,this._activeTrigger[rn]=!1,this._activeTrigger[je]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),h.trigger(this._element,this.constructor.eventName(Ja)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(sn,ct),t.classList.add(`bs-${this.constructor.NAME}-auto`);const s=Gi(this.constructor.NAME).toString();return t.setAttribute("id",s),this._isAnimated()&&t.classList.add(sn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Ka({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ga]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(sn)}_isShown(){return this.tip&&this.tip.classList.contains(ct)}_createPopper(e){const t=M(this._config.placement,[this,e,this._element]),s=uu[t.toUpperCase()];return Ps(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return M(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...t,...M(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")h.on(this._element,this.constructor.eventName(su),this._config.selector,s=>{const i=this._initializeOnDelegatedTarget(s);i._activeTrigger[on]=!(i._isShown()&&i._activeTrigger[on]),i.toggle()});else if(t!==Xa){const s=t===je?this.constructor.eventName(ou):this.constructor.eventName(iu),i=t===je?this.constructor.eventName(au):this.constructor.eventName(ru);h.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?rn:je]=!0,o._enter()}),h.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?rn:je]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},h.on(this._element.closest(cs),ls,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=se.getDataAttributes(this._element);for(const s of Object.keys(t))Ya.has(s)&&delete t[s];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:ce(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,s]of Object.entries(this._config))this.constructor.Default[t]!==s&&(e[t]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=ze.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Z(ze);const du="popover",hu=".popover-header",pu=".popover-body",fu={...ze.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},mu={...ze.DefaultType,content:"(null|string|element|function)"};class In extends ze{static get Default(){return fu}static get DefaultType(){return mu}static get NAME(){return du}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[hu]:this._getTitle(),[pu]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=In.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Z(In);const _u="scrollspy",gu="bs.scrollspy",Dn=`.${gu}`,Eu=".data-api",vu=`activate${Dn}`,ds=`click${Dn}`,bu=`load${Dn}${Eu}`,ku="dropdown-item",De="active",Au='[data-bs-spy="scroll"]',an="[href]",Cu=".nav, .list-group",hs=".nav-link",yu=".nav-item",Tu=".list-group-item",wu=`${hs}, ${yu} > ${hs}, ${Tu}`,Su=".dropdown",Iu=".dropdown-toggle",Du={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Lu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Mt extends H{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Du}static get DefaultType(){return Lu}static get NAME(){return _u}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ce(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(h.off(this._config.target,ds),h.on(this._config.target,ds,an,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const s=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(t(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(s(o),!i)return;continue}!r&&!a&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=g.find(an,this._config.target);for(const t of e){if(!t.hash||le(t))continue;const s=g.findOne(decodeURI(t.hash),this._element);Ve(s)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(De),this._activateParents(e),h.trigger(this._element,vu,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(ku)){g.findOne(Iu,e.closest(Su)).classList.add(De);return}for(const t of g.parents(e,Cu))for(const s of g.prev(t,wu))s.classList.add(De)}_clearActiveClass(e){e.classList.remove(De);const t=g.find(`${an}.${De}`,e);for(const s of t)s.classList.remove(De)}static jQueryInterface(e){return this.each(function(){const t=Mt.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}h.on(window,bu,()=>{for(const n of g.find(Au))Mt.getOrCreateInstance(n)});Z(Mt);const Ou="tab",$u="bs.tab",ye=`.${$u}`,xu=`hide${ye}`,Nu=`hidden${ye}`,Fu=`show${ye}`,Mu=`shown${ye}`,Bu=`click${ye}`,Ru=`keydown${ye}`,Vu=`load${ye}`,Pu="ArrowLeft",ps="ArrowRight",zu="ArrowUp",fs="ArrowDown",un="Home",ms="End",ge="active",_s="fade",cn="show",Zu="dropdown",fi=".dropdown-toggle",ju=".dropdown-menu",ln=`:not(${fi})`,Uu='.list-group, .nav, [role="tablist"]',Hu=".nav-item, .list-group-item",Ku=`.nav-link${ln}, .list-group-item${ln}, [role="tab"]${ln}`,mi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',dn=`${Ku}, ${mi}`,Wu=`.${ge}[data-bs-toggle="tab"], .${ge}[data-bs-toggle="pill"], .${ge}[data-bs-toggle="list"]`;class be extends H{constructor(e){super(e),this._parent=this._element.closest(Uu),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),h.on(this._element,Ru,t=>this._keydown(t)))}static get NAME(){return Ou}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),s=t?h.trigger(t,xu,{relatedTarget:e}):null;h.trigger(e,Fu,{relatedTarget:t}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ge),this._activate(g.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(cn);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),h.trigger(e,Mu,{relatedTarget:t})};this._queueCallback(s,e,e.classList.contains(_s))}_deactivate(e,t){if(!e)return;e.classList.remove(ge),e.blur(),this._deactivate(g.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(cn);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),h.trigger(e,Nu,{relatedTarget:t})};this._queueCallback(s,e,e.classList.contains(_s))}_keydown(e){if(![Pu,ps,zu,fs,un,ms].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!le(i));let s;if([un,ms].includes(e.key))s=t[e.key===un?0:t.length-1];else{const i=[ps,fs].includes(e.key);s=Tn(t,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),be.getOrCreateInstance(s).show())}_getChildren(){return g.find(dn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const s of t)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",t),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=g.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const s=this._getOuterElement(e);if(!s.classList.contains(Zu))return;const i=(r,o)=>{const a=g.findOne(r,s);a&&a.classList.toggle(o,t)};i(fi,ge),i(ju,cn),s.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,s){e.hasAttribute(t)||e.setAttribute(t,s)}_elemIsActive(e){return e.classList.contains(ge)}_getInnerElement(e){return e.matches(dn)?e:g.findOne(dn,e)}_getOuterElement(e){return e.closest(Hu)||e}static jQueryInterface(e){return this.each(function(){const t=be.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}h.on(document,Bu,mi,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!le(this)&&be.getOrCreateInstance(this).show()});h.on(window,Vu,()=>{for(const n of g.find(Wu))be.getOrCreateInstance(n)});Z(be);const Yu="toast",qu="bs.toast",pe=`.${qu}`,Gu=`mouseover${pe}`,Xu=`mouseout${pe}`,Qu=`focusin${pe}`,Ju=`focusout${pe}`,ec=`hide${pe}`,tc=`hidden${pe}`,nc=`show${pe}`,sc=`shown${pe}`,ic="fade",gs="hide",lt="show",dt="showing",rc={animation:"boolean",autohide:"boolean",delay:"number"},oc={animation:!0,autohide:!0,delay:5e3};class Bt extends H{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return oc}static get DefaultType(){return rc}static get NAME(){return Yu}show(){if(h.trigger(this._element,nc).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ic);const t=()=>{this._element.classList.remove(dt),h.trigger(this._element,sc),this._maybeScheduleHide()};this._element.classList.remove(gs),Je(this._element),this._element.classList.add(lt,dt),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||h.trigger(this._element,ec).defaultPrevented)return;const t=()=>{this._element.classList.add(gs),this._element.classList.remove(dt,lt),h.trigger(this._element,tc)};this._element.classList.add(dt),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lt),super.dispose()}isShown(){return this._element.classList.contains(lt)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){h.on(this._element,Gu,e=>this._onInteraction(e,!0)),h.on(this._element,Xu,e=>this._onInteraction(e,!1)),h.on(this._element,Qu,e=>this._onInteraction(e,!0)),h.on(this._element,Ju,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Bt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}xt(Bt);Z(Bt);function ue(n){return typeof n=="string"||n instanceof String}function Es(n){var e;return typeof n=="object"&&n!=null&&(n==null||(e=n.constructor)==null?void 0:e.name)==="Object"}function _i(n,e){return Array.isArray(e)?_i(n,(t,s)=>e.includes(s)):Object.entries(n).reduce((t,s)=>{let[i,r]=s;return e(r,i)&&(t[i]=r),t},{})}const _={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function ac(n){switch(n){case _.LEFT:return _.FORCE_LEFT;case _.RIGHT:return _.FORCE_RIGHT;default:return n}}function hn(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function Ct(n,e){if(e===n)return!0;const t=Array.isArray(e),s=Array.isArray(n);let i;if(t&&s){if(e.length!=n.length)return!1;for(i=0;i<e.length;i++)if(!Ct(e[i],n[i]))return!1;return!0}if(t!=s)return!1;if(e&&n&&typeof e=="object"&&typeof n=="object"){const r=e instanceof Date,o=n instanceof Date;if(r&&o)return e.getTime()==n.getTime();if(r!=o)return!1;const a=e instanceof RegExp,u=n instanceof RegExp;if(a&&u)return e.toString()==n.toString();if(a!=u)return!1;const c=Object.keys(e);for(i=0;i<c.length;i++)if(!Object.prototype.hasOwnProperty.call(n,c[i]))return!1;for(i=0;i<c.length;i++)if(!Ct(n[c[i]],e[c[i]]))return!1;return!0}else if(e&&n&&typeof e=="function"&&typeof n=="function")return e.toString()===n.toString();return!1}class uc{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?_.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?_.RIGHT:_.LEFT}}function E(n,e){return new E.InputMask(n,e)}function gi(n){if(n==null)throw new Error("mask property should be defined");return n instanceof RegExp?E.MaskedRegExp:ue(n)?E.MaskedPattern:n===Date?E.MaskedDate:n===Number?E.MaskedNumber:Array.isArray(n)||n===Array?E.MaskedDynamic:E.Masked&&n.prototype instanceof E.Masked?n:E.Masked&&n instanceof E.Masked?n.constructor:n instanceof Function?E.MaskedFunction:(console.warn("Mask not found for mask",n),E.Masked)}function We(n){if(!n)throw new Error("Options in not defined");if(E.Masked){if(n.prototype instanceof E.Masked)return{mask:n};const{mask:e=void 0,...t}=n instanceof E.Masked?{mask:n}:Es(n)&&n.mask instanceof E.Masked?n:{};if(e){const s=e.mask;return{..._i(e,(i,r)=>!r.startsWith("_")),mask:e.constructor,_mask:s,...t}}}return Es(n)?{...n}:{mask:n}}function ie(n){if(E.Masked&&n instanceof E.Masked)return n;const e=We(n),t=gi(e.mask);if(!t)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===t&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new t(e)}E.createMask=ie;class Ln{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}E.MaskElement=Ln;const vs=90,cc=89;class Rt extends Ln{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,s;return(e=(t=(s=this.input).getRootNode)==null?void 0:t.call(s))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===vs&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===cc&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===vs&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}E.HTMLMaskElement=Rt;class lc extends Rt{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}E.HTMLMaskElement=Rt;class Ei extends Rt{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,i=t&&t.focusOffset;return i==null||s==null||s<i?s:i}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,i=t&&t.focusOffset;return i==null||s==null||s>i?s:i}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const s=this.rootElement.createRange();s.setStart(this.input.firstChild||this.input,e),s.setEnd(this.input.lastChild||this.input,t);const i=this.rootElement,r=i.getSelection&&i.getSelection();r&&(r.removeAllRanges(),r.addRange(s))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}E.HTMLContenteditableMaskElement=Ei;class Vt{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>Vt.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}Vt.MAX_LENGTH=100;class dc{constructor(e,t){this.el=e instanceof Ln?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new Ei(e):new lc(e),this.masked=ie(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new Vt,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return e==null||((t=this.masked)==null?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof E.Masked)&&this.masked.constructor===gi(e)){this.masked.updateOptions({mask:e});return}const t=e instanceof E.Masked?e:ie({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const s=this._listeners[e];s&&s.forEach(i=>i(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,s=this.masked.value,i=this.masked.rawInputValue,r=this.displayValue,o=this.unmaskedValue!==t||this.value!==s||this._rawInputValue!==i;this._unmaskedValue=t,this._value=s,this._rawInputValue=i,this.el.value!==r&&(this.el.value=r),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),o&&this._fireChangeEvents(),!this._historyChanging&&(o||this.history.isEmpty)&&this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...s}=e,i=!this.maskEquals(t),r=this.masked.optionsIsChanged(s);i&&(this.mask=t),r&&this.masked.updateOptions(s),(i||r)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,_.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const s=this._listeners[e].indexOf(t);return s>=0&&this._listeners[e].splice(s,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new uc({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),s=this.masked.rawInputValue,i=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,r=s===this.masked.rawInputValue?t.removeDirection:_.NONE;let o=this.masked.nearestInputPos(t.startChangePos+i,r);r!==_.NONE&&(o=this.masked.nearestInputPos(o,_.NONE)),this.updateControl(o),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}E.InputMask=dc;class k{static normalize(e){return Array.isArray(e)?e:[e,new k]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}E.ChangeDetails=k;class K{constructor(e,t,s){e===void 0&&(e=""),t===void 0&&(t=0),this.value=e,this.from=t,this.stop=s}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class O{constructor(e){this._value="",this._update({...O.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){t===void 0&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new K(this.extractInput(e,t),e)}appendTail(e){return ue(e)&&(e=new K(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new k({inserted:e,rawInserted:e})):new k}_appendChar(e,t,s){t===void 0&&(t={});const i=this.state;let r;if([e,r]=this.doPrepareChar(e,t),e&&(r=r.aggregate(this._appendCharRaw(e,t)),!r.rawInserted&&this.autofix==="pad")){const o=this.state;this.state=i;let a=this.pad(t);const u=this._appendCharRaw(e,t);a=a.aggregate(u),u.rawInserted||a.equals(r)?r=a:this.state=o}if(r.inserted){let o,a=this.doValidate(t)!==!1;if(a&&s!=null){const u=this.state;if(this.overwrite===!0){o=s.state;for(let d=0;d<r.rawInserted.length;++d)s.unshift(this.displayValue.length-r.tailShift)}let c=this.appendTail(s);if(a=c.rawInserted.length===s.toString().length,!(a&&c.inserted)&&this.overwrite==="shift"){this.state=u,o=s.state;for(let d=0;d<r.rawInserted.length;++d)s.shift();c=this.appendTail(s),a=c.rawInserted.length===s.toString().length}a&&c.inserted&&(this.state=u)}a||(r=new k,this.state=i,s&&o&&(s.state=o))}return r}_appendPlaceholder(){return new k}_appendEager(){return new k}append(e,t,s){if(!ue(e))throw new Error("value should be string");const i=ue(s)?new K(String(s)):s;t!=null&&t.tail&&(t._beforeTailState=this.state);let r;[e,r]=this.doPrepare(e,t);for(let o=0;o<e.length;++o){const a=this._appendChar(e[o],t,i);if(!a.rawInserted&&!this.doSkipInvalid(e[o],t,i))break;r.aggregate(a)}return(this.eager===!0||this.eager==="append")&&t!=null&&t.input&&e&&r.aggregate(this._appendEager()),i!=null&&(r.tailShift+=this.appendTail(i).tailShift),r}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new k}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,s=this.value,i=e();return this.rawInputValue=t,this.value&&this.value!==s&&s.indexOf(this.value)===0&&(this.append(s.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,i}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,s=e(this);return this.state=t,delete this._isolated,s}doSkipInvalid(e,t,s){return!!this.skipInvalid}doPrepare(e,t){return t===void 0&&(t={}),k.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return t===void 0&&(t={}),k.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,s,i,r){s===void 0&&(s=""),i===void 0&&(i=_.NONE),r===void 0&&(r={input:!0});const o=e+t,a=this.extractTail(o),u=this.eager===!0||this.eager==="remove";let c;u&&(i=ac(i),c=this.extractInput(0,o,{raw:!0}));let d=e;const f=new k;if(i!==_.NONE&&(d=this.nearestInputPos(e,t>1&&e!==0&&!u?_.NONE:i),f.tailShift=d-e),f.aggregate(this.remove(d)),u&&i!==_.NONE&&c===this.rawInputValue)if(i===_.FORCE_LEFT){let m;for(;c===this.rawInputValue&&(m=this.displayValue.length);)f.aggregate(new k({tailShift:-1})).aggregate(this.remove(m-1))}else i===_.FORCE_RIGHT&&a.unshift();return f.aggregate(this.append(s,r,a))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!Ct(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||O.EMPTY_VALUES.includes(e)&&O.EMPTY_VALUES.includes(t)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new k}}O.DEFAULTS={skipInvalid:!0};O.EMPTY_VALUES=[void 0,null,""];E.Masked=O;class Ee{constructor(e,t){e===void 0&&(e=[]),t===void 0&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=ue(e)?new K(String(e)):e;const t=this.chunks[this.chunks.length-1],s=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof K)s?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof Ee){if(e.stop==null){let i;for(;e.chunks.length&&e.chunks[0].stop==null;)i=e.chunks.shift(),i.from+=e.from,this.extend(i)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof E.MaskedPattern))return new K(this.toString()).appendTo(e);const t=new k;for(let s=0;s<this.chunks.length;++s){const i=this.chunks[s],r=e._mapPosToBlock(e.displayValue.length),o=i.stop;let a;if(o!=null&&(!r||r.index<=o)&&((i instanceof Ee||e._stops.indexOf(o)>=0)&&t.aggregate(e._appendPlaceholder(o)),a=i instanceof Ee&&e._blocks[o]),a){const u=a.appendTail(i);t.aggregate(u);const c=i.toString().slice(u.rawInserted.length);c&&t.aggregate(e.append(c,{tail:!0}))}else t.aggregate(e.append(i.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...s}=e;Object.assign(this,s),this.chunks=t.map(i=>{const r="chunks"in i?new Ee:new K;return r.state=i,r})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let s=0;for(;s<this.chunks.length;){const i=this.chunks[s],r=i.unshift(t);if(i.toString()){if(!r)break;++s}else this.chunks.splice(s,1);if(r)return r}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],s=t.shift();if(t.toString()){if(!s)break;--e}else this.chunks.splice(e,1);if(s)return s}return""}}class hc{constructor(e,t){this.masked=e,this._log=[];const{offset:s,index:i}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=s,this.index=i,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)==null?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,_.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,_.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,_.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,_.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,_.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,_.NONE),!0})}}class vi{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new k}nearestInputPos(e,t){t===void 0&&(t=_.NONE);const s=0,i=this._value.length;switch(t){case _.LEFT:case _.FORCE_LEFT:return s;case _.NONE:case _.RIGHT:case _.FORCE_RIGHT:default:return i}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),s===void 0&&(s={}),s.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new k;const s=this.eager===!0||this.eager==="append",r=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!s)&&!t.tail,o=new k({inserted:this.char,rawInserted:r?this.char:""});return this._value=this.char,this._isRawInput=r&&(t.raw||t.input),o}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new k;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new K("")}appendTail(e){return ue(e)&&(e=new K(String(e))),e.appendTo(this)}append(e,t,s){const i=this._appendChar(e[0],t);return s!=null&&(i.tailShift+=this.appendTail(s).tailShift),i}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class yt{constructor(e){const{parent:t,isOptional:s,placeholderChar:i,displayChar:r,lazy:o,eager:a,...u}=e;this.masked=ie(u),Object.assign(this,{parent:t,isOptional:s,placeholderChar:i,displayChar:r,lazy:o,eager:a})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new k}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new k;const s=this.masked.state;let i=this.masked._appendChar(e,this.currentMaskFlags(t));return i.inserted&&this.doValidate(t)===!1&&(i=new k,this.masked.state=s),!i.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=!!i.inserted,i}append(e,t,s){return this.masked.append(e,this.currentMaskFlags(t),s)}_appendPlaceholder(){return this.isFilled||this.isOptional?new k:(this.isFilled=!0,new k({inserted:this.placeholderChar}))}_appendEager(){return new k}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.masked.extractInput(e,t,s)}nearestInputPos(e,t){t===void 0&&(t=_.NONE);const s=0,i=this.value.length,r=Math.min(Math.max(e,s),i);switch(t){case _.LEFT:case _.FORCE_LEFT:return this.isComplete?r:s;case _.RIGHT:case _.FORCE_RIGHT:return this.isComplete?r:i;case _.NONE:default:return r}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(e==null||(t=e._beforeTailState)==null?void 0:t.masked)||(e==null?void 0:e._beforeTailState)}}pad(e){return new k}}yt.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class pc extends O{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=s=>s.search(t)>=0),super._update(e)}}E.MaskedRegExp=pc;class $ extends O{constructor(e){super({...$.DEFAULTS,...e,definitions:Object.assign({},yt.DEFAULT_DEFINITIONS,e==null?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let s=!1,i=!1;for(let r=0;r<t.length;++r){if(this.blocks){const c=t.slice(r),d=Object.keys(this.blocks).filter(m=>c.indexOf(m)===0);d.sort((m,v)=>v.length-m.length);const f=d[0];if(f){const{expose:m,repeat:v,...A}=We(this.blocks[f]),C={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...A,repeat:v,parent:this},S=v!=null?new E.RepeatBlock(C):ie(C);S&&(this._blocks.push(S),m&&(this.exposeBlock=S),this._maskedBlocks[f]||(this._maskedBlocks[f]=[]),this._maskedBlocks[f].push(this._blocks.length-1)),r+=f.length-1;continue}}let o=t[r],a=o in e;if(o===$.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(o==="{"||o==="}"){s=!s;continue}if(o==="["||o==="]"){i=!i;continue}if(o===$.ESCAPE_CHAR){if(++r,o=t[r],!o)break;a=!1}const u=a?new yt({isOptional:i,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...We(e[o]),parent:this}):new vi({char:o,eager:this.eager,isUnmasking:s});this._blocks.push(u)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:t,...s}=e;this._blocks.forEach((i,r)=>i.state=t[r]),super.state=s}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new k;let s=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(s==null)return t;this._blocks[s].isFilled&&++s;for(let i=s;i<this._blocks.length;++i){const r=this._blocks[i]._appendEager();if(!r.inserted)break;t.aggregate(r)}return t}_appendCharRaw(e,t){t===void 0&&(t={});const s=this._mapPosToBlock(this.displayValue.length),i=new k;if(!s)return i;for(let o=s.index,a;a=this._blocks[o];++o){var r;const u=a._appendChar(e,{...t,_beforeTailState:(r=t._beforeTailState)==null||(r=r._blocks)==null?void 0:r[o]});if(i.aggregate(u),u.consumed)break}return i}extractTail(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=new Ee;return e===t||this._forEachBlocksInRange(e,t,(i,r,o,a)=>{const u=i.extractTail(o,a);u.stop=this._findStopBefore(r),u.from=this._blockStartPos(r),u instanceof Ee&&(u.blockIndex=r),s.extend(u)}),s}extractInput(e,t,s){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),s===void 0&&(s={}),e===t)return"";let i="";return this._forEachBlocksInRange(e,t,(r,o,a,u)=>{i+=r.extractInput(a,u,s)}),i}_findStopBefore(e){let t;for(let s=0;s<this._stops.length;++s){const i=this._stops[s];if(i<=e)t=i;else break}return t}_appendPlaceholder(e){const t=new k;if(this.lazy&&e==null)return t;const s=this._mapPosToBlock(this.displayValue.length);if(!s)return t;const i=s.index,r=e??this._blocks.length;return this._blocks.slice(i,r).forEach(o=>{if(!o.lazy||e!=null){var a;t.aggregate(o._appendPlaceholder((a=o._blocks)==null?void 0:a.length))}}),t}_mapPosToBlock(e){let t="";for(let s=0;s<this._blocks.length;++s){const i=this._blocks[s],r=t.length;if(t+=i.displayValue,e<=t.length)return{index:s,offset:e-r}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,s)=>t+=s.displayValue.length,0)}_forEachBlocksInRange(e,t,s){t===void 0&&(t=this.displayValue.length);const i=this._mapPosToBlock(e);if(i){const r=this._mapPosToBlock(t),o=r&&i.index===r.index,a=i.offset,u=r&&o?r.offset:this._blocks[i.index].displayValue.length;if(s(this._blocks[i.index],i.index,a,u),r&&!o){for(let c=i.index+1;c<r.index;++c)s(this._blocks[c],c,0,this._blocks[c].displayValue.length);s(this._blocks[r.index],r.index,0,r.offset)}}}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=super.remove(e,t);return this._forEachBlocksInRange(e,t,(i,r,o,a)=>{s.aggregate(i.remove(o,a))}),s}nearestInputPos(e,t){if(t===void 0&&(t=_.NONE),!this._blocks.length)return 0;const s=new hc(this,e);if(t===_.NONE)return s.pushRightBeforeInput()||(s.popState(),s.pushLeftBeforeInput())?s.pos:this.displayValue.length;if(t===_.LEFT||t===_.FORCE_LEFT){if(t===_.LEFT){if(s.pushRightBeforeFilled(),s.ok&&s.pos===e)return e;s.popState()}if(s.pushLeftBeforeInput(),s.pushLeftBeforeRequired(),s.pushLeftBeforeFilled(),t===_.LEFT){if(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.ok&&s.pos<=e||(s.popState(),s.ok&&s.pos<=e))return s.pos;s.popState()}return s.ok?s.pos:t===_.FORCE_LEFT?0:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:0)}return t===_.RIGHT||t===_.FORCE_RIGHT?(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.pushRightBeforeFilled()?s.pos:t===_.FORCE_RIGHT?this.displayValue.length:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:this.nearestInputPos(e,_.LEFT))):e}totalInputPositions(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);let s=0;return this._forEachBlocksInRange(e,t,(i,r,o,a)=>{s+=i.totalInputPositions(o,a)}),s}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(s=>this._blocks[s]):[]}pad(e){const t=new k;return this._forEachBlocksInRange(0,this.displayValue.length,s=>t.aggregate(s.pad(e))),t}}$.DEFAULTS={...O.DEFAULTS,lazy:!0,placeholderChar:"_"};$.STOP_CHAR="`";$.ESCAPE_CHAR="\\";$.InputDefinition=yt;$.FixedDefinition=vi;E.MaskedPattern=$;class Et extends ${get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:s=this.from||0,maxLength:i=this.maxLength||0,autofix:r=this.autofix,...o}=e;this.to=t,this.from=s,this.maxLength=Math.max(String(t).length,i),this.autofix=r;const a=String(this.from).padStart(this.maxLength,"0"),u=String(this.to).padStart(this.maxLength,"0");let c=0;for(;c<u.length&&u[c]===a[c];)++c;o.mask=u.slice(0,c).replace(/0/g,"\\0")+"0".repeat(this.maxLength-c),super._update(o)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",s="";const[,i,r]=e.match(/^(\D*)(\d*)(\D*)/)||[];return r&&(t="0".repeat(i.length)+r,s="9".repeat(i.length)+r),t=t.padEnd(this.maxLength,"0"),s=s.padEnd(this.maxLength,"9"),[t,s]}doPrepareChar(e,t){t===void 0&&(t={});let s;return[e,s]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(s.skip=!this.isComplete),[e,s]}_appendCharRaw(e,t){if(t===void 0&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const s=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),[r,o]=this.boundaries(this.value+e);return Number(o)<this.from?super._appendCharRaw(s[this.value.length],t):Number(r)>this.to?!t.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(s[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(i[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[i,r]=this.boundaries(t);return this.from<=Number(r)&&Number(i)<=this.to&&super.doValidate(e)}pad(e){const t=new k;if(this.value.length===this.maxLength)return t;const s=this.value,i=this.maxLength-this.value.length;if(i){this.reset();for(let r=0;r<i;++r)t.aggregate(super._appendCharRaw("0",e));s.split("").forEach(r=>this._appendCharRaw(r))}return t}}E.MaskedRange=Et;const fc="d{.}`m{.}`Y";class X extends ${static extractPatternOptions(e){const{mask:t,pattern:s,...i}=e;return{...i,mask:ue(t)?t:s}}constructor(e){super(X.extractPatternOptions({...X.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:s,blocks:i,...r}={...X.DEFAULTS,...e},o=Object.assign({},X.GET_DEFAULT_BLOCKS());e.min&&(o.Y.from=e.min.getFullYear()),e.max&&(o.Y.to=e.max.getFullYear()),e.min&&e.max&&o.Y.from===o.Y.to&&(o.m.from=e.min.getMonth()+1,o.m.to=e.max.getMonth()+1,o.m.from===o.m.to&&(o.d.from=e.min.getDate(),o.d.to=e.max.getDate())),Object.assign(o,this.blocks,i),super._update({...r,mask:ue(t)?t:s,blocks:o})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(X.extractPatternOptions(e))}}X.GET_DEFAULT_BLOCKS=()=>({d:{mask:Et,from:1,to:31,maxLength:2},m:{mask:Et,from:1,to:12,maxLength:2},Y:{mask:Et,from:1900,to:9999}});X.DEFAULTS={...$.DEFAULTS,mask:Date,pattern:fc,format:(n,e)=>{if(!n)return"";const t=String(n.getDate()).padStart(2,"0"),s=String(n.getMonth()+1).padStart(2,"0"),i=n.getFullYear();return[t,s,i].join(".")},parse:(n,e)=>{const[t,s,i]=n.split(".").map(Number);return new Date(i,s-1,t)}};E.MaskedDate=X;class Pt extends O{constructor(e){super({...Pt.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>{const{expose:s,...i}=We(t),r=ie({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...i});return s&&(this.exposeMask=r),r}):[])}_appendCharRaw(e,t){t===void 0&&(t={});const s=this._applyDispatch(e,t);return this.currentMask&&s.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),s}_applyDispatch(e,t,s){e===void 0&&(e=""),t===void 0&&(t={}),s===void 0&&(s="");const i=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,r=this.rawInputValue,o=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:r,a=r.slice(o.length),u=this.currentMask,c=new k,d=u==null?void 0:u.state;return this.currentMask=this.doDispatch(e,{...t},s),this.currentMask&&(this.currentMask!==u?(this.currentMask.reset(),o&&(this.currentMask.append(o,{raw:!0}),c.tailShift=this.currentMask.value.length-i.length),a&&(c.tailShift+=this.currentMask.append(a,{raw:!0,tail:!0}).tailShift)):d&&(this.currentMask.state=d)),c}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new k;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,s;return{...e,_beforeTailState:((t=e._beforeTailState)==null?void 0:t.currentMaskRef)===this.currentMask&&((s=e._beforeTailState)==null?void 0:s.currentMask)||e._beforeTailState}}doDispatch(e,t,s){return t===void 0&&(t={}),s===void 0&&(s=""),this.dispatch(e,this,t,s)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){t===void 0&&(t={});let[s,i]=super.doPrepare(e,t);if(this.currentMask){let r;[s,r]=super.doPrepare(s,this.currentMaskFlags(t)),i=i.aggregate(r)}return[s,i]}doPrepareChar(e,t){t===void 0&&(t={});let[s,i]=super.doPrepareChar(e,t);if(this.currentMask){let r;[s,r]=super.doPrepareChar(s,this.currentMaskFlags(t)),i=i.aggregate(r)}return[s,i]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,t){const s=new k;return this.currentMask&&s.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),s}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:s,currentMask:i,...r}=e;t&&this.compiledMasks.forEach((o,a)=>o.state=t[a]),s!=null&&(this.currentMask=s,this.currentMask.state=i),super.state=r}extractInput(e,t,s){return this.currentMask?this.currentMask.extractInput(e,t,s):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,s)=>{if(!e[s])return;const{mask:i,...r}=e[s];return Ct(t,r)&&t.maskEquals(i)}):super.maskEquals(e)}typedValueEquals(e){var t;return!!((t=this.currentMask)!=null&&t.typedValueEquals(e))}}Pt.DEFAULTS={...O.DEFAULTS,dispatch:(n,e,t,s)=>{if(!e.compiledMasks.length)return;const i=e.rawInputValue,r=e.compiledMasks.map((o,a)=>{const u=e.currentMask===o,c=u?o.displayValue.length:o.nearestInputPos(o.displayValue.length,_.FORCE_LEFT);return o.rawInputValue!==i?(o.reset(),o.append(i,{raw:!0})):u||o.remove(c),o.append(n,e.currentMaskFlags(t)),o.appendTail(s),{index:a,weight:o.rawInputValue.length,totalInputPositions:o.totalInputPositions(0,Math.max(c,o.nearestInputPos(o.displayValue.length,_.FORCE_LEFT)))}});return r.sort((o,a)=>a.weight-o.weight||a.totalInputPositions-o.totalInputPositions),e.compiledMasks[r[0].index]}};E.MaskedDynamic=Pt;class zt extends ${constructor(e){super({...zt.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...s}=e;if(t){const i=t.map(a=>a.length),r=Math.min(...i),o=Math.max(...i)-r;s.mask="*".repeat(r),o&&(s.mask+="["+"*".repeat(o)+"]"),this.enum=t}super._update(s)}_appendCharRaw(e,t){t===void 0&&(t={});const s=Math.min(this.nearestInputPos(0,_.FORCE_RIGHT),this.value.length),i=this.enum.filter(r=>this.matchValue(r,this.unmaskedValue+e,s));if(i.length){i.length===1&&this._forEachBlocksInRange(0,this.value.length,(o,a)=>{const u=i[0][a];a>=this.value.length||u===o.value||(o.reset(),o._appendChar(u,t))});const r=super._appendCharRaw(i[0][this.value.length],t);return i.length===1&&i[0].slice(this.unmaskedValue.length).split("").forEach(o=>r.aggregate(super._appendCharRaw(o))),r}return new k({skip:!this.isComplete})}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new K("",e)}remove(e,t){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),e===t)return new k;const s=Math.min(super.nearestInputPos(0,_.FORCE_RIGHT),this.value.length);let i;for(i=e;i>=0&&!(this.enum.filter(a=>this.matchValue(a,this.value.slice(s,i),s)).length>1);--i);const r=super.remove(i,t);return r.tailShift+=i-e,r}get isComplete(){return this.enum.indexOf(this.value)>=0}}zt.DEFAULTS={...$.DEFAULTS,matchValue:(n,e,t)=>n.indexOf(e,t)===t};E.MaskedEnum=zt;class mc extends O{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}E.MaskedFunction=mc;var bi;class V extends O{constructor(e){super({...V.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",s=(this.scale?"("+hn(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+t+s),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(hn).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(hn(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){t===void 0&&(t={});const[s,i]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!s&&(i.skip=!0),s&&!this.allowPositive&&!this.value&&s!=="-"&&i.aggregate(this._appendChar("-")),[s,i]}_separatorsCount(e,t){t===void 0&&(t=!1);let s=0;for(let i=0;i<e;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++s,t&&(e+=this.thousandsSeparator.length));return s}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,s))}_appendCharRaw(e,t){t===void 0&&(t={});const s=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(s);this._value=this._removeThousandsSeparators(this.value);const r=this._value;this._value+=e;const o=this.number;let a=!isNaN(o),u=!1;if(a){let m;this.min!=null&&this.min<0&&this.number<this.min&&(m=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(m=this.max),m!=null&&(this.autofix?(this._value=this.format(m,this).replace(V.UNMASKED_RADIX,this.radix),u||(u=r===this._value&&!t.tail)):a=!1),a&&(a=!!this._value.match(this._numberRegExp))}let c;a?c=new k({inserted:this._value.slice(r.length),rawInserted:u?"":e,skip:u}):(this._value=r,c=new k),this._value=this._insertThousandsSeparators(this._value);const d=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,f=this._separatorsCountFromSlice(d);return c.tailShift+=(f-i)*this.thousandsSeparator.length,c}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,s=this.value.indexOf(this.thousandsSeparator,t);if(s<=e)return s}return-1}_adjustRangeWithSeparators(e,t){const s=this._findSeparatorAround(e);s>=0&&(e=s);const i=this._findSeparatorAround(t);return i>=0&&(t=i+this.thousandsSeparator.length),[e,t]}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const s=this.value.slice(0,e),i=this.value.slice(t),r=this._separatorsCount(s.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(s+i));const o=this._separatorsCountFromSlice(s);return new k({tailShift:(o-r)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case _.NONE:case _.LEFT:case _.FORCE_LEFT:{const s=this._findSeparatorAround(e-1);if(s>=0){const i=s+this.thousandsSeparator.length;if(e<i||this.value.length<=i||t===_.FORCE_LEFT)return s}break}case _.RIGHT:case _.FORCE_RIGHT:{const s=this._findSeparatorAround(e);if(s>=0)return s+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let s=this.value;this.normalizeZeros&&(s=this._normalizeZeros(s)),this.padFractionalZeros&&this.scale>0&&(s=this._padFractionalZeros(s)),this._value=s}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(s,i,r,o)=>i+o),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,s){t===void 0&&(t={});const i=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===V.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,s)&&!i}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,V.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(V.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||V.EMPTY_VALUES.includes(e)&&V.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}bi=V;V.UNMASKED_RADIX=".";V.EMPTY_VALUES=[...O.EMPTY_VALUES,0];V.DEFAULTS={...O.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[bi.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:n=>n.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};E.MaskedNumber=V;const gn={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function ki(n,e,t){e===void 0&&(e=gn.MASKED),t===void 0&&(t=gn.MASKED);const s=ie(n);return i=>s.runIsolated(r=>(r[e]=i,r[t]))}function _c(n,e,t,s){return ki(e,t,s)(n)}E.PIPE_TYPE=gn;E.createPipe=ki;E.pipe=_c;class gc extends ${get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,s,i;const{repeat:r,...o}=We(e);this._blockOpts=Object.assign({},this._blockOpts,o);const a=ie(this._blockOpts);this.repeat=(t=(s=r??a.repeat)!=null?s:this.repeat)!=null?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((i=this._blocks)==null?void 0:i.length)||0,this.repeatFrom)),blocks:{m:a},eager:a.eager,overwrite:a.overwrite,skipInvalid:a.skipInvalid,lazy:a.lazy,placeholderChar:a.placeholderChar,displayChar:a.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(ie(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,t){t===void 0&&(t={});const s=new k;for(let u=(i=(r=this._mapPosToBlock(this.displayValue.length))==null?void 0:r.index)!=null?i:Math.max(this._blocks.length-1,0),c,d;c=(o=this._blocks[u])!=null?o:d=!d&&this._allocateBlock(u);++u){var i,r,o,a;const f=c._appendChar(e,{...t,_beforeTailState:(a=t._beforeTailState)==null||(a=a._blocks)==null?void 0:a[u]});if(f.skip&&d){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(s.aggregate(f),f.consumed)break}return s}_trimEmptyTail(e,t){var s,i;e===void 0&&(e=0);const r=Math.max(((s=this._mapPosToBlock(e))==null?void 0:s.index)||0,this.repeatFrom,0);let o;t!=null&&(o=(i=this._mapPosToBlock(t))==null?void 0:i.index),o==null&&(o=this._blocks.length-1);let a=0;for(let u=o;r<=u&&!this._blocks[u].unmaskedValue;--u,++a);a&&(this._blocks.splice(o-a+1,a),this.mask=this.mask.slice(a))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=super.remove(e,t);return this._trimEmptyTail(e,t),s}totalInputPositions(e,t){return e===void 0&&(e=0),t==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}E.RepeatBlock=gc;try{globalThis.IMask=E}catch{}function l(n,e,t){function s(a,u){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(n),e(a,u);for(const d in o.prototype)d in a||Object.defineProperty(a,d,{value:o.prototype[d].bind(a)});a._zod.constr=o,a._zod.def=u}const i=(t==null?void 0:t.Parent)??Object;class r extends i{}Object.defineProperty(r,"name",{value:n});function o(a){var u;const c=t!=null&&t.Parent?new r:this;s(c,a),(u=c._zod).deferred??(u.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>{var u,c;return t!=null&&t.Parent&&a instanceof t.Parent?!0:(c=(u=a==null?void 0:a._zod)==null?void 0:u.traits)==null?void 0:c.has(n)}}),Object.defineProperty(o,"name",{value:n}),o}class Me extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ai extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Ci={};function ke(n){return Ci}function Ec(n){const e=Object.values(n).filter(s=>typeof s=="number");return Object.entries(n).filter(([s,i])=>e.indexOf(+s)===-1).map(([s,i])=>i)}function En(n,e){return typeof e=="bigint"?e.toString():e}function On(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function $n(n){return n==null}function xn(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}const bs=Symbol("evaluating");function y(n,e,t){let s;Object.defineProperty(n,e,{get(){if(s!==bs)return s===void 0&&(s=bs,s=t()),s},set(i){Object.defineProperty(n,e,{value:i})},configurable:!0})}function Te(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function we(...n){const e={};for(const t of n){const s=Object.getOwnPropertyDescriptors(t);Object.assign(e,s)}return Object.defineProperties({},e)}function ks(n){return JSON.stringify(n)}const yi="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Tt(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const vc=On(()=>{var n;if(typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)!=null&&n.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ye(n){if(Tt(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Tt(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function Ti(n){return Ye(n)?{...n}:Array.isArray(n)?[...n]:n}const bc=new Set(["string","number","symbol"]);function Zt(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fe(n,e,t){const s=new n._zod.constr(e??n._zod.def);return(!e||t!=null&&t.parent)&&(s._zod.parent=n),s}function b(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function kc(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}function Ac(n,e){const t=n._zod.def,s=we(n._zod.def,{get shape(){const i={};for(const r in e){if(!(r in t.shape))throw new Error(`Unrecognized key: "${r}"`);e[r]&&(i[r]=t.shape[r])}return Te(this,"shape",i),i},checks:[]});return fe(n,s)}function Cc(n,e){const t=n._zod.def,s=we(n._zod.def,{get shape(){const i={...n._zod.def.shape};for(const r in e){if(!(r in t.shape))throw new Error(`Unrecognized key: "${r}"`);e[r]&&delete i[r]}return Te(this,"shape",i),i},checks:[]});return fe(n,s)}function yc(n,e){if(!Ye(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=we(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e};return Te(this,"shape",r),r},checks:[]});return fe(n,i)}function Tc(n,e){if(!Ye(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const s={...n._zod.def.shape,...e};return Te(this,"shape",s),s},checks:n._zod.def.checks};return fe(n,t)}function wc(n,e){const t=we(n._zod.def,{get shape(){const s={...n._zod.def.shape,...e._zod.def.shape};return Te(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return fe(n,t)}function Sc(n,e,t){const s=we(e._zod.def,{get shape(){const i=e._zod.def.shape,r={...i};if(t)for(const o in t){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(r[o]=n?new n({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)r[o]=n?new n({type:"optional",innerType:i[o]}):i[o];return Te(this,"shape",r),r},checks:[]});return fe(e,s)}function Ic(n,e,t){const s=we(e._zod.def,{get shape(){const i=e._zod.def.shape,r={...i};if(t)for(const o in t){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(r[o]=new n({type:"nonoptional",innerType:i[o]}))}else for(const o in i)r[o]=new n({type:"nonoptional",innerType:i[o]});return Te(this,"shape",r),r},checks:[]});return fe(e,s)}function xe(n,e=0){var t;if(n.aborted===!0)return!0;for(let s=e;s<n.issues.length;s++)if(((t=n.issues[s])==null?void 0:t.continue)!==!0)return!0;return!1}function wi(n,e){return e.map(t=>{var s;return(s=t).path??(s.path=[]),t.path.unshift(n),t})}function ht(n){return typeof n=="string"?n:n==null?void 0:n.message}function Ae(n,e,t){var i,r,o,a,u,c;const s={...n,path:n.path??[]};if(!n.message){const d=ht((o=(r=(i=n.inst)==null?void 0:i._zod.def)==null?void 0:r.error)==null?void 0:o.call(r,n))??ht((a=e==null?void 0:e.error)==null?void 0:a.call(e,n))??ht((u=t.customError)==null?void 0:u.call(t,n))??ht((c=t.localeError)==null?void 0:c.call(t,n))??"Invalid input";s.message=d}return delete s.inst,delete s.continue,e!=null&&e.reportInput||delete s.input,s}function Nn(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function qe(...n){const[e,t,s]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:s}:{...e}}const Si=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,En,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},Ii=l("$ZodError",Si),Di=l("$ZodError",Si,{Parent:Error});function Dc(n,e=t=>t.message){const t={},s=[];for(const i of n.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):s.push(e(i));return{formErrors:s,fieldErrors:t}}function Lc(n,e=t=>t.message){const t={_errors:[]},s=i=>{for(const r of i.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(o=>s({issues:o}));else if(r.code==="invalid_key")s({issues:r.issues});else if(r.code==="invalid_element")s({issues:r.issues});else if(r.path.length===0)t._errors.push(e(r));else{let o=t,a=0;for(;a<r.path.length;){const u=r.path[a];a===r.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(e(r))):o[u]=o[u]||{_errors:[]},o=o[u],a++}}};return s(n),t}const Fn=n=>(e,t,s,i)=>{const r=s?Object.assign(s,{async:!1}):{async:!1},o=e._zod.run({value:t,issues:[]},r);if(o instanceof Promise)throw new Me;if(o.issues.length){const a=new((i==null?void 0:i.Err)??n)(o.issues.map(u=>Ae(u,r,ke())));throw yi(a,i==null?void 0:i.callee),a}return o.value},Mn=n=>async(e,t,s,i)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let o=e._zod.run({value:t,issues:[]},r);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new((i==null?void 0:i.Err)??n)(o.issues.map(u=>Ae(u,r,ke())));throw yi(a,i==null?void 0:i.callee),a}return o.value},jt=n=>(e,t,s)=>{const i=s?{...s,async:!1}:{async:!1},r=e._zod.run({value:t,issues:[]},i);if(r instanceof Promise)throw new Me;return r.issues.length?{success:!1,error:new(n??Ii)(r.issues.map(o=>Ae(o,i,ke())))}:{success:!0,data:r.value}},Oc=jt(Di),Ut=n=>async(e,t,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let r=e._zod.run({value:t,issues:[]},i);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new n(r.issues.map(o=>Ae(o,i,ke())))}:{success:!0,data:r.value}},$c=Ut(Di),xc=n=>(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Fn(n)(e,t,i)},Nc=n=>(e,t,s)=>Fn(n)(e,t,s),Fc=n=>async(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Mn(n)(e,t,i)},Mc=n=>async(e,t,s)=>Mn(n)(e,t,s),Bc=n=>(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return jt(n)(e,t,i)},Rc=n=>(e,t,s)=>jt(n)(e,t,s),Vc=n=>async(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Ut(n)(e,t,i)},Pc=n=>async(e,t,s)=>Ut(n)(e,t,s),zc=/^[cC][^\s-]{8,}$/,Zc=/^[0-9a-z]+$/,jc=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Uc=/^[0-9a-vA-V]{20}$/,Hc=/^[A-Za-z0-9]{27}$/,Kc=/^[a-zA-Z0-9_-]{21}$/,Wc=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Yc=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,As=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,qc=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Gc="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Xc(){return new RegExp(Gc,"u")}const Qc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Jc=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,el=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,tl=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nl=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Li=/^[A-Za-z0-9_-]*$/,sl=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,il=/^\+(?:[0-9]){6,14}[0-9]$/,Oi="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",rl=new RegExp(`^${Oi}$`);function $i(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ol(n){return new RegExp(`^${$i(n)}$`)}function al(n){const e=$i({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${t.join("|")})`;return new RegExp(`^${Oi}T(?:${s})$`)}const ul=n=>{const e=n?`[\\s\\S]{${(n==null?void 0:n.minimum)??0},${(n==null?void 0:n.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},cl=/^[^A-Z]*$/,ll=/^[^a-z]*$/,Y=l("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),dl=l("$ZodCheckMaxLength",(n,e)=>{var t;Y.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!$n(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(s._zod.bag.maximum=e.maximum)}),n._zod.check=s=>{const i=s.value;if(i.length<=e.maximum)return;const o=Nn(i);s.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),hl=l("$ZodCheckMinLength",(n,e)=>{var t;Y.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!$n(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(s._zod.bag.minimum=e.minimum)}),n._zod.check=s=>{const i=s.value;if(i.length>=e.minimum)return;const o=Nn(i);s.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),pl=l("$ZodCheckLengthEquals",(n,e)=>{var t;Y.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!$n(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),n._zod.check=s=>{const i=s.value,r=i.length;if(r===e.length)return;const o=Nn(i),a=r>e.length;s.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:n,continue:!e.abort})}}),Ht=l("$ZodCheckStringFormat",(n,e)=>{var t,s;Y.init(n,e),n._zod.onattach.push(i=>{const r=i._zod.bag;r.format=e.format,e.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(s=n._zod).check??(s.check=()=>{})}),fl=l("$ZodCheckRegex",(n,e)=>{Ht.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),ml=l("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=cl),Ht.init(n,e)}),_l=l("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=ll),Ht.init(n,e)}),gl=l("$ZodCheckIncludes",(n,e)=>{Y.init(n,e);const t=Zt(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=s,n._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(s)}),n._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:n,continue:!e.abort})}}),El=l("$ZodCheckStartsWith",(n,e)=>{Y.init(n,e);const t=new RegExp(`^${Zt(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:n,continue:!e.abort})}}),vl=l("$ZodCheckEndsWith",(n,e)=>{Y.init(n,e);const t=new RegExp(`.*${Zt(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:n,continue:!e.abort})}}),bl=l("$ZodCheckOverwrite",(n,e)=>{Y.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class kl{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(o=>o),i=Math.min(...s.map(o=>o.length-o.trimStart().length)),r=s.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of r)this.content.push(o)}compile(){const e=Function,t=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(r=>`  ${r}`)];return new e(...t,i.join(`
`))}}const Al={major:4,minor:1,patch:12},D=l("$ZodType",(n,e)=>{var i;var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=Al;const s=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&s.unshift(n);for(const r of s)for(const o of r._zod.onattach)o(n);if(s.length===0)(t=n._zod).deferred??(t.deferred=[]),(i=n._zod.deferred)==null||i.push(()=>{n._zod.run=n._zod.parse});else{const r=(a,u,c)=>{let d=xe(a),f;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(a))continue}else if(d)continue;const v=a.issues.length,A=m._zod.check(a);if(A instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Me;if(f||A instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await A,a.issues.length!==v&&(d||(d=xe(a,v)))});else{if(a.issues.length===v)continue;d||(d=xe(a,v))}}return f?f.then(()=>a):a},o=(a,u,c)=>{if(xe(a))return a.aborted=!0,a;const d=r(u,s,c);if(d instanceof Promise){if(c.async===!1)throw new Me;return d.then(f=>n._zod.parse(f,c))}return n._zod.parse(d,c)};n._zod.run=(a,u)=>{if(u.skipChecks)return n._zod.parse(a,u);if(u.direction==="backward"){const d=n._zod.parse({value:a.value,issues:[]},{...u,skipChecks:!0});return d instanceof Promise?d.then(f=>o(f,a,u)):o(d,a,u)}const c=n._zod.parse(a,u);if(c instanceof Promise){if(u.async===!1)throw new Me;return c.then(d=>r(d,s,u))}return r(c,s,u)}}n["~standard"]={validate:r=>{var o;try{const a=Oc(n,r);return a.success?{value:a.data}:{issues:(o=a.error)==null?void 0:o.issues}}catch{return $c(n,r).then(u=>{var c;return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),Bn=l("$ZodString",(n,e)=>{var t;D.init(n,e),n._zod.pattern=[...((t=n==null?void 0:n._zod.bag)==null?void 0:t.patterns)??[]].pop()??ul(n._zod.bag),n._zod.parse=(s,i)=>{if(e.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:n}),s}}),T=l("$ZodStringFormat",(n,e)=>{Ht.init(n,e),Bn.init(n,e)}),Cl=l("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=Yc),T.init(n,e)}),yl=l("$ZodUUID",(n,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=As(s))}else e.pattern??(e.pattern=As());T.init(n,e)}),Tl=l("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=qc),T.init(n,e)}),wl=l("$ZodURL",(n,e)=>{T.init(n,e),n._zod.check=t=>{try{const s=t.value.trim(),i=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:sl.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=i.href:t.value=s;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),Sl=l("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=Xc()),T.init(n,e)}),Il=l("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=Kc),T.init(n,e)}),Dl=l("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=zc),T.init(n,e)}),Ll=l("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=Zc),T.init(n,e)}),Ol=l("$ZodULID",(n,e)=>{e.pattern??(e.pattern=jc),T.init(n,e)}),$l=l("$ZodXID",(n,e)=>{e.pattern??(e.pattern=Uc),T.init(n,e)}),xl=l("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=Hc),T.init(n,e)}),Nl=l("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=al(e)),T.init(n,e)}),Fl=l("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=rl),T.init(n,e)}),Ml=l("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=ol(e)),T.init(n,e)}),Bl=l("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=Wc),T.init(n,e)}),Rl=l("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=Qc),T.init(n,e),n._zod.onattach.push(t=>{const s=t._zod.bag;s.format="ipv4"})}),Vl=l("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=Jc),T.init(n,e),n._zod.onattach.push(t=>{const s=t._zod.bag;s.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),Pl=l("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=el),T.init(n,e)}),zl=l("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=tl),T.init(n,e),n._zod.check=t=>{const s=t.value.split("/");try{if(s.length!==2)throw new Error;const[i,r]=s;if(!r)throw new Error;const o=Number(r);if(`${o}`!==r)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function xi(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const Zl=l("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=nl),T.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{xi(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function jl(n){if(!Li.test(n))return!1;const e=n.replace(/[-_]/g,s=>s==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return xi(t)}const Ul=l("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=Li),T.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{jl(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),Hl=l("$ZodE164",(n,e)=>{e.pattern??(e.pattern=il),T.init(n,e)});function Kl(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[s]=t;if(!s)return!1;const i=JSON.parse(atob(s));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const Wl=l("$ZodJWT",(n,e)=>{T.init(n,e),n._zod.check=t=>{Kl(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),Yl=l("$ZodUnknown",(n,e)=>{D.init(n,e),n._zod.parse=t=>t}),ql=l("$ZodNever",(n,e)=>{D.init(n,e),n._zod.parse=(t,s)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function Cs(n,e,t){n.issues.length&&e.issues.push(...wi(t,n.issues)),e.value[t]=n.value}const Gl=l("$ZodArray",(n,e)=>{D.init(n,e),n._zod.parse=(t,s)=>{const i=t.value;if(!Array.isArray(i))return t.issues.push({expected:"array",code:"invalid_type",input:i,inst:n}),t;t.value=Array(i.length);const r=[];for(let o=0;o<i.length;o++){const a=i[o],u=e.element._zod.run({value:a,issues:[]},s);u instanceof Promise?r.push(u.then(c=>Cs(c,t,o))):Cs(u,t,o)}return r.length?Promise.all(r).then(()=>t):t}});function wt(n,e,t,s){n.issues.length&&e.issues.push(...wi(t,n.issues)),n.value===void 0?t in s&&(e.value[t]=void 0):e.value[t]=n.value}function Ni(n){var s,i,r,o;const e=Object.keys(n.shape);for(const a of e)if(!((o=(r=(i=(s=n.shape)==null?void 0:s[a])==null?void 0:i._zod)==null?void 0:r.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const t=kc(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function Fi(n,e,t,s,i,r){const o=[],a=i.keySet,u=i.catchall._zod,c=u.def.type;for(const d of Object.keys(e)){if(a.has(d))continue;if(c==="never"){o.push(d);continue}const f=u.run({value:e[d],issues:[]},s);f instanceof Promise?n.push(f.then(m=>wt(m,t,d,e))):wt(f,t,d,e)}return o.length&&t.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:r}),n.length?Promise.all(n).then(()=>t):t}const Xl=l("$ZodObject",(n,e)=>{D.init(n,e);const t=Object.getOwnPropertyDescriptor(e,"shape");if(!(t!=null&&t.get)){const a=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...a};return Object.defineProperty(e,"shape",{value:u}),u}})}const s=On(()=>Ni(e));y(n._zod,"propValues",()=>{const a=e.shape,u={};for(const c in a){const d=a[c]._zod;if(d.values){u[c]??(u[c]=new Set);for(const f of d.values)u[c].add(f)}}return u});const i=Tt,r=e.catchall;let o;n._zod.parse=(a,u)=>{o??(o=s.value);const c=a.value;if(!i(c))return a.issues.push({expected:"object",code:"invalid_type",input:c,inst:n}),a;a.value={};const d=[],f=o.shape;for(const m of o.keys){const A=f[m]._zod.run({value:c[m],issues:[]},u);A instanceof Promise?d.push(A.then(C=>wt(C,a,m,c))):wt(A,a,m,c)}return r?Fi(d,c,a,u,s.value,n):d.length?Promise.all(d).then(()=>a):a}}),Ql=l("$ZodObjectJIT",(n,e)=>{Xl.init(n,e);const t=n._zod.parse,s=On(()=>Ni(e)),i=m=>{const v=new kl(["shape","payload","ctx"]),A=s.value,C=F=>{const x=ks(F);return`shape[${x}]._zod.run({ value: input[${x}], issues: [] }, ctx)`};v.write("const input = payload.value;");const S=Object.create(null);let q=0;for(const F of A.keys)S[F]=`key_${q++}`;v.write("const newResult = {};");for(const F of A.keys){const x=S[F],B=ks(F);v.write(`const ${x} = ${C(F)};`),v.write(`
        if (${x}.issues.length) {
          payload.issues = payload.issues.concat(${x}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${B}, ...iss.path] : [${B}]
          })));
        }
        
        
        if (${x}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${x}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const oe=v.compile();return(F,x)=>oe(m,F,x)};let r;const o=Tt,a=!Ci.jitless,c=a&&vc.value,d=e.catchall;let f;n._zod.parse=(m,v)=>{f??(f=s.value);const A=m.value;return o(A)?a&&c&&(v==null?void 0:v.async)===!1&&v.jitless!==!0?(r||(r=i(e.shape)),m=r(m,v),d?Fi([],A,m,v,f,n):m):t(m,v):(m.issues.push({expected:"object",code:"invalid_type",input:A,inst:n}),m)}});function ys(n,e,t,s){for(const r of n)if(r.issues.length===0)return e.value=r.value,e;const i=n.filter(r=>!xe(r));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(r=>r.issues.map(o=>Ae(o,s,ke())))}),e)}const Jl=l("$ZodUnion",(n,e)=>{D.init(n,e),y(n._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),y(n._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),y(n._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),y(n._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(r=>r._zod.pattern);return new RegExp(`^(${i.map(r=>xn(r.source)).join("|")})$`)}});const t=e.options.length===1,s=e.options[0]._zod.run;n._zod.parse=(i,r)=>{if(t)return s(i,r);let o=!1;const a=[];for(const u of e.options){const c=u._zod.run({value:i.value,issues:[]},r);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(u=>ys(u,i,n,r)):ys(a,i,n,r)}}),ed=l("$ZodIntersection",(n,e)=>{D.init(n,e),n._zod.parse=(t,s)=>{const i=t.value,r=e.left._zod.run({value:i,issues:[]},s),o=e.right._zod.run({value:i,issues:[]},s);return r instanceof Promise||o instanceof Promise?Promise.all([r,o]).then(([u,c])=>Ts(t,u,c)):Ts(t,r,o)}});function vn(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(Ye(n)&&Ye(e)){const t=Object.keys(e),s=Object.keys(n).filter(r=>t.indexOf(r)!==-1),i={...n,...e};for(const r of s){const o=vn(n[r],e[r]);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};i[r]=o.data}return{valid:!0,data:i}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let s=0;s<n.length;s++){const i=n[s],r=e[s],o=vn(i,r);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};t.push(o.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function Ts(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),xe(n))return n;const s=vn(e.value,t.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return n.value=s.data,n}const td=l("$ZodEnum",(n,e)=>{D.init(n,e);const t=Ec(e.entries),s=new Set(t);n._zod.values=s,n._zod.pattern=new RegExp(`^(${t.filter(i=>bc.has(typeof i)).map(i=>typeof i=="string"?Zt(i):i.toString()).join("|")})$`),n._zod.parse=(i,r)=>{const o=i.value;return s.has(o)||i.issues.push({code:"invalid_value",values:t,input:o,inst:n}),i}}),nd=l("$ZodTransform",(n,e)=>{D.init(n,e),n._zod.parse=(t,s)=>{if(s.direction==="backward")throw new Ai(n.constructor.name);const i=e.transform(t.value,t);if(s.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(t.value=o,t));if(i instanceof Promise)throw new Me;return t.value=i,t}});function ws(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const sd=l("$ZodOptional",(n,e)=>{D.init(n,e),n._zod.optin="optional",n._zod.optout="optional",y(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),y(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${xn(t.source)})?$`):void 0}),n._zod.parse=(t,s)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>ws(r,t.value)):ws(i,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,s)}}),id=l("$ZodNullable",(n,e)=>{D.init(n,e),y(n._zod,"optin",()=>e.innerType._zod.optin),y(n._zod,"optout",()=>e.innerType._zod.optout),y(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${xn(t.source)}|null)$`):void 0}),y(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,s)=>t.value===null?t:e.innerType._zod.run(t,s)}),rd=l("$ZodDefault",(n,e)=>{D.init(n,e),n._zod.optin="optional",y(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>{if(s.direction==="backward")return e.innerType._zod.run(t,s);if(t.value===void 0)return t.value=e.defaultValue,t;const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>Ss(r,e)):Ss(i,e)}});function Ss(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const od=l("$ZodPrefault",(n,e)=>{D.init(n,e),n._zod.optin="optional",y(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>(s.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,s))}),ad=l("$ZodNonOptional",(n,e)=>{D.init(n,e),y(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(s=>s!==void 0)):void 0}),n._zod.parse=(t,s)=>{const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>Is(r,n)):Is(i,n)}});function Is(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const ud=l("$ZodCatch",(n,e)=>{D.init(n,e),y(n._zod,"optin",()=>e.innerType._zod.optin),y(n._zod,"optout",()=>e.innerType._zod.optout),y(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>{if(s.direction==="backward")return e.innerType._zod.run(t,s);const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>(t.value=r.value,r.issues.length&&(t.value=e.catchValue({...t,error:{issues:r.issues.map(o=>Ae(o,s,ke()))},input:t.value}),t.issues=[]),t)):(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(r=>Ae(r,s,ke()))},input:t.value}),t.issues=[]),t)}}),cd=l("$ZodPipe",(n,e)=>{D.init(n,e),y(n._zod,"values",()=>e.in._zod.values),y(n._zod,"optin",()=>e.in._zod.optin),y(n._zod,"optout",()=>e.out._zod.optout),y(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,s)=>{if(s.direction==="backward"){const r=e.out._zod.run(t,s);return r instanceof Promise?r.then(o=>pt(o,e.in,s)):pt(r,e.in,s)}const i=e.in._zod.run(t,s);return i instanceof Promise?i.then(r=>pt(r,e.out,s)):pt(i,e.out,s)}});function pt(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const ld=l("$ZodReadonly",(n,e)=>{D.init(n,e),y(n._zod,"propValues",()=>e.innerType._zod.propValues),y(n._zod,"values",()=>e.innerType._zod.values),y(n._zod,"optin",()=>e.innerType._zod.optin),y(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,s)=>{if(s.direction==="backward")return e.innerType._zod.run(t,s);const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(Ds):Ds(i)}});function Ds(n){return n.value=Object.freeze(n.value),n}const dd=l("$ZodCustom",(n,e)=>{Y.init(n,e),D.init(n,e),n._zod.parse=(t,s)=>t,n._zod.check=t=>{const s=t.value,i=e.fn(s);if(i instanceof Promise)return i.then(r=>Ls(r,t,s,n));Ls(i,t,s,n)}});function Ls(n,e,t,s){if(!n){const i={code:"custom",input:t,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(i.params=s._zod.def.params),e.issues.push(qe(i))}}class hd{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const s=t[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const s={...this.get(t)??{}};delete s.id;const i={...s,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function pd(){return new hd}const ft=pd();function fd(n,e){return new n({type:"string",...b(e)})}function Mi(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...b(e)})}function Os(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...b(e)})}function md(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...b(e)})}function _d(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...b(e)})}function gd(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...b(e)})}function Ed(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...b(e)})}function vd(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...b(e)})}function bd(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...b(e)})}function kd(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...b(e)})}function Ad(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...b(e)})}function Cd(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...b(e)})}function yd(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...b(e)})}function Td(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...b(e)})}function wd(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...b(e)})}function Sd(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...b(e)})}function Id(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...b(e)})}function Dd(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...b(e)})}function Ld(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...b(e)})}function Od(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...b(e)})}function $d(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...b(e)})}function xd(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...b(e)})}function Nd(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...b(e)})}function Fd(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...b(e)})}function Md(n,e){return new n({type:"string",format:"date",check:"string_format",...b(e)})}function Bd(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...b(e)})}function Rd(n,e){return new n({type:"string",format:"duration",check:"string_format",...b(e)})}function Vd(n){return new n({type:"unknown"})}function Pd(n,e){return new n({type:"never",...b(e)})}function Bi(n,e){return new dl({check:"max_length",...b(e),maximum:n})}function St(n,e){return new hl({check:"min_length",...b(e),minimum:n})}function Ri(n,e){return new pl({check:"length_equals",...b(e),length:n})}function zd(n,e){return new fl({check:"string_format",format:"regex",...b(e),pattern:n})}function Zd(n){return new ml({check:"string_format",format:"lowercase",...b(n)})}function jd(n){return new _l({check:"string_format",format:"uppercase",...b(n)})}function Ud(n,e){return new gl({check:"string_format",format:"includes",...b(e),includes:n})}function Hd(n,e){return new El({check:"string_format",format:"starts_with",...b(e),prefix:n})}function Kd(n,e){return new vl({check:"string_format",format:"ends_with",...b(e),suffix:n})}function st(n){return new bl({check:"overwrite",tx:n})}function Wd(n){return st(e=>e.normalize(n))}function Yd(){return st(n=>n.trim())}function qd(){return st(n=>n.toLowerCase())}function Gd(){return st(n=>n.toUpperCase())}function Xd(n,e,t){return new n({type:"array",element:e,...b(t)})}function Qd(n,e,t){return new n({type:"custom",check:"custom",fn:e,...b(t)})}function Jd(n){const e=eh(t=>(t.addIssue=s=>{if(typeof s=="string")t.issues.push(qe(s,t.value,e._zod.def));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=t.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),t.issues.push(qe(i))}},n(t.value,t)));return e}function eh(n,e){const t=new Y({check:"custom",...b(e)});return t._zod.check=n,t}const th=l("ZodISODateTime",(n,e)=>{Nl.init(n,e),w.init(n,e)});function nh(n){return Fd(th,n)}const sh=l("ZodISODate",(n,e)=>{Fl.init(n,e),w.init(n,e)});function ih(n){return Md(sh,n)}const rh=l("ZodISOTime",(n,e)=>{Ml.init(n,e),w.init(n,e)});function oh(n){return Bd(rh,n)}const ah=l("ZodISODuration",(n,e)=>{Bl.init(n,e),w.init(n,e)});function uh(n){return Rd(ah,n)}const ch=(n,e)=>{Ii.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>Lc(n,t)},flatten:{value:t=>Dc(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,En,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,En,2)}},isEmpty:{get(){return n.issues.length===0}}})},j=l("ZodError",ch,{Parent:Error}),lh=Fn(j),dh=Mn(j),hh=jt(j),ph=Ut(j),fh=xc(j),mh=Nc(j),_h=Fc(j),gh=Mc(j),Eh=Bc(j),vh=Rc(j),bh=Vc(j),kh=Pc(j),L=l("ZodType",(n,e)=>(D.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(we(e,{checks:[...e.checks??[],...t.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),n.clone=(t,s)=>fe(n,t,s),n.brand=()=>n,n.register=((t,s)=>(t.add(n,s),n)),n.parse=(t,s)=>lh(n,t,s,{callee:n.parse}),n.safeParse=(t,s)=>hh(n,t,s),n.parseAsync=async(t,s)=>dh(n,t,s,{callee:n.parseAsync}),n.safeParseAsync=async(t,s)=>ph(n,t,s),n.spa=n.safeParseAsync,n.encode=(t,s)=>fh(n,t,s),n.decode=(t,s)=>mh(n,t,s),n.encodeAsync=async(t,s)=>_h(n,t,s),n.decodeAsync=async(t,s)=>gh(n,t,s),n.safeEncode=(t,s)=>Eh(n,t,s),n.safeDecode=(t,s)=>vh(n,t,s),n.safeEncodeAsync=async(t,s)=>bh(n,t,s),n.safeDecodeAsync=async(t,s)=>kh(n,t,s),n.refine=(t,s)=>n.check(dp(t,s)),n.superRefine=t=>n.check(hp(t)),n.overwrite=t=>n.check(st(t)),n.optional=()=>Fs(n),n.nullable=()=>Ms(n),n.nullish=()=>Fs(Ms(n)),n.nonoptional=t=>ip(n,t),n.array=()=>jh(n),n.or=t=>Wh([n,t]),n.and=t=>qh(n,t),n.transform=t=>Bs(n,Qh(t)),n.default=t=>tp(n,t),n.prefault=t=>sp(n,t),n.catch=t=>op(n,t),n.pipe=t=>Bs(n,t),n.readonly=()=>cp(n),n.describe=t=>{const s=n.clone();return ft.add(s,{description:t}),s},Object.defineProperty(n,"description",{get(){var t;return(t=ft.get(n))==null?void 0:t.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return ft.get(n);const s=n.clone();return ft.add(s,t[0]),s},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),Vi=l("_ZodString",(n,e)=>{Bn.init(n,e),L.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...s)=>n.check(zd(...s)),n.includes=(...s)=>n.check(Ud(...s)),n.startsWith=(...s)=>n.check(Hd(...s)),n.endsWith=(...s)=>n.check(Kd(...s)),n.min=(...s)=>n.check(St(...s)),n.max=(...s)=>n.check(Bi(...s)),n.length=(...s)=>n.check(Ri(...s)),n.nonempty=(...s)=>n.check(St(1,...s)),n.lowercase=s=>n.check(Zd(s)),n.uppercase=s=>n.check(jd(s)),n.trim=()=>n.check(Yd()),n.normalize=(...s)=>n.check(Wd(...s)),n.toLowerCase=()=>n.check(qd()),n.toUpperCase=()=>n.check(Gd())}),Ah=l("ZodString",(n,e)=>{Bn.init(n,e),Vi.init(n,e),n.email=t=>n.check(Mi(Pi,t)),n.url=t=>n.check(vd(Ch,t)),n.jwt=t=>n.check(Nd(Rh,t)),n.emoji=t=>n.check(bd(yh,t)),n.guid=t=>n.check(Os(xs,t)),n.uuid=t=>n.check(md(mt,t)),n.uuidv4=t=>n.check(_d(mt,t)),n.uuidv6=t=>n.check(gd(mt,t)),n.uuidv7=t=>n.check(Ed(mt,t)),n.nanoid=t=>n.check(kd(Th,t)),n.guid=t=>n.check(Os(xs,t)),n.cuid=t=>n.check(Ad(wh,t)),n.cuid2=t=>n.check(Cd(Sh,t)),n.ulid=t=>n.check(yd(Ih,t)),n.base64=t=>n.check(Od(Fh,t)),n.base64url=t=>n.check($d(Mh,t)),n.xid=t=>n.check(Td(Dh,t)),n.ksuid=t=>n.check(wd(Lh,t)),n.ipv4=t=>n.check(Sd(Oh,t)),n.ipv6=t=>n.check(Id($h,t)),n.cidrv4=t=>n.check(Dd(xh,t)),n.cidrv6=t=>n.check(Ld(Nh,t)),n.e164=t=>n.check(xd(Bh,t)),n.datetime=t=>n.check(nh(t)),n.date=t=>n.check(ih(t)),n.time=t=>n.check(oh(t)),n.duration=t=>n.check(uh(t))});function R(n){return fd(Ah,n)}const w=l("ZodStringFormat",(n,e)=>{T.init(n,e),Vi.init(n,e)}),Pi=l("ZodEmail",(n,e)=>{Tl.init(n,e),w.init(n,e)});function $s(n){return Mi(Pi,n)}const xs=l("ZodGUID",(n,e)=>{Cl.init(n,e),w.init(n,e)}),mt=l("ZodUUID",(n,e)=>{yl.init(n,e),w.init(n,e)}),Ch=l("ZodURL",(n,e)=>{wl.init(n,e),w.init(n,e)}),yh=l("ZodEmoji",(n,e)=>{Sl.init(n,e),w.init(n,e)}),Th=l("ZodNanoID",(n,e)=>{Il.init(n,e),w.init(n,e)}),wh=l("ZodCUID",(n,e)=>{Dl.init(n,e),w.init(n,e)}),Sh=l("ZodCUID2",(n,e)=>{Ll.init(n,e),w.init(n,e)}),Ih=l("ZodULID",(n,e)=>{Ol.init(n,e),w.init(n,e)}),Dh=l("ZodXID",(n,e)=>{$l.init(n,e),w.init(n,e)}),Lh=l("ZodKSUID",(n,e)=>{xl.init(n,e),w.init(n,e)}),Oh=l("ZodIPv4",(n,e)=>{Rl.init(n,e),w.init(n,e)}),$h=l("ZodIPv6",(n,e)=>{Vl.init(n,e),w.init(n,e)}),xh=l("ZodCIDRv4",(n,e)=>{Pl.init(n,e),w.init(n,e)}),Nh=l("ZodCIDRv6",(n,e)=>{zl.init(n,e),w.init(n,e)}),Fh=l("ZodBase64",(n,e)=>{Zl.init(n,e),w.init(n,e)}),Mh=l("ZodBase64URL",(n,e)=>{Ul.init(n,e),w.init(n,e)}),Bh=l("ZodE164",(n,e)=>{Hl.init(n,e),w.init(n,e)}),Rh=l("ZodJWT",(n,e)=>{Wl.init(n,e),w.init(n,e)}),Vh=l("ZodUnknown",(n,e)=>{Yl.init(n,e),L.init(n,e)});function Ns(){return Vd(Vh)}const Ph=l("ZodNever",(n,e)=>{ql.init(n,e),L.init(n,e)});function zh(n){return Pd(Ph,n)}const Zh=l("ZodArray",(n,e)=>{Gl.init(n,e),L.init(n,e),n.element=e.element,n.min=(t,s)=>n.check(St(t,s)),n.nonempty=t=>n.check(St(1,t)),n.max=(t,s)=>n.check(Bi(t,s)),n.length=(t,s)=>n.check(Ri(t,s)),n.unwrap=()=>n.element});function jh(n,e){return Xd(Zh,n,e)}const Uh=l("ZodObject",(n,e)=>{Ql.init(n,e),L.init(n,e),y(n,"shape",()=>e.shape),n.keyof=()=>Gh(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:Ns()}),n.loose=()=>n.clone({...n._zod.def,catchall:Ns()}),n.strict=()=>n.clone({...n._zod.def,catchall:zh()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>yc(n,t),n.safeExtend=t=>Tc(n,t),n.merge=t=>wc(n,t),n.pick=t=>Ac(n,t),n.omit=t=>Cc(n,t),n.partial=(...t)=>Sc(zi,n,t[0]),n.required=(...t)=>Ic(Zi,n,t[0])});function Hh(n,e){const t={type:"object",shape:n??{},...b(e)};return new Uh(t)}const Kh=l("ZodUnion",(n,e)=>{Jl.init(n,e),L.init(n,e),n.options=e.options});function Wh(n,e){return new Kh({type:"union",options:n,...b(e)})}const Yh=l("ZodIntersection",(n,e)=>{ed.init(n,e),L.init(n,e)});function qh(n,e){return new Yh({type:"intersection",left:n,right:e})}const bn=l("ZodEnum",(n,e)=>{td.init(n,e),L.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(s,i)=>{const r={};for(const o of s)if(t.has(o))r[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new bn({...e,checks:[],...b(i),entries:r})},n.exclude=(s,i)=>{const r={...e.entries};for(const o of s)if(t.has(o))delete r[o];else throw new Error(`Key ${o} not found in enum`);return new bn({...e,checks:[],...b(i),entries:r})}});function Gh(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(s=>[s,s])):n;return new bn({type:"enum",entries:t,...b(e)})}const Xh=l("ZodTransform",(n,e)=>{nd.init(n,e),L.init(n,e),n._zod.parse=(t,s)=>{if(s.direction==="backward")throw new Ai(n.constructor.name);t.addIssue=r=>{if(typeof r=="string")t.issues.push(qe(r,t.value,e));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=t.value),o.inst??(o.inst=n),t.issues.push(qe(o))}};const i=e.transform(t.value,t);return i instanceof Promise?i.then(r=>(t.value=r,t)):(t.value=i,t)}});function Qh(n){return new Xh({type:"transform",transform:n})}const zi=l("ZodOptional",(n,e)=>{sd.init(n,e),L.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Fs(n){return new zi({type:"optional",innerType:n})}const Jh=l("ZodNullable",(n,e)=>{id.init(n,e),L.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Ms(n){return new Jh({type:"nullable",innerType:n})}const ep=l("ZodDefault",(n,e)=>{rd.init(n,e),L.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function tp(n,e){return new ep({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():Ti(e)}})}const np=l("ZodPrefault",(n,e)=>{od.init(n,e),L.init(n,e),n.unwrap=()=>n._zod.def.innerType});function sp(n,e){return new np({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():Ti(e)}})}const Zi=l("ZodNonOptional",(n,e)=>{ad.init(n,e),L.init(n,e),n.unwrap=()=>n._zod.def.innerType});function ip(n,e){return new Zi({type:"nonoptional",innerType:n,...b(e)})}const rp=l("ZodCatch",(n,e)=>{ud.init(n,e),L.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function op(n,e){return new rp({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const ap=l("ZodPipe",(n,e)=>{cd.init(n,e),L.init(n,e),n.in=e.in,n.out=e.out});function Bs(n,e){return new ap({type:"pipe",in:n,out:e})}const up=l("ZodReadonly",(n,e)=>{ld.init(n,e),L.init(n,e),n.unwrap=()=>n._zod.def.innerType});function cp(n){return new up({type:"readonly",innerType:n})}const lp=l("ZodCustom",(n,e)=>{dd.init(n,e),L.init(n,e)});function dp(n,e={}){return Qd(lp,n,e)}function hp(n){return Jd(n)}const pp="/plantique-life/assets/img_product_11-WY76kbCO.png",fp="/plantique-life/assets/img_product_13-ByJQwkSE.png",mp="/plantique-life/assets/img_product_add_01-D_GLQqCR.png",Rn=[{source:pp,name:"荒原綠影"},{source:fp,name:"垂綠星河"},{source:mp,name:"噴霧器",position:"product-add1-position"}],Ge=[{type:"amount",name:"入會首購金 250 元",discount:250,minimumSpend:250,date:"2025.07.01 ~ 2025.12.31",code:"aaaaaa",state:""},{type:"amount",name:"好友分享禮 150 元",discount:150,minimumSpend:150,date:"2025.07.01 ~ 2025.12.31",code:"A7X9Q2",state:""},{type:"amount",name:"官方好友禮 50 元",discount:50,minimumSpend:50,date:"2025.07.01 ~ 2025.12.31",code:"M3T8kz",state:""},{type:"amount",name:"滿 5000 折 500",discount:500,minimumSpend:5e3,date:"2025.07.01 ~ 2025.12.31",code:"bbbbbb",state:""}],p={cart:[{type:"product",name:"荒原綠影",originalPrice:2400,salePrice:2400,count:1},{type:"product",name:"垂綠星河",originalPrice:3600,salePrice:3600,count:1},{type:"add-on",name:"噴霧器",originalPrice:249,salePrice:129,count:1}],subtotal:0,discount:0,total:0,delivery:{method:"黑貓宅配"},payment:{method:"信用卡一次付清",creditCardInfo:{number:["1111","2222","3333","4444"],exp:["31","01"],cvc:"123"}},purchaser:{name:"王小明",tel:"0912345678",email:"plantique@test.com"},recipient:{name:"王小明",tel:"0912345678",email:"plantique@test.com",address:"台北市信義區"},invoice:{method:"雲端載具",mobileBarcode:"/ABC1234",ubn:""},notes:""},_p=["購物車清單","付款資料","訂單確認"];let He="";const I={delivery:{id:"delivery-toggle",schema:R().refine(n=>n!=="請選擇運送方式","未選擇運送方式"),needCheck:!0},payment:{id:"payment-toggle",schema:R().refine(n=>n!=="請選擇付款方式","未選擇付款方式"),needCheck:!0},cardNumber:{id:"card-number",schema:R().regex(/^\d{4}(?: \d{4}){3}$/,"卡號輸入錯誤").min(1,"未輸入信用卡號"),needCheck:!1},cardExp:{id:"card-exp",schema:R().regex(/\d{2}\/\d{2}/,"有效期限輸入錯誤").min(1,"未輸入有效期限"),needCheck:!1},cardCvc:{id:"card-cvc",schema:R().regex(/\d{3}/,"末三碼輸入錯誤").min(1,"未輸入末三碼"),needCheck:!1},purchaserName:{id:"purchaser-name",schema:R().max(20,"訂購人姓名最長為 20").min(1,"未輸入訂購人姓名"),needCheck:!0},purchaserPhone:{id:"purchaser-phone",schema:R().regex(/^09\d{2}(?:-\d{3}){2}$/,"訂購人電話輸入錯誤").min(1,"未輸入訂購人電話"),needCheck:!0},purchaserEmail:{id:"purchaser-email",schema:$s("訂購人電子郵件輸入錯誤").min(1,"未輸入訂購人電子郵件"),needCheck:!0},recipientName:{id:"recipient-name",schema:R().max(20,"收件人姓名長度為 20").min(1,"未輸入收件人姓名"),needCheck:!0},recipientPhone:{id:"recipient-phone",schema:R().regex(/^09\d{2}(?:-\d{3}){2}$/,"收件人電話輸入錯誤").min(1,"未輸入收件人電話"),needCheck:!0},recipientEmail:{id:"recipient-email",schema:$s("收件人電子郵件輸入錯誤").min(1,"未輸入收件人電子郵件"),needCheck:!0},recipientAddress:{id:"recipient-address",schema:R().min(1,"未輸入收件人地址"),needCheck:!0},invoice:{id:"invoice-toggle",schema:R().refine(n=>n!=="請選擇發票類型","未選擇發票類型"),needCheck:!0},mobileBarcode:{id:"mobile-barcode",schema:R().length(8,"手機條碼輸入錯誤").regex(/^\/[0-9A-Z.\-\+]{7}$/,"手機條碼輸入錯誤").min(1,"未輸入手機條碼"),needCheck:!1},ubn:{id:"ubn",schema:R().regex(/\d{8}/,"統一編號輸入錯誤").min(1,"未輸入統一編號"),needCheck:!1}},Rs=document.querySelectorAll("#pills-cart-nav li button"),Vn=document.getElementById("btn-next-checkout"),vt=document.getElementById("cart-list"),kn=document.getElementById("coupon-code"),Ue=document.getElementById("coupon-selected-name"),gp=document.getElementById("coupon-check-btn"),An=document.getElementById("coupon-choose-btn"),Ep=document.getElementById("btn-back-cart"),vp=document.getElementById("btn-next-confirmation"),bp=document.querySelectorAll(".dropdown"),It=document.getElementById("creditcard-form"),Cn=It.querySelectorAll("input"),Be=document.getElementById("card-number"),ve=document.getElementById("card-exp"),Q=document.getElementById("card-cvc"),kp=E(Be,{mask:"0000 0000 0000 0000"}),Ap=E(ve,{mask:"00/00"}),Cp=E(Q,{mask:"000"}),Dt=document.getElementById("purchaser-name"),Lt=document.getElementById("purchaser-phone"),yp=E(Lt,{mask:"0000-000-000"}),Ot=document.getElementById("purchaser-email"),Kt=document.getElementById("recipient-checked"),J=document.getElementById("recipient-name"),ee=document.getElementById("recipient-phone"),Tp=E(ee,{mask:"0000-000-000"}),te=document.getElementById("recipient-email"),yn=document.getElementById("recipient-address"),Ne=document.getElementById("cloud-invoice-carrier"),Xe=document.getElementById("mobile-barcode"),Fe=document.getElementById("ubn-wrapper"),Qe=document.getElementById("ubn"),wp=E(Qe,{mask:"00000000"}),Sp=document.getElementById("checkout-notes-text"),Ip=document.getElementById("checkout-list"),Dp=document.getElementById("confirmation-list"),Lp=document.querySelectorAll(".accordion-modify"),Op=document.getElementById("btn-back-checkout");document.getElementById("btn-check-order");function $p(){return new Promise(n=>{if(window.scrollY===0){n();return}function e(){window.scrollY===0&&(window.removeEventListener("scroll",e),n())}window.addEventListener("scroll",e),window.scrollTo({top:0,behavior:"smooth"})})}async function it(n,e,t={}){const{addCompleted:s=!0,removeCompleted:i=!1}=t;await $p();const r=Rs[n],o=Rs[e];await new Promise(a=>{let u=!1;const c=()=>{u||(u=!0,be.getOrCreateInstance(o).show(),o.classList.add("step-active"),document.title=_p[e],a())};r.addEventListener("transitionend",c,{once:!0}),r.classList.remove("step-active"),s&&r.classList.add("step-completed"),i&&o.classList.remove("step-completed")})}function Pn(n,e,t,s){if([0,1,2].includes(t)){if(n.innerHTML="",e.length==0){ji(n,s);return}e.forEach((i,r)=>{let o;switch(t){case 0:o=xp(i,r);break;case 1:o=Np(i);break;case 2:o=Fp(i);break}n.appendChild(o)})}}function ji(n,e){e.disabled=!0;const t=document.createElement("li");t.classList.add("text-center"),t.innerHTML=`
      <p class="text-neutral-600 my-15">購物車尚未加入商品</p>
      <a href="#" class="btn btn-outline-neutral-400 rounded-pill py-3 px-5"
        >前往選購商品</a
      >`,n.appendChild(t)}function xp(n,e){var q,oe,F,x,B;const t=document.createElement("li");t.dataset.index=e;const s=document.createElement("div");s.classList.add("row","gx-3","gx-lg-6");const i=Rn.filter(Se=>Se.name===n.name),r=document.createElement("div");r.classList.add("col-6","col-lg-3");const o=document.createElement("img");o.classList.add("cart-product-img","w-100"),n.type==="add-on"&&o.classList.add("add-on"),(q=i[0])!=null&&q.source&&(o.src=(oe=i[0])==null?void 0:oe.source),(F=i[0])!=null&&F.source?o.classList.add("object-fit-cover"):o.classList.add("d-block"),(x=i[0])!=null&&x.position&&o.classList.add((B=i[0])==null?void 0:B.position),o.alt=n.name,r.appendChild(o);const a=document.createElement("div");a.classList.add("col-6","col-lg-9");const u=document.createElement("div");u.classList.add("d-flex","flex-column","flex-lg-row","align-items-lg-center","h-100");const c=document.createElement("div");c.classList.add("col-lg-4","pe-lg-6"),c.innerHTML=`
    ${n.type==="add-on"?'<span class="align-self-start d-inline-block fs-xs fs-lg-sm text-secondary bg-secondary-100 text-nowrap py-1 px-2 px-lg-3 mb-1 mb-lg-2">加購商品</span>':""}
    <h4 class="h6 fs-lg-5 text-neutral-700 text-nowrap mb-1 mb-lg-2">${n.name}</h4>
    <div class="d-flex mb-3 mb-lg-0 align-items-end">
      <p class="fs-8 fs-lg-7 fw-bold lh-sm noto-serif-tc text-primary-700">NT$${n.salePrice.toLocaleString()}</p>
      ${n.originalPrice===n.salePrice?"":`<p class="fs-sm fs-lg-8 noto-serif-tc fw-bold lh-sm text-neutral-400 text-decoration-line-through ms-1 ms-lg-2">$${n.originalPrice}</p>`}
    </div>`;const d=document.createElement("div");d.classList.add("d-flex","justify-content-between","col-lg-4","pe-lg-6","mb-3","mb-md-0"),d.innerHTML='<p class="d-lg-none fs-sm text-neutral-400">小計</p>';const f=document.createElement("p");f.dataset.action="subtotal",f.classList.add("fs-7","fw-bold","lh-sm","fs-lg-6","noto-serif-tc","text-primary-700"),f.textContent=`NT$${(n.salePrice*n.count).toLocaleString()}`,d.appendChild(f);const m=document.createElement("div");m.classList.add("d-flex","align-items-center","col-lg-4","pe-lg-6"),m.classList.add("mt-auto","mt-lg-0");const v=document.createElement("button");v.type="button",v.dataset.action="minus",v.classList.add("btn","border","border-2","rounded-circle","me-1","cart-product-btn","d-flex","justify-content-center","align-items-center"),v.innerHTML='<span class="material-symbols-rounded fs-6 fs-lg-5 d-block">remove</span>';const A=document.createElement("span");A.dataset.action="quantity",A.classList.add("cart-product-quantity","fs-lg-7","fw-bold","lh-sm","noto-serif-tc","text-black","text-center","me-1"),A.textContent=n.count;const C=document.createElement("button");C.type="button",C.dataset.action="add",C.classList.add("btn","border","border-2","rounded-circle","me-3","cart-product-btn","d-flex","justify-content-center","align-items-center"),C.innerHTML='<span class="material-symbols-rounded fs-6 fs-lg-5 d-block">add_2</span>';const S=document.createElement("button");return S.type="button",S.dataset.action="delete",S.classList.add("btn","border","border-2","border-danger-200","rounded-circle","ms-auto","cart-product-btn","d-flex","justify-content-center","align-items-center"),S.innerHTML='<span class="material-symbols-rounded fs-6 fs-lg-5 d-block text-danger">delete</span>',m.appendChild(v),m.appendChild(A),m.appendChild(C),m.appendChild(S),u.appendChild(c),u.appendChild(d),u.appendChild(m),a.appendChild(u),s.appendChild(r),s.appendChild(a),t.appendChild(s),t}function Np(n){var f,m,v,A,C;const e=document.createElement("li"),t=document.createElement("div");t.classList.add("row","gx-3");const s=Rn.filter(S=>S.name===n.name),i=document.createElement("div");i.classList.add("col-3");const r=document.createElement("img");r.classList.add("cart-product-img","w-100"),n.type==="add-on"&&r.classList.add("add-on"),(f=s[0])!=null&&f.source&&(r.src=(m=s[0])==null?void 0:m.source),(v=s[0])!=null&&v.source?r.classList.add("object-fit-cover"):r.classList.add("d-block"),(A=s[0])!=null&&A.position&&r.classList.add((C=s[0])==null?void 0:C.position),r.alt=n.name,i.appendChild(r);const o=document.createElement("div");o.classList.add("col-9","my-auto");const a=document.createElement("div");a.classList.add("d-flex","flex-column","flex-lg-row","gap-lg-2");const u=document.createElement("div");u.classList.add("col-lg-6","mb-1","mb-lg-0"),u.innerHTML=`
    <h4 class="fs-7 fs-lg-6 text-neutral-700 noto-serif-tc text-nowrap mb-1 mb-lg-2">${n.name}</h4>
    <p class="fs-sm text-neutral-400">商品數量 : <span class="text-neutral-500">${n.count}</span></p>`;const c=document.createElement("div");c.classList.add("d-flex","justify-content-between","col-lg-6","mb-md-0"),c.innerHTML='<p class="d-lg-none fs-sm text-neutral-400">小計</p>';const d=document.createElement("p");return d.classList.add("fs-8","fw-bold","lh-sm","fs-lg-7","noto-serif-tc","text-primary-700"),d.textContent=`NT$${(n.salePrice*n.count).toLocaleString()}`,c.appendChild(d),a.appendChild(u),a.appendChild(c),o.appendChild(a),t.appendChild(i),t.appendChild(o),e.appendChild(t),e}function Fp(n){var v,A,C,S,q;const e=document.createElement("li"),t=document.createElement("div");t.classList.add("row","gx-3","gx-lg-6");const s=Rn.filter(oe=>oe.name===n.name),i=document.createElement("div");i.classList.add("col-6","col-lg-3");const r=document.createElement("img");r.classList.add("cart-product-img","w-100"),n.type==="add-on"&&r.classList.add("add-on"),(v=s[0])!=null&&v.source&&(r.src=(A=s[0])==null?void 0:A.source),(C=s[0])!=null&&C.source?r.classList.add("object-fit-cover"):r.classList.add("d-block"),(S=s[0])!=null&&S.position&&r.classList.add((q=s[0])==null?void 0:q.position),r.alt=n.name,i.appendChild(r);const o=document.createElement("div");o.classList.add("col-6","col-lg-9");const a=document.createElement("div");a.classList.add("d-flex","flex-column","flex-lg-row","align-items-lg-center","h-100");const u=document.createElement("div");u.classList.add("col-lg-4","pe-lg-6"),u.innerHTML=`<h4 class="h6 fs-lg-5 text-neutral-700 text-nowrap mb-1 mb-lg-2">${n.name}</h4>`;const c=document.createElement("div");c.classList.add("d-flex","justify-content-between","col-lg-4","pe-lg-6","mb-md-0"),c.innerHTML='<p class="d-lg-none fs-sm text-neutral-400">小計</p>';const d=document.createElement("p");d.classList.add("fs-7","fw-bold","lh-sm","fs-lg-6","noto-serif-tc","text-primary-700"),d.textContent=`NT$${(n.salePrice*n.count).toLocaleString()}`,c.appendChild(d);const f=document.createElement("div");f.classList.add("d-flex","align-items-center","col-lg-4","pe-lg-6"),f.classList.add("justify-content-between","order-lg-1","mb-3","mb-lg-0","mt-auto","mt-lg-0"),f.innerHTML='<p class="d-lg-none fs-sm text-neutral-400">數量</p>';const m=document.createElement("span");return m.classList.add("fs-lg-7","fw-bold","lh-sm","noto-serif-tc","text-black","text-center","me-1"),m.textContent=n.count,f.appendChild(m),a.appendChild(u),a.appendChild(f),a.appendChild(c),o.appendChild(a),t.appendChild(i),t.appendChild(o),e.appendChild(t),e}function Ui(){const n=document.getElementById("couponModalList");n.innerHTML="",Ge.forEach(e=>{if(!e.state&&e.minimumSpend<=p.total){const t=document.createElement("li"),s=Hi(e,!0);t.appendChild(s),n.appendChild(t)}})}function Hi(n,e){const t=document.createElement("div");t.classList.add("coupon-layout","d-flex");const s=document.createElement("div");s.classList.add("bg-primary","d-flex","justify-content-center","align-items-center"),s.innerHTML=`
    <div class="bg-primary d-flex justify-content-center align-items-center">
      <div class="d-flex flex-column align-items-start">
        <span class="fs-sm text-white mb-1">NT$</span>
        <span class="h3 text-white">${n.discount}</span>
      </div>
    </div>`;const i=document.createElement("div");i.classList.add("flex-grow-1","d-flex","justify-content-between","align-items-center","border","border-start-0","px-3"),i.innerHTML=`
    <div class="me-3">
      <p class="fs-8 lh-sm fw-bold noto-serif-tc text-neutral-700 mb-2">
        ${n.name}
      </p>
      <p class="fs-xs fs-lg-sm text-primary-500">${n.date}</p>
    </div>`;const r=document.createElement("button");return r.type="button",r.classList.add("btn"),e?(r.classList.add("btn-primary","rounded-0","fs-sm","fs-lg-8","text-white","text-nowrap","px-3","py-2"),r.textContent="選擇"):(r.classList.add("border","border-2","border-danger-200","rounded-circle","p-2","mx-2"),r.innerHTML='<span class="material-symbols-rounded d-block text-danger">close</span>'),i.appendChild(r),t.appendChild(s),t.appendChild(i),r.addEventListener("click",()=>{e?(p.discount=n.discount,p.coupon=n,Ge.forEach(o=>o.state&&(o.state="")),n.state="selected",$t(!0,n)):(p.discount=0,delete p.coupon,n.state="",$t(!1)),Ui(),Wt(!1)}),t}function Wt(n=!1){p.subtotal=p.cart.reduce((e,t)=>e+=t.salePrice*t.count,0),p.discount=p.coupon?p.coupon.discount:0,p.total=p.subtotal-p.discount,n&&p.coupon&&p.coupon.minimumSpend>=p.total&&(Ge.forEach(e=>e.state&&(e.state="")),p.discount=0,delete p.coupon,p.total=p.subtotal,$t(!1)),Mp()}function Mp(){const n=document.getElementById("cart-subtotal"),e=document.getElementById("cart-discount"),t=document.getElementById("cart-total");n.textContent=`NT$ ${p.subtotal.toLocaleString()}`,e.textContent=`- NT$ ${p.discount.toLocaleString()}`,t.textContent=`NT$ ${p.total.toLocaleString()}`}function $t(n,e){const t=document.getElementById("couponModalSelected");t.innerHTML="",n?(t.classList.remove("unselected"),t.appendChild(Hi(e),!1),Ue.textContent=e.name,Ue.classList.add("selected"),An.textContent="編輯"):(t.classList.add("unselected"),Ue.textContent="未選擇優惠",Ue.classList.remove("selected"),An.textContent="選擇")}function me(n,e,t){const s=[],i=[],r=document.getElementById("coupon-feedback");n?(i.push("d-none"),e?(s.push("text-danger"),i.push("text-success")):(s.push("text-success"),i.push("text-danger"))):(s.push("d-none"),i.push("text-success"),i.push("text-danger")),r.classList.remove(...i),r.classList.add(...s),r.textContent=t,n||(kn.value="")}function Bp(){const n={};for(const[e,t]of Object.entries(I))t.needCheck&&(n[e]=t.schema);return Hh(n)}function U(n,e){var i;const t=n.parentElement;t.classList.add("zod-validated");const s=I[e].schema.safeParse(n.value);if(s.success)return n.classList.remove("is-invalid"),n.classList.add("is-valid"),!0;{n.classList.add("is-invalid"),n.classList.remove("is-valid");const r=t.querySelector(".zod-invalid-feedback");return r.textContent=(i=s.error.issues[0])==null?void 0:i.message,!1}}Pn(vt,p.cart,0,Vn);Wt(!1);gp.addEventListener("click",()=>{if(kn.value.trim()===""){me(!0,!0,"未輸入優惠代碼");return}const n=Ge.filter(e=>e.code===kn.value.trim());n.length===1?Ue.textContent===n[0].name?me(!0,!1,"此優惠代碼已套用"):p.subtotal<n[0].minimumSpend?me(!0,!0,"此優惠代碼未符合使用條件"):(Ge.map(e=>e.state=""),n[0].state="selected",p.discount=n[0].discount,p.coupon=n[0],$t(!0,n[0]),me(!1,!1,""),Wt(!0)):me(!0,!0,"查無此優惠代碼")});An.addEventListener("click",()=>{me(!1,!1,""),Ui()});vt.addEventListener("click",n=>{const e=n.target.closest("button");if(!e)return;const t=e.closest("li"),s=t.querySelector('[data-action="quantity"]'),i=t.querySelector('[data-action="subtotal"]'),r=p.cart[t.dataset.index];switch(e.dataset.action){case"add":console.log("點到增加",e,t),r.count++,i.textContent=`NT$${(r.salePrice*r.count).toLocaleString()}`,s.textContent=r.count;break;case"minus":console.log("點到減少",e,t),r.count>1&&(r.count--,i.textContent=`NT$${(r.salePrice*r.count).toLocaleString()}`,s.textContent=r.count);break;case"delete":console.log("點到刪除",e,t),vt.removeChild(t),p.cart.splice(p.cart.findIndex(a=>a.name===r.name),1),p.cart.length===0&&ji(vt,Vn);break;default:return}Wt(!0)});Vn.addEventListener("click",async()=>{Pn(Ip,p.cart,1);const n=document.getElementById("checkout-subtotal"),e=document.getElementById("checkout-discount"),t=document.getElementById("checkout-total");n.textContent=`NT$ ${p.subtotal.toLocaleString()}`,e.textContent=`- NT$ ${p.discount.toLocaleString()}`,t.textContent=`NT$ ${p.total.toLocaleString()}`,await it(0,1),me(!1,!1,"")});Ne.style.display="none";Ne.querySelector("input").disabled=!0;Fe.style.display="none";Fe.querySelector("input").disabled=!0;It.style.display="none";Cn.forEach(n=>n.disabled=!0);vp.addEventListener("click",async()=>{const n=document.getElementById("delivery-toggle"),e=document.getElementById("payment-toggle"),t=document.getElementById("invoice-toggle"),s=Bp(),i={delivery:n.textContent.trim(),payment:e.textContent.trim(),purchaserName:Dt.value,purchaserPhone:Lt.value,purchaserEmail:Ot.value,recipientName:J.value,recipientPhone:ee.value,recipientEmail:te.value,recipientAddress:yn.value,invoice:t.textContent.trim()};I.cardNumber.needCheck&&(i.cardNumber=Be.value),I.cardExp.needCheck&&(i.cardExp=ve.value),I.cardCvc.needCheck&&(i.cardCvc=Q.value),I.mobileBarcode.needCheck&&(i.mobileBarcode=Xe.value),I.ubn.needCheck&&(i.ubn=Qe.value);const r=s.safeParse(i);let o=!1;if(r.success||r.error.issues.forEach(a=>{const u=Object.fromEntries(Object.entries(I).filter(([v])=>v===a.path[0])),c=Object.values(u)[0].id,d=document.getElementById(c),f=d.parentElement,m=f.querySelector(".zod-invalid-feedback");o||(d.scrollIntoView({behavior:"smooth",block:"center"}),d.focus(),o=!0),f.classList.add("zod-validated"),d.classList.add("is-invalid"),m.textContent=a.message}),r.success){p.delivery=n.textContent,p.payment.method=e.textContent,e.textContent==="信用卡一次付清"&&(Be.value.split(" ").forEach((N,G)=>{p.payment.creditCardInfo.number[G]=N}),ve.value.split("/").forEach((N,G)=>{p.payment.creditCardInfo.exp[G]=N}),p.payment.creditCardInfo.cvc=Q.value),p.purchaser.name=Dt.value,p.purchaser.tel=Lt.value,p.purchaser.email=Ot.value,p.recipient.name=J.value,p.recipient.tel=ee.value,p.recipient.email=te.value,p.recipient.address=yn.value,p.invoice.method=t.textContent,t.textContent==="雲端載具"&&(p.invoice.mobileBarcode=Xe.value),t.textContent==="統一編號"&&(p.invoice.ubn=Qe.value),p.notes=Sp.value,Pn(Dp,p.cart,2);const a=document.getElementById("confirmation-subtotal");a.textContent=`NT$ ${p.subtotal.toLocaleString()}`;const u=document.getElementById("confirmation-discount");u.textContent=`- NT$ ${p.discount.toLocaleString()}`;const c=document.getElementById("confirmation-total");c.textContent=`NT$ ${p.total.toLocaleString()}`;const d=document.getElementById("confirmation-delivery");d.textContent=p.delivery;const f=document.getElementById("confirmation-payment");f.textContent=p.payment.method;const m=document.getElementById("confirmation-card-wrapper");if(p.payment.method==="信用卡一次付清"){m.style.display="block";const N=document.getElementById("confirmation-card-number");N.textContent=p.payment.creditCardInfo.number.reduce((rt,Yt,Ki)=>Ki===p.payment.creditCardInfo.number.length-1?rt+=`${Yt}`:rt+="****-","");const G=document.getElementById("confirmation-card-exp");G.textContent=p.payment.creditCardInfo.exp.reduce((rt,Yt)=>rt+=`/${Yt}`);const jn=document.getElementById("confirmation-card-cvc");jn.textContent="***"}else m.style.display="none";const v=document.getElementById("confirmation-purchaser-name");v.textContent=p.purchaser.name;const A=document.getElementById("confirmation-purchaser-phone");A.textContent=p.purchaser.tel;const C=document.getElementById("confirmation-purchaser-email");C.textContent=p.purchaser.email;const S=document.getElementById("confirmation-recipient-name");S.textContent=p.recipient.name;const q=document.getElementById("confirmation-recipient-phone");q.textContent=p.recipient.tel;const oe=document.getElementById("confirmation-recipient-email");oe.textContent=p.recipient.email;const F=document.getElementById("confirmation-recipient-address");F.textContent=p.recipient.address;const x=document.getElementById("confirmation-invoice");x.textContent=p.invoice.method;const B=document.getElementById("confirmation-mobile-barcode-wrapper");B.classList.remove("d-flex"),B.classList.add("d-none");const Se=document.getElementById("confirmation-ubn-wrapper");if(Se.classList.remove("d-flex"),Se.classList.add("d-none"),p.invoice.method==="雲端載具"){B.classList.add("d-flex"),B.classList.remove("d-none");const N=document.getElementById("confirmation-mobile-barcode");N.textContent=p.invoice.mobileBarcode}else if(p.invoice.method==="統一編號"){Se.classList.add("d-flex"),Se.classList.remove("d-none");const N=document.getElementById("confirmation-ubn");N.textContent=p.invoice.ubn}const zn=document.getElementById("accordion-notes"),Zn=document.getElementById("confirmation-notes");p.notes?(zn.style.display="block",Zn.textContent=p.notes):(zn.style.display="none",Zn.textContent=""),document.querySelectorAll(".accordion-item").forEach(N=>{N.querySelector(".accordion-button").classList.remove("collapsed"),N.querySelector(".accordion-collapse").classList.add("show")}),await it(1,2),He&&(document.querySelector(He).classList.remove("border-danger-200"),He=""),document.querySelectorAll(".zod-validated").forEach(N=>{N.classList.remove("zod-validated");const G=N.querySelector(".is-valid");G&&G.classList.remove("is-valid")})}});Ep.addEventListener("click",async()=>{await it(1,0,{addCompleted:!1,removeCompleted:!0})});bp.forEach(n=>{const e=n.querySelector(".dropdown-toggle");n.querySelectorAll(".dropdown-item").forEach(s=>{s.addEventListener("click",i=>{if(i.preventDefault(),e.textContent=s.textContent,e.classList.remove("text-neutral-500"),e.classList.add("text-neutral-700"),e.id==="invoice-toggle"&&(s.id==="mobile-barcode-item"?(I.mobileBarcode.needCheck=!0,Ne.style.display="block",Ne.querySelector("input").disabled=!1,Xe.scrollIntoView({behavior:"smooth",block:"center"}),Xe.focus()):(I.mobileBarcode.needCheck=!1,Ne.style.display="none",Ne.querySelector("input").disabled=!0),s.id==="ubn-item"?(I.ubn.needCheck=!0,Fe.style.display="block",Fe.querySelector("input").disabled=!1,Qe.scrollIntoView({behavior:"smooth",block:"center"}),Qe.focus()):(I.ubn.needCheck=!1,Fe.style.display="none",Fe.querySelector("input").disabled=!0)),e.id==="payment-toggle"&&(s.textContent==="信用卡一次付清"?(I.cardNumber.needCheck=!0,I.cardExp.needCheck=!0,I.cardCvc.needCheck=!0,It.style.display="block",Cn.forEach(r=>r.disabled=!1),Be.value===""?(Be.scrollIntoView({behavior:"smooth",block:"center"}),Be.focus()):ve.value===""?(ve.scrollIntoView({behavior:"smooth",block:"center"}),ve.focus()):(Q.scrollIntoView({behavior:"smooth",block:"center"}),Q.focus())):(I.cardNumber.needCheck=!1,I.cardExp.needCheck=!1,I.cardCvc.needCheck=!1,It.style.display="none",Cn.forEach(r=>r.disabled=!0),Q.value="",Q.classList.remove("is-valid","is-invalid"),Q.parentElement.classList.remove("zod-validated"))),n.classList.contains("zod-validated")){const r=Object.fromEntries(Object.entries(I).filter(([u,c])=>c.id===e.id));Object.values(r)[0].schema.safeParse(e.textContent).success&&(e.classList.remove("is-invalid"),e.classList.add("is-valid"))}})})});Kt.addEventListener("change",n=>{n.target.checked?(J.value=Dt.value,J.parentElement.classList.remove("zod-validated"),J.classList.remove("is-invalid","is-valid"),J.disabled=!0,ee.value=Lt.value,ee.parentElement.classList.remove("zod-validated"),ee.classList.remove("is-invalid","is-valid"),ee.disabled=!0,te.value=Ot.value,te.parentElement.classList.remove("zod-validated"),te.classList.remove("is-invalid","is-valid"),te.disabled=!0):(J.disabled=!1,ee.disabled=!1,te.disabled=!1)});kp.on("accept",n=>{const e=n.target.selectionStart;U(n.target,"cardNumber")&&e===19&&ve.focus()});Ap.on("accept",n=>{const e=n.target.selectionStart;U(n.target,"cardExp")&&e===5&&Q.focus()});Cp.on("accept",n=>U(n.target,"cardCvc"));Dt.addEventListener("input",n=>{Kt.checked&&(J.value=n.target.value),U(n.target,"purchaserName")});yp.on("accept",n=>{Kt.checked&&(ee.value=n.target.value),U(n.target,"purchaserPhone")});Ot.addEventListener("input",n=>{Kt.checked&&(te.value=n.target.value),U(n.target,"purchaserEmail")});J.addEventListener("input",n=>U(n.target,"recipientName"));Tp.on("accept",n=>U(n.target,"recipientPhone"));te.addEventListener("input",n=>U(n.target,"recipientEmail"));yn.addEventListener("input",n=>U(n.target,"recipientAddress"));Xe.addEventListener("input",n=>U(n.target,"mobileBarcode"));wp.on("accept",n=>U(n.target,"ubn"));Lp.forEach(n=>{n.addEventListener("click",async e=>{e.preventDefault(),He=n.dataset.target;const t=document.querySelector(He);await it(2,1,{addCompleted:!1,removeCompleted:!0}),setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("border-danger-200")},400)})});Op.addEventListener("click",async()=>await it(2,1,{addCompleted:!1,removeCompleted:!0}));
