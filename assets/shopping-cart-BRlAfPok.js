import{l as Fs,c as Ms,p as Xi,a as Qi,b as Ji}from"./index-D9ISY5cH.js";const er=document.querySelectorAll(".guest"),tr=document.querySelectorAll(".member");er.forEach(n=>n.classList.remove("hidden")),tr.forEach(n=>n.classList.add("hidden"));const Bs=document.getElementById("navbarNav"),Qe=document.getElementById("custom-nav-overlay"),nr=document.getElementById("custom-nav-toggle-btn");Bs.addEventListener("show.bs.collapse",()=>{Qe.classList.add("d-block"),Qe.classList.remove("d-none")});Bs.addEventListener("hidden.bs.collapse",()=>{Qe.classList.add("d-none"),Qe.classList.remove("d-block")});Qe.addEventListener("click",()=>{nr.click()});const Ge=document.getElementById("custom-btn-backtotop");window.onscroll=function(){sr()};function sr(){document.body.scrollTop>20||document.documentElement.scrollTop>20?(Ge.style.visibility="visible",Ge.style.opacity="1"):(Ge.style.visibility="hidden",Ge.style.opacity="0")}Ge.addEventListener("click",ir);function ir(){window.scrollTo({top:0,behavior:"smooth"})}/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const de=new Map,Yt={set(n,e,t){de.has(n)||de.set(n,new Map);const s=de.get(n);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,t)},get(n,e){return de.has(n)&&de.get(n).get(e)||null},remove(n,e){if(!de.has(n))return;const t=de.get(n);t.delete(e),t.size===0&&de.delete(n)}},rr=1e6,or=1e3,hn="transitionend",Rs=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),ar=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),ur=n=>{do n+=Math.floor(Math.random()*rr);while(document.getElementById(n));return n},cr=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const s=Number.parseFloat(e),i=Number.parseFloat(t);return!s&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*or)},Vs=n=>{n.dispatchEvent(new Event(hn))},re=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),me=n=>re(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(Rs(n)):null,He=n=>{if(!re(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const s=n.closest("summary");if(s&&s.parentNode!==t||s===null)return!1}return e},_e=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",zs=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?zs(n.parentNode):null},yt=()=>{},it=n=>{n.offsetHeight},Ps=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,qt=[],lr=n=>{document.readyState==="loading"?(qt.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of qt)e()}),qt.push(n)):n()},Z=()=>document.documentElement.dir==="rtl",U=n=>{lr(()=>{const e=Ps();if(e){const t=n.NAME,s=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=s,n.jQueryInterface)}})},M=(n,e=[],t=n)=>typeof n=="function"?n.call(...e):t,Zs=(n,e,t=!0)=>{if(!t){M(n);return}const i=cr(e)+5;let r=!1;const o=({target:a})=>{a===e&&(r=!0,e.removeEventListener(hn,o),M(n))};e.addEventListener(hn,o),setTimeout(()=>{r||Vs(e)},i)},An=(n,e,t,s)=>{const i=n.length;let r=n.indexOf(e);return r===-1?!t&&s?n[i-1]:n[0]:(r+=t?1:-1,s&&(r=(r+i)%i),n[Math.max(0,Math.min(r,i-1))])},dr=/[^.]*(?=\..*)\.|.*/,hr=/\..*/,pr=/::\d+$/,Gt={};let zn=1;const js={mouseenter:"mouseover",mouseleave:"mouseout"},fr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Us(n,e){return e&&`${e}::${zn++}`||n.uidEvent||zn++}function Hs(n){const e=Us(n);return n.uidEvent=e,Gt[e]=Gt[e]||{},Gt[e]}function mr(n,e){return function t(s){return Cn(s,{delegateTarget:n}),t.oneOff&&d.off(n,s.type,e),e.apply(n,[s])}}function _r(n,e,t){return function s(i){const r=n.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return Cn(i,{delegateTarget:o}),s.oneOff&&d.off(n,i.type,e,t),t.apply(o,[i])}}function Ks(n,e,t=null){return Object.values(n).find(s=>s.callable===e&&s.delegationSelector===t)}function Ws(n,e,t){const s=typeof e=="string",i=s?t:e||t;let r=Ys(n);return fr.has(r)||(r=n),[s,i,r]}function Pn(n,e,t,s,i){if(typeof e!="string"||!n)return;let[r,o,a]=Ws(e,t,s);e in js&&(o=(A=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return A.call(this,y)})(o));const u=Hs(n),c=u[a]||(u[a]={}),h=Ks(c,o,r?t:null);if(h){h.oneOff=h.oneOff&&i;return}const f=Us(o,e.replace(dr,"")),m=r?_r(n,t,o):mr(n,o);m.delegationSelector=r?t:null,m.callable=o,m.oneOff=i,m.uidEvent=f,c[f]=m,n.addEventListener(a,m,r)}function pn(n,e,t,s,i){const r=Ks(e[t],s,i);r&&(n.removeEventListener(t,r,!!i),delete e[t][r.uidEvent])}function gr(n,e,t,s){const i=e[t]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&pn(n,e,t,o.callable,o.delegationSelector)}function Ys(n){return n=n.replace(hr,""),js[n]||n}const d={on(n,e,t,s){Pn(n,e,t,s,!1)},one(n,e,t,s){Pn(n,e,t,s,!0)},off(n,e,t,s){if(typeof e!="string"||!n)return;const[i,r,o]=Ws(e,t,s),a=o!==e,u=Hs(n),c=u[o]||{},h=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(c).length)return;pn(n,u,o,r,i?t:null);return}if(h)for(const f of Object.keys(u))gr(n,u,f,e.slice(1));for(const[f,m]of Object.entries(c)){const b=f.replace(pr,"");(!a||e.includes(b))&&pn(n,u,o,m.callable,m.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const s=Ps(),i=Ys(e),r=e!==i;let o=null,a=!0,u=!0,c=!1;r&&s&&(o=s.Event(e,t),s(n).trigger(o),a=!o.isPropagationStopped(),u=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const h=Cn(new Event(e,{bubbles:a,cancelable:!0}),t);return c&&h.preventDefault(),u&&n.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function Cn(n,e={}){for(const[t,s]of Object.entries(e))try{n[t]=s}catch{Object.defineProperty(n,t,{configurable:!0,get(){return s}})}return n}function Zn(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Xt(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const oe={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Xt(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Xt(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of t){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=Zn(n.dataset[s])}return e},getDataAttribute(n,e){return Zn(n.getAttribute(`data-bs-${Xt(e)}`))}};class rt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const s=re(t)?oe.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...re(t)?oe.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[s,i]of Object.entries(t)){const r=e[s],o=re(r)?"element":ar(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const Er="5.3.8";class Y extends rt{constructor(e,t){super(),e=me(e),e&&(this._element=e,this._config=this._getConfig(t),Yt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Yt.remove(this._element,this.constructor.DATA_KEY),d.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,s=!0){Zs(e,t,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Yt.get(me(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return Er}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Qt=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>Rs(t)).join(","):null},g={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let s=n.parentNode.closest(e);for(;s;)t.push(s),s=s.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!_e(t)&&He(t))},getSelectorFromElement(n){const e=Qt(n);return e&&g.findOne(e)?e:null},getElementFromSelector(n){const e=Qt(n);return e?g.findOne(e):null},getMultipleElementsFromSelector(n){const e=Qt(n);return e?g.find(e):[]}},Nt=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,s=n.NAME;d.on(document,t,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),_e(this))return;const r=g.getElementFromSelector(this)||this.closest(`.${s}`);n.getOrCreateInstance(r)[e]()})},vr="alert",br="bs.alert",qs=`.${br}`,kr=`close${qs}`,Ar=`closed${qs}`,Cr="fade",yr="show";class Ft extends Y{static get NAME(){return vr}close(){if(d.trigger(this._element,kr).defaultPrevented)return;this._element.classList.remove(yr);const t=this._element.classList.contains(Cr);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),d.trigger(this._element,Ar),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Ft.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Nt(Ft,"close");U(Ft);const Tr="button",wr="bs.button",Sr=`.${wr}`,Ir=".data-api",Dr="active",jn='[data-bs-toggle="button"]',Lr=`click${Sr}${Ir}`;class Mt extends Y{static get NAME(){return Tr}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Dr))}static jQueryInterface(e){return this.each(function(){const t=Mt.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}d.on(document,Lr,jn,n=>{n.preventDefault();const e=n.target.closest(jn);Mt.getOrCreateInstance(e).toggle()});U(Mt);const Or="swipe",Ke=".bs.swipe",$r=`touchstart${Ke}`,xr=`touchmove${Ke}`,Nr=`touchend${Ke}`,Fr=`pointerdown${Ke}`,Mr=`pointerup${Ke}`,Br="touch",Rr="pen",Vr="pointer-event",zr=40,Pr={endCallback:null,leftCallback:null,rightCallback:null},Zr={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Tt extends rt{constructor(e,t){super(),this._element=e,!(!e||!Tt.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Pr}static get DefaultType(){return Zr}static get NAME(){return Or}dispose(){d.off(this._element,Ke)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),M(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=zr)return;const t=e/this._deltaX;this._deltaX=0,t&&M(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(d.on(this._element,Fr,e=>this._start(e)),d.on(this._element,Mr,e=>this._end(e)),this._element.classList.add(Vr)):(d.on(this._element,$r,e=>this._start(e)),d.on(this._element,xr,e=>this._move(e)),d.on(this._element,Nr,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Rr||e.pointerType===Br)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const jr="carousel",Ur="bs.carousel",Ee=`.${Ur}`,Gs=".data-api",Hr="ArrowLeft",Kr="ArrowRight",Wr=500,Ye="next",Ne="prev",Me="left",kt="right",Yr=`slide${Ee}`,Jt=`slid${Ee}`,qr=`keydown${Ee}`,Gr=`mouseenter${Ee}`,Xr=`mouseleave${Ee}`,Qr=`dragstart${Ee}`,Jr=`load${Ee}${Gs}`,eo=`click${Ee}${Gs}`,Xs="carousel",dt="active",to="slide",no="carousel-item-end",so="carousel-item-start",io="carousel-item-next",ro="carousel-item-prev",Qs=".active",Js=".carousel-item",oo=Qs+Js,ao=".carousel-item img",uo=".carousel-indicators",co="[data-bs-slide], [data-bs-slide-to]",lo='[data-bs-ride="carousel"]',ho={[Hr]:kt,[Kr]:Me},po={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},fo={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ot extends Y{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=g.findOne(uo,this._element),this._addEventListeners(),this._config.ride===Xs&&this.cycle()}static get Default(){return po}static get DefaultType(){return fo}static get NAME(){return jr}next(){this._slide(Ye)}nextWhenVisible(){!document.hidden&&He(this._element)&&this.next()}prev(){this._slide(Ne)}pause(){this._isSliding&&Vs(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){d.one(this._element,Jt,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){d.one(this._element,Jt,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?Ye:Ne;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&d.on(this._element,qr,e=>this._keydown(e)),this._config.pause==="hover"&&(d.on(this._element,Gr,()=>this.pause()),d.on(this._element,Xr,()=>this._maybeEnableCycle())),this._config.touch&&Tt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of g.find(ao,this._element))d.on(s,Qr,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Me)),rightCallback:()=>this._slide(this._directionToOrder(kt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Wr+this._config.interval))}};this._swipeHelper=new Tt(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=ho[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=g.findOne(Qs,this._indicatorsElement);t.classList.remove(dt),t.removeAttribute("aria-current");const s=g.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(dt),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const s=this._getActive(),i=e===Ye,r=t||An(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),a=b=>d.trigger(this._element,b,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(a(Yr).defaultPrevented||!s||!r)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const h=i?so:no,f=i?io:ro;r.classList.add(f),it(r),s.classList.add(h),r.classList.add(h);const m=()=>{r.classList.remove(h,f),r.classList.add(dt),s.classList.remove(dt,f,h),this._isSliding=!1,a(Jt)};this._queueCallback(m,s,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(to)}_getActive(){return g.findOne(oo,this._element)}_getItems(){return g.find(Js,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Z()?e===Me?Ne:Ye:e===Me?Ye:Ne}_orderToDirection(e){return Z()?e===Ne?Me:kt:e===Ne?kt:Me}static jQueryInterface(e){return this.each(function(){const t=ot.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}d.on(document,eo,co,function(n){const e=g.getElementFromSelector(this);if(!e||!e.classList.contains(Xs))return;n.preventDefault();const t=ot.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){t.to(s),t._maybeEnableCycle();return}if(oe.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});d.on(window,Jr,()=>{const n=g.find(lo);for(const e of n)ot.getOrCreateInstance(e)});U(ot);const mo="collapse",_o="bs.collapse",at=`.${_o}`,go=".data-api",Eo=`show${at}`,vo=`shown${at}`,bo=`hide${at}`,ko=`hidden${at}`,Ao=`click${at}${go}`,en="show",Re="collapse",ht="collapsing",Co="collapsed",yo=`:scope .${Re} .${Re}`,To="collapse-horizontal",wo="width",So="height",Io=".collapse.show, .collapse.collapsing",fn='[data-bs-toggle="collapse"]',Do={parent:null,toggle:!0},Lo={parent:"(null|element)",toggle:"boolean"};class Je extends Y{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const s=g.find(fn);for(const i of s){const r=g.getSelectorFromElement(i),o=g.find(r).filter(a=>a===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Do}static get DefaultType(){return Lo}static get NAME(){return mo}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Io).filter(a=>a!==this._element).map(a=>Je.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||d.trigger(this._element,Eo).defaultPrevented)return;for(const a of e)a.hide();const s=this._getDimension();this._element.classList.remove(Re),this._element.classList.add(ht),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(ht),this._element.classList.add(Re,en),this._element.style[s]="",d.trigger(this._element,vo)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||d.trigger(this._element,bo).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,it(this._element),this._element.classList.add(ht),this._element.classList.remove(Re,en);for(const i of this._triggerArray){const r=g.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(ht),this._element.classList.add(Re),d.trigger(this._element,ko)};this._element.style[t]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(en)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=me(e.parent),e}_getDimension(){return this._element.classList.contains(To)?wo:So}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(fn);for(const t of e){const s=g.getElementFromSelector(t);s&&this._addAriaAndCollapsedClass([t],this._isShown(s))}}_getFirstLevelChildren(e){const t=g.find(yo,this._config.parent);return g.find(e,this._config.parent).filter(s=>!t.includes(s))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const s of e)s.classList.toggle(Co,!t),s.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const s=Je.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}d.on(document,Ao,fn,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of g.getMultipleElementsFromSelector(this))Je.getOrCreateInstance(e,{toggle:!1}).toggle()});U(Je);const Un="dropdown",Oo="bs.dropdown",Le=`.${Oo}`,yn=".data-api",$o="Escape",Hn="Tab",xo="ArrowUp",Kn="ArrowDown",No=2,Fo=`hide${Le}`,Mo=`hidden${Le}`,Bo=`show${Le}`,Ro=`shown${Le}`,ei=`click${Le}${yn}`,ti=`keydown${Le}${yn}`,Vo=`keyup${Le}${yn}`,Be="show",zo="dropup",Po="dropend",Zo="dropstart",jo="dropup-center",Uo="dropdown-center",Ae='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ho=`${Ae}.${Be}`,At=".dropdown-menu",Ko=".navbar",Wo=".navbar-nav",Yo=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",qo=Z()?"top-end":"top-start",Go=Z()?"top-start":"top-end",Xo=Z()?"bottom-end":"bottom-start",Qo=Z()?"bottom-start":"bottom-end",Jo=Z()?"left-start":"right-start",ea=Z()?"right-start":"left-start",ta="top",na="bottom",sa={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ia={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class X extends Y{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=g.next(this._element,At)[0]||g.prev(this._element,At)[0]||g.findOne(At,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sa}static get DefaultType(){return ia}static get NAME(){return Un}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_e(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!d.trigger(this._element,Bo,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Wo))for(const s of[].concat(...document.body.children))d.on(s,"mouseover",yt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Be),this._element.classList.add(Be),d.trigger(this._element,Ro,e)}}hide(){if(_e(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!d.trigger(this._element,Fo,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))d.off(s,"mouseover",yt);this._popper&&this._popper.destroy(),this._menu.classList.remove(Be),this._element.classList.remove(Be),this._element.setAttribute("aria-expanded","false"),oe.removeDataAttribute(this._menu,"popper"),d.trigger(this._element,Mo,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!re(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Un.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Fs>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:re(this._config.reference)?e=me(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Ms(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Be)}_getPlacement(){const e=this._parent;if(e.classList.contains(Po))return Jo;if(e.classList.contains(Zo))return ea;if(e.classList.contains(jo))return ta;if(e.classList.contains(Uo))return na;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(zo)?t?Go:qo:t?Qo:Xo}_detectNavbar(){return this._element.closest(Ko)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(oe.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...M(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const s=g.find(Yo,this._menu).filter(i=>He(i));s.length&&An(s,t,e===Kn,!s.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=X.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===No||e.type==="keyup"&&e.key!==Hn)return;const t=g.find(Ho);for(const s of t){const i=X.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Hn||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),s=e.key===$o,i=[xo,Kn].includes(e.key);if(!i&&!s||t&&!s)return;e.preventDefault();const r=this.matches(Ae)?this:g.prev(this,Ae)[0]||g.next(this,Ae)[0]||g.findOne(Ae,e.delegateTarget.parentNode),o=X.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}d.on(document,ti,Ae,X.dataApiKeydownHandler);d.on(document,ti,At,X.dataApiKeydownHandler);d.on(document,ei,X.clearMenus);d.on(document,Vo,X.clearMenus);d.on(document,ei,Ae,function(n){n.preventDefault(),X.getOrCreateInstance(this).toggle()});U(X);const ni="backdrop",ra="fade",Wn="show",Yn=`mousedown.bs.${ni}`,oa={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},aa={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class si extends rt{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return oa}static get DefaultType(){return aa}static get NAME(){return ni}show(e){if(!this._config.isVisible){M(e);return}this._append();const t=this._getElement();this._config.isAnimated&&it(t),t.classList.add(Wn),this._emulateAnimation(()=>{M(e)})}hide(e){if(!this._config.isVisible){M(e);return}this._getElement().classList.remove(Wn),this._emulateAnimation(()=>{this.dispose(),M(e)})}dispose(){this._isAppended&&(d.off(this._element,Yn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(ra),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=me(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),d.on(e,Yn,()=>{M(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Zs(e,this._getElement(),this._config.isAnimated)}}const ua="focustrap",ca="bs.focustrap",wt=`.${ca}`,la=`focusin${wt}`,da=`keydown.tab${wt}`,ha="Tab",pa="forward",qn="backward",fa={autofocus:!0,trapElement:null},ma={autofocus:"boolean",trapElement:"element"};class ii extends rt{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return fa}static get DefaultType(){return ma}static get NAME(){return ua}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),d.off(document,wt),d.on(document,la,e=>this._handleFocusin(e)),d.on(document,da,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,d.off(document,wt))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const s=g.focusableChildren(t);s.length===0?t.focus():this._lastTabNavDirection===qn?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===ha&&(this._lastTabNavDirection=e.shiftKey?qn:pa)}}const Gn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Xn=".sticky-top",pt="padding-right",Qn="margin-right";class mn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,pt,t=>t+e),this._setElementAttributes(Gn,pt,t=>t+e),this._setElementAttributes(Xn,Qn,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,pt),this._resetElementAttributes(Gn,pt),this._resetElementAttributes(Xn,Qn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,t);const a=window.getComputedStyle(o).getPropertyValue(t);o.style.setProperty(t,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const s=e.style.getPropertyValue(t);s&&oe.setDataAttribute(e,t,s)}_resetElementAttributes(e,t){const s=i=>{const r=oe.getDataAttribute(i,t);if(r===null){i.style.removeProperty(t);return}oe.removeDataAttribute(i,t),i.style.setProperty(t,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,t){if(re(e)){t(e);return}for(const s of g.find(e,this._element))t(s)}}const _a="modal",ga="bs.modal",j=`.${ga}`,Ea=".data-api",va="Escape",ba=`hide${j}`,ka=`hidePrevented${j}`,ri=`hidden${j}`,oi=`show${j}`,Aa=`shown${j}`,Ca=`resize${j}`,ya=`click.dismiss${j}`,Ta=`mousedown.dismiss${j}`,wa=`keydown.dismiss${j}`,Sa=`click${j}${Ea}`,Jn="modal-open",Ia="fade",es="show",tn="modal-static",Da=".modal.show",La=".modal-dialog",Oa=".modal-body",$a='[data-bs-toggle="modal"]',xa={backdrop:!0,focus:!0,keyboard:!0},Na={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class we extends Y{constructor(e,t){super(e,t),this._dialog=g.findOne(La,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new mn,this._addEventListeners()}static get Default(){return xa}static get DefaultType(){return Na}static get NAME(){return _a}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||d.trigger(this._element,oi,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Jn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||d.trigger(this._element,ba).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(es),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){d.off(window,j),d.off(this._dialog,j),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new si({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ii({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=g.findOne(Oa,this._dialog);t&&(t.scrollTop=0),it(this._element),this._element.classList.add(es);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,d.trigger(this._element,Aa,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){d.on(this._element,wa,e=>{if(e.key===va){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),d.on(window,Ca,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),d.on(this._element,Ta,e=>{d.one(this._element,ya,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Jn),this._resetAdjustments(),this._scrollBar.reset(),d.trigger(this._element,ri)})}_isAnimated(){return this._element.classList.contains(Ia)}_triggerBackdropTransition(){if(d.trigger(this._element,ka).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(tn)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(tn),this._queueCallback(()=>{this._element.classList.remove(tn),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),s=t>0;if(s&&!e){const i=Z()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!s&&e){const i=Z()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const s=we.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](t)}})}}d.on(document,Sa,$a,function(n){const e=g.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),d.one(e,oi,i=>{i.defaultPrevented||d.one(e,ri,()=>{He(this)&&this.focus()})});const t=g.findOne(Da);t&&we.getInstance(t).hide(),we.getOrCreateInstance(e).toggle(this)});Nt(we);U(we);const Fa="offcanvas",Ma="bs.offcanvas",ce=`.${Ma}`,ai=".data-api",Ba=`load${ce}${ai}`,Ra="Escape",ts="show",ns="showing",ss="hiding",Va="offcanvas-backdrop",ui=".offcanvas.show",za=`show${ce}`,Pa=`shown${ce}`,Za=`hide${ce}`,is=`hidePrevented${ce}`,ci=`hidden${ce}`,ja=`resize${ce}`,Ua=`click${ce}${ai}`,Ha=`keydown.dismiss${ce}`,Ka='[data-bs-toggle="offcanvas"]',Wa={backdrop:!0,keyboard:!0,scroll:!1},Ya={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ge extends Y{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Wa}static get DefaultType(){return Ya}static get NAME(){return Fa}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||d.trigger(this._element,za,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new mn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ns);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ts),this._element.classList.remove(ns),d.trigger(this._element,Pa,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||d.trigger(this._element,Za).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ss),this._backdrop.hide();const t=()=>{this._element.classList.remove(ts,ss),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new mn().reset(),d.trigger(this._element,ci)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){d.trigger(this._element,is);return}this.hide()},t=!!this._config.backdrop;return new si({className:Va,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new ii({trapElement:this._element})}_addEventListeners(){d.on(this._element,Ha,e=>{if(e.key===Ra){if(this._config.keyboard){this.hide();return}d.trigger(this._element,is)}})}static jQueryInterface(e){return this.each(function(){const t=ge.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}d.on(document,Ua,Ka,function(n){const e=g.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),_e(this))return;d.one(e,ci,()=>{He(this)&&this.focus()});const t=g.findOne(ui);t&&t!==e&&ge.getInstance(t).hide(),ge.getOrCreateInstance(e).toggle(this)});d.on(window,Ba,()=>{for(const n of g.find(ui))ge.getOrCreateInstance(n).show()});d.on(window,ja,()=>{for(const n of g.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&ge.getOrCreateInstance(n).hide()});Nt(ge);U(ge);const qa=/^aria-[\w-]*$/i,li={"*":["class","dir","id","lang","role",qa],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ga=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Xa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Qa=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?Ga.has(t)?!!Xa.test(n.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(t))};function Ja(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const u=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const h of u)Qa(h,c)||o.removeAttribute(h.nodeName)}return i.body.innerHTML}const eu="TemplateFactory",tu={allowList:li,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},su={entry:"(string|element|function|null)",selector:"(string|element)"};class iu extends rt{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return tu}static get DefaultType(){return nu}static get NAME(){return eu}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const t=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&t.classList.add(...s.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,s]of Object.entries(e))super._typeCheckConfig({selector:t,entry:s},su)}_setContent(e,t,s){const i=g.findOne(s,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(re(t)){this._putElementInTemplate(me(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?Ja(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return M(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const ru="tooltip",ou=new Set(["sanitize","allowList","sanitizeFn"]),nn="fade",au="modal",ft="show",uu=".tooltip-inner",rs=`.${au}`,os="hide.bs.modal",qe="hover",sn="focus",rn="click",cu="manual",lu="hide",du="hidden",hu="show",pu="shown",fu="inserted",mu="click",_u="focusin",gu="focusout",Eu="mouseenter",vu="mouseleave",bu={AUTO:"auto",TOP:"top",RIGHT:Z()?"left":"right",BOTTOM:"bottom",LEFT:Z()?"right":"left"},ku={allowList:li,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Au={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class We extends Y{constructor(e,t){if(typeof Fs>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ku}static get DefaultType(){return Au}static get NAME(){return ru}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),d.off(this._element.closest(rs),os,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=d.trigger(this._element,this.constructor.eventName(hu)),s=(zs(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),d.trigger(this._element,this.constructor.eventName(fu))),this._popper=this._createPopper(i),i.classList.add(ft),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))d.on(a,"mouseover",yt);const o=()=>{d.trigger(this._element,this.constructor.eventName(pu)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||d.trigger(this._element,this.constructor.eventName(lu)).defaultPrevented)return;if(this._getTipElement().classList.remove(ft),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))d.off(i,"mouseover",yt);this._activeTrigger[rn]=!1,this._activeTrigger[sn]=!1,this._activeTrigger[qe]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),d.trigger(this._element,this.constructor.eventName(du)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(nn,ft),t.classList.add(`bs-${this.constructor.NAME}-auto`);const s=ur(this.constructor.NAME).toString();return t.setAttribute("id",s),this._isAnimated()&&t.classList.add(nn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new iu({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[uu]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nn)}_isShown(){return this.tip&&this.tip.classList.contains(ft)}_createPopper(e){const t=M(this._config.placement,[this,e,this._element]),s=bu[t.toUpperCase()];return Ms(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return M(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...t,...M(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")d.on(this._element,this.constructor.eventName(mu),this._config.selector,s=>{const i=this._initializeOnDelegatedTarget(s);i._activeTrigger[rn]=!(i._isShown()&&i._activeTrigger[rn]),i.toggle()});else if(t!==cu){const s=t===qe?this.constructor.eventName(Eu):this.constructor.eventName(_u),i=t===qe?this.constructor.eventName(vu):this.constructor.eventName(gu);d.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?sn:qe]=!0,o._enter()}),d.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?sn:qe]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},d.on(this._element.closest(rs),os,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=oe.getDataAttributes(this._element);for(const s of Object.keys(t))ou.has(s)&&delete t[s];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:me(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,s]of Object.entries(this._config))this.constructor.Default[t]!==s&&(e[t]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=We.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}U(We);const Cu="popover",yu=".popover-header",Tu=".popover-body",wu={...We.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Su={...We.DefaultType,content:"(null|string|element|function)"};class Tn extends We{static get Default(){return wu}static get DefaultType(){return Su}static get NAME(){return Cu}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[yu]:this._getTitle(),[Tu]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Tn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}U(Tn);const Iu="scrollspy",Du="bs.scrollspy",wn=`.${Du}`,Lu=".data-api",Ou=`activate${wn}`,as=`click${wn}`,$u=`load${wn}${Lu}`,xu="dropdown-item",Fe="active",Nu='[data-bs-spy="scroll"]',on="[href]",Fu=".nav, .list-group",us=".nav-link",Mu=".nav-item",Bu=".list-group-item",Ru=`${us}, ${Mu} > ${us}, ${Bu}`,Vu=".dropdown",zu=".dropdown-toggle",Pu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Zu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Bt extends Y{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Pu}static get DefaultType(){return Zu}static get NAME(){return Iu}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=me(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(d.off(this._config.target,as),d.on(this._config.target,as,on,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const s=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(t(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(s(o),!i)return;continue}!r&&!a&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=g.find(on,this._config.target);for(const t of e){if(!t.hash||_e(t))continue;const s=g.findOne(decodeURI(t.hash),this._element);He(s)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Fe),this._activateParents(e),d.trigger(this._element,Ou,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(xu)){g.findOne(zu,e.closest(Vu)).classList.add(Fe);return}for(const t of g.parents(e,Fu))for(const s of g.prev(t,Ru))s.classList.add(Fe)}_clearActiveClass(e){e.classList.remove(Fe);const t=g.find(`${on}.${Fe}`,e);for(const s of t)s.classList.remove(Fe)}static jQueryInterface(e){return this.each(function(){const t=Bt.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}d.on(window,$u,()=>{for(const n of g.find(Nu))Bt.getOrCreateInstance(n)});U(Bt);const ju="tab",Uu="bs.tab",Oe=`.${Uu}`,Hu=`hide${Oe}`,Ku=`hidden${Oe}`,Wu=`show${Oe}`,Yu=`shown${Oe}`,qu=`click${Oe}`,Gu=`keydown${Oe}`,Xu=`load${Oe}`,Qu="ArrowLeft",cs="ArrowRight",Ju="ArrowUp",ls="ArrowDown",an="Home",ds="End",Ce="active",hs="fade",un="show",ec="dropdown",di=".dropdown-toggle",tc=".dropdown-menu",cn=`:not(${di})`,nc='.list-group, .nav, [role="tablist"]',sc=".nav-item, .list-group-item",ic=`.nav-link${cn}, .list-group-item${cn}, [role="tab"]${cn}`,hi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ln=`${ic}, ${hi}`,rc=`.${Ce}[data-bs-toggle="tab"], .${Ce}[data-bs-toggle="pill"], .${Ce}[data-bs-toggle="list"]`;class Se extends Y{constructor(e){super(e),this._parent=this._element.closest(nc),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),d.on(this._element,Gu,t=>this._keydown(t)))}static get NAME(){return ju}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),s=t?d.trigger(t,Hu,{relatedTarget:e}):null;d.trigger(e,Wu,{relatedTarget:t}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Ce),this._activate(g.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(un);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),d.trigger(e,Yu,{relatedTarget:t})};this._queueCallback(s,e,e.classList.contains(hs))}_deactivate(e,t){if(!e)return;e.classList.remove(Ce),e.blur(),this._deactivate(g.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(un);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),d.trigger(e,Ku,{relatedTarget:t})};this._queueCallback(s,e,e.classList.contains(hs))}_keydown(e){if(![Qu,cs,Ju,ls,an,ds].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!_e(i));let s;if([an,ds].includes(e.key))s=t[e.key===an?0:t.length-1];else{const i=[cs,ls].includes(e.key);s=An(t,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),Se.getOrCreateInstance(s).show())}_getChildren(){return g.find(ln,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const s of t)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",t),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=g.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const s=this._getOuterElement(e);if(!s.classList.contains(ec))return;const i=(r,o)=>{const a=g.findOne(r,s);a&&a.classList.toggle(o,t)};i(di,Ce),i(tc,un),s.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,s){e.hasAttribute(t)||e.setAttribute(t,s)}_elemIsActive(e){return e.classList.contains(Ce)}_getInnerElement(e){return e.matches(ln)?e:g.findOne(ln,e)}_getOuterElement(e){return e.closest(sc)||e}static jQueryInterface(e){return this.each(function(){const t=Se.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}d.on(document,qu,hi,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!_e(this)&&Se.getOrCreateInstance(this).show()});d.on(window,Xu,()=>{for(const n of g.find(rc))Se.getOrCreateInstance(n)});U(Se);const oc="toast",ac="bs.toast",ve=`.${ac}`,uc=`mouseover${ve}`,cc=`mouseout${ve}`,lc=`focusin${ve}`,dc=`focusout${ve}`,hc=`hide${ve}`,pc=`hidden${ve}`,fc=`show${ve}`,mc=`shown${ve}`,_c="fade",ps="hide",mt="show",_t="showing",gc={animation:"boolean",autohide:"boolean",delay:"number"},Ec={animation:!0,autohide:!0,delay:5e3};class Rt extends Y{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ec}static get DefaultType(){return gc}static get NAME(){return oc}show(){if(d.trigger(this._element,fc).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(_c);const t=()=>{this._element.classList.remove(_t),d.trigger(this._element,mc),this._maybeScheduleHide()};this._element.classList.remove(ps),it(this._element),this._element.classList.add(mt,_t),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||d.trigger(this._element,hc).defaultPrevented)return;const t=()=>{this._element.classList.add(ps),this._element.classList.remove(_t,mt),d.trigger(this._element,pc)};this._element.classList.add(_t),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(mt),super.dispose()}isShown(){return this._element.classList.contains(mt)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){d.on(this._element,uc,e=>this._onInteraction(e,!0)),d.on(this._element,cc,e=>this._onInteraction(e,!1)),d.on(this._element,lc,e=>this._onInteraction(e,!0)),d.on(this._element,dc,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Rt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Nt(Rt);U(Rt);function fe(n){return typeof n=="string"||n instanceof String}function fs(n){var e;return typeof n=="object"&&n!=null&&(n==null||(e=n.constructor)==null?void 0:e.name)==="Object"}function pi(n,e){return Array.isArray(e)?pi(n,(t,s)=>e.includes(s)):Object.entries(n).reduce((t,s)=>{let[i,r]=s;return e(r,i)&&(t[i]=r),t},{})}const _={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function vc(n){switch(n){case _.LEFT:return _.FORCE_LEFT;case _.RIGHT:return _.FORCE_RIGHT;default:return n}}function dn(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function St(n,e){if(e===n)return!0;const t=Array.isArray(e),s=Array.isArray(n);let i;if(t&&s){if(e.length!=n.length)return!1;for(i=0;i<e.length;i++)if(!St(e[i],n[i]))return!1;return!0}if(t!=s)return!1;if(e&&n&&typeof e=="object"&&typeof n=="object"){const r=e instanceof Date,o=n instanceof Date;if(r&&o)return e.getTime()==n.getTime();if(r!=o)return!1;const a=e instanceof RegExp,u=n instanceof RegExp;if(a&&u)return e.toString()==n.toString();if(a!=u)return!1;const c=Object.keys(e);for(i=0;i<c.length;i++)if(!Object.prototype.hasOwnProperty.call(n,c[i]))return!1;for(i=0;i<c.length;i++)if(!St(n[c[i]],e[c[i]]))return!1;return!0}else if(e&&n&&typeof e=="function"&&typeof n=="function")return e.toString()===n.toString();return!1}class bc{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?_.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?_.RIGHT:_.LEFT}}function E(n,e){return new E.InputMask(n,e)}function fi(n){if(n==null)throw new Error("mask property should be defined");return n instanceof RegExp?E.MaskedRegExp:fe(n)?E.MaskedPattern:n===Date?E.MaskedDate:n===Number?E.MaskedNumber:Array.isArray(n)||n===Array?E.MaskedDynamic:E.Masked&&n.prototype instanceof E.Masked?n:E.Masked&&n instanceof E.Masked?n.constructor:n instanceof Function?E.MaskedFunction:(console.warn("Mask not found for mask",n),E.Masked)}function et(n){if(!n)throw new Error("Options in not defined");if(E.Masked){if(n.prototype instanceof E.Masked)return{mask:n};const{mask:e=void 0,...t}=n instanceof E.Masked?{mask:n}:fs(n)&&n.mask instanceof E.Masked?n:{};if(e){const s=e.mask;return{...pi(e,(i,r)=>!r.startsWith("_")),mask:e.constructor,_mask:s,...t}}}return fs(n)?{...n}:{mask:n}}function ue(n){if(E.Masked&&n instanceof E.Masked)return n;const e=et(n),t=fi(e.mask);if(!t)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===t&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new t(e)}E.createMask=ue;class Sn{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}E.MaskElement=Sn;const ms=90,kc=89;class Vt extends Sn{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,s;return(e=(t=(s=this.input).getRootNode)==null?void 0:t.call(s))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===ms&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===kc&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===ms&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}E.HTMLMaskElement=Vt;class Ac extends Vt{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}E.HTMLMaskElement=Vt;class mi extends Vt{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,i=t&&t.focusOffset;return i==null||s==null||s<i?s:i}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,i=t&&t.focusOffset;return i==null||s==null||s>i?s:i}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const s=this.rootElement.createRange();s.setStart(this.input.firstChild||this.input,e),s.setEnd(this.input.lastChild||this.input,t);const i=this.rootElement,r=i.getSelection&&i.getSelection();r&&(r.removeAllRanges(),r.addRange(s))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}E.HTMLContenteditableMaskElement=mi;class zt{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>zt.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}zt.MAX_LENGTH=100;class Cc{constructor(e,t){this.el=e instanceof Sn?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new mi(e):new Ac(e),this.masked=ue(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new zt,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return e==null||((t=this.masked)==null?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof E.Masked)&&this.masked.constructor===fi(e)){this.masked.updateOptions({mask:e});return}const t=e instanceof E.Masked?e:ue({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const s=this._listeners[e];s&&s.forEach(i=>i(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,s=this.masked.value,i=this.masked.rawInputValue,r=this.displayValue,o=this.unmaskedValue!==t||this.value!==s||this._rawInputValue!==i;this._unmaskedValue=t,this._value=s,this._rawInputValue=i,this.el.value!==r&&(this.el.value=r),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),o&&this._fireChangeEvents(),!this._historyChanging&&(o||this.history.isEmpty)&&this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...s}=e,i=!this.maskEquals(t),r=this.masked.optionsIsChanged(s);i&&(this.mask=t),r&&this.masked.updateOptions(s),(i||r)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,_.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const s=this._listeners[e].indexOf(t);return s>=0&&this._listeners[e].splice(s,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new bc({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),s=this.masked.rawInputValue,i=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,r=s===this.masked.rawInputValue?t.removeDirection:_.NONE;let o=this.masked.nearestInputPos(t.startChangePos+i,r);r!==_.NONE&&(o=this.masked.nearestInputPos(o,_.NONE)),this.updateControl(o),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}E.InputMask=Cc;class k{static normalize(e){return Array.isArray(e)?e:[e,new k]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}E.ChangeDetails=k;class q{constructor(e,t,s){e===void 0&&(e=""),t===void 0&&(t=0),this.value=e,this.from=t,this.stop=s}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class x{constructor(e){this._value="",this._update({...x.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){t===void 0&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new q(this.extractInput(e,t),e)}appendTail(e){return fe(e)&&(e=new q(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new k({inserted:e,rawInserted:e})):new k}_appendChar(e,t,s){t===void 0&&(t={});const i=this.state;let r;if([e,r]=this.doPrepareChar(e,t),e&&(r=r.aggregate(this._appendCharRaw(e,t)),!r.rawInserted&&this.autofix==="pad")){const o=this.state;this.state=i;let a=this.pad(t);const u=this._appendCharRaw(e,t);a=a.aggregate(u),u.rawInserted||a.equals(r)?r=a:this.state=o}if(r.inserted){let o,a=this.doValidate(t)!==!1;if(a&&s!=null){const u=this.state;if(this.overwrite===!0){o=s.state;for(let h=0;h<r.rawInserted.length;++h)s.unshift(this.displayValue.length-r.tailShift)}let c=this.appendTail(s);if(a=c.rawInserted.length===s.toString().length,!(a&&c.inserted)&&this.overwrite==="shift"){this.state=u,o=s.state;for(let h=0;h<r.rawInserted.length;++h)s.shift();c=this.appendTail(s),a=c.rawInserted.length===s.toString().length}a&&c.inserted&&(this.state=u)}a||(r=new k,this.state=i,s&&o&&(s.state=o))}return r}_appendPlaceholder(){return new k}_appendEager(){return new k}append(e,t,s){if(!fe(e))throw new Error("value should be string");const i=fe(s)?new q(String(s)):s;t!=null&&t.tail&&(t._beforeTailState=this.state);let r;[e,r]=this.doPrepare(e,t);for(let o=0;o<e.length;++o){const a=this._appendChar(e[o],t,i);if(!a.rawInserted&&!this.doSkipInvalid(e[o],t,i))break;r.aggregate(a)}return(this.eager===!0||this.eager==="append")&&t!=null&&t.input&&e&&r.aggregate(this._appendEager()),i!=null&&(r.tailShift+=this.appendTail(i).tailShift),r}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new k}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,s=this.value,i=e();return this.rawInputValue=t,this.value&&this.value!==s&&s.indexOf(this.value)===0&&(this.append(s.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,i}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,s=e(this);return this.state=t,delete this._isolated,s}doSkipInvalid(e,t,s){return!!this.skipInvalid}doPrepare(e,t){return t===void 0&&(t={}),k.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return t===void 0&&(t={}),k.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,s,i,r){s===void 0&&(s=""),i===void 0&&(i=_.NONE),r===void 0&&(r={input:!0});const o=e+t,a=this.extractTail(o),u=this.eager===!0||this.eager==="remove";let c;u&&(i=vc(i),c=this.extractInput(0,o,{raw:!0}));let h=e;const f=new k;if(i!==_.NONE&&(h=this.nearestInputPos(e,t>1&&e!==0&&!u?_.NONE:i),f.tailShift=h-e),f.aggregate(this.remove(h)),u&&i!==_.NONE&&c===this.rawInputValue)if(i===_.FORCE_LEFT){let m;for(;c===this.rawInputValue&&(m=this.displayValue.length);)f.aggregate(new k({tailShift:-1})).aggregate(this.remove(m-1))}else i===_.FORCE_RIGHT&&a.unshift();return f.aggregate(this.append(s,r,a))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!St(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||x.EMPTY_VALUES.includes(e)&&x.EMPTY_VALUES.includes(t)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new k}}x.DEFAULTS={skipInvalid:!0};x.EMPTY_VALUES=[void 0,null,""];E.Masked=x;class ye{constructor(e,t){e===void 0&&(e=[]),t===void 0&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=fe(e)?new q(String(e)):e;const t=this.chunks[this.chunks.length-1],s=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof q)s?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof ye){if(e.stop==null){let i;for(;e.chunks.length&&e.chunks[0].stop==null;)i=e.chunks.shift(),i.from+=e.from,this.extend(i)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof E.MaskedPattern))return new q(this.toString()).appendTo(e);const t=new k;for(let s=0;s<this.chunks.length;++s){const i=this.chunks[s],r=e._mapPosToBlock(e.displayValue.length),o=i.stop;let a;if(o!=null&&(!r||r.index<=o)&&((i instanceof ye||e._stops.indexOf(o)>=0)&&t.aggregate(e._appendPlaceholder(o)),a=i instanceof ye&&e._blocks[o]),a){const u=a.appendTail(i);t.aggregate(u);const c=i.toString().slice(u.rawInserted.length);c&&t.aggregate(e.append(c,{tail:!0}))}else t.aggregate(e.append(i.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...s}=e;Object.assign(this,s),this.chunks=t.map(i=>{const r="chunks"in i?new ye:new q;return r.state=i,r})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let s=0;for(;s<this.chunks.length;){const i=this.chunks[s],r=i.unshift(t);if(i.toString()){if(!r)break;++s}else this.chunks.splice(s,1);if(r)return r}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],s=t.shift();if(t.toString()){if(!s)break;--e}else this.chunks.splice(e,1);if(s)return s}return""}}class yc{constructor(e,t){this.masked=e,this._log=[];const{offset:s,index:i}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=s,this.index=i,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)==null?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,_.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,_.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,_.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,_.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,_.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,_.NONE),!0})}}class _i{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new k}nearestInputPos(e,t){t===void 0&&(t=_.NONE);const s=0,i=this._value.length;switch(t){case _.LEFT:case _.FORCE_LEFT:return s;case _.NONE:case _.RIGHT:case _.FORCE_RIGHT:default:return i}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),s===void 0&&(s={}),s.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new k;const s=this.eager===!0||this.eager==="append",r=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!s)&&!t.tail,o=new k({inserted:this.char,rawInserted:r?this.char:""});return this._value=this.char,this._isRawInput=r&&(t.raw||t.input),o}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new k;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new q("")}appendTail(e){return fe(e)&&(e=new q(String(e))),e.appendTo(this)}append(e,t,s){const i=this._appendChar(e[0],t);return s!=null&&(i.tailShift+=this.appendTail(s).tailShift),i}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class It{constructor(e){const{parent:t,isOptional:s,placeholderChar:i,displayChar:r,lazy:o,eager:a,...u}=e;this.masked=ue(u),Object.assign(this,{parent:t,isOptional:s,placeholderChar:i,displayChar:r,lazy:o,eager:a})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new k}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new k;const s=this.masked.state;let i=this.masked._appendChar(e,this.currentMaskFlags(t));return i.inserted&&this.doValidate(t)===!1&&(i=new k,this.masked.state=s),!i.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=!!i.inserted,i}append(e,t,s){return this.masked.append(e,this.currentMaskFlags(t),s)}_appendPlaceholder(){return this.isFilled||this.isOptional?new k:(this.isFilled=!0,new k({inserted:this.placeholderChar}))}_appendEager(){return new k}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.masked.extractInput(e,t,s)}nearestInputPos(e,t){t===void 0&&(t=_.NONE);const s=0,i=this.value.length,r=Math.min(Math.max(e,s),i);switch(t){case _.LEFT:case _.FORCE_LEFT:return this.isComplete?r:s;case _.RIGHT:case _.FORCE_RIGHT:return this.isComplete?r:i;case _.NONE:default:return r}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(e==null||(t=e._beforeTailState)==null?void 0:t.masked)||(e==null?void 0:e._beforeTailState)}}pad(e){return new k}}It.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class Tc extends x{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=s=>s.search(t)>=0),super._update(e)}}E.MaskedRegExp=Tc;class N extends x{constructor(e){super({...N.DEFAULTS,...e,definitions:Object.assign({},It.DEFAULT_DEFINITIONS,e==null?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let s=!1,i=!1;for(let r=0;r<t.length;++r){if(this.blocks){const c=t.slice(r),h=Object.keys(this.blocks).filter(m=>c.indexOf(m)===0);h.sort((m,b)=>b.length-m.length);const f=h[0];if(f){const{expose:m,repeat:b,...A}=et(this.blocks[f]),y={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...A,repeat:b,parent:this},F=b!=null?new E.RepeatBlock(y):ue(y);F&&(this._blocks.push(F),m&&(this.exposeBlock=F),this._maskedBlocks[f]||(this._maskedBlocks[f]=[]),this._maskedBlocks[f].push(this._blocks.length-1)),r+=f.length-1;continue}}let o=t[r],a=o in e;if(o===N.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(o==="{"||o==="}"){s=!s;continue}if(o==="["||o==="]"){i=!i;continue}if(o===N.ESCAPE_CHAR){if(++r,o=t[r],!o)break;a=!1}const u=a?new It({isOptional:i,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...et(e[o]),parent:this}):new _i({char:o,eager:this.eager,isUnmasking:s});this._blocks.push(u)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:t,...s}=e;this._blocks.forEach((i,r)=>i.state=t[r]),super.state=s}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new k;let s=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(s==null)return t;this._blocks[s].isFilled&&++s;for(let i=s;i<this._blocks.length;++i){const r=this._blocks[i]._appendEager();if(!r.inserted)break;t.aggregate(r)}return t}_appendCharRaw(e,t){t===void 0&&(t={});const s=this._mapPosToBlock(this.displayValue.length),i=new k;if(!s)return i;for(let o=s.index,a;a=this._blocks[o];++o){var r;const u=a._appendChar(e,{...t,_beforeTailState:(r=t._beforeTailState)==null||(r=r._blocks)==null?void 0:r[o]});if(i.aggregate(u),u.consumed)break}return i}extractTail(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=new ye;return e===t||this._forEachBlocksInRange(e,t,(i,r,o,a)=>{const u=i.extractTail(o,a);u.stop=this._findStopBefore(r),u.from=this._blockStartPos(r),u instanceof ye&&(u.blockIndex=r),s.extend(u)}),s}extractInput(e,t,s){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),s===void 0&&(s={}),e===t)return"";let i="";return this._forEachBlocksInRange(e,t,(r,o,a,u)=>{i+=r.extractInput(a,u,s)}),i}_findStopBefore(e){let t;for(let s=0;s<this._stops.length;++s){const i=this._stops[s];if(i<=e)t=i;else break}return t}_appendPlaceholder(e){const t=new k;if(this.lazy&&e==null)return t;const s=this._mapPosToBlock(this.displayValue.length);if(!s)return t;const i=s.index,r=e??this._blocks.length;return this._blocks.slice(i,r).forEach(o=>{if(!o.lazy||e!=null){var a;t.aggregate(o._appendPlaceholder((a=o._blocks)==null?void 0:a.length))}}),t}_mapPosToBlock(e){let t="";for(let s=0;s<this._blocks.length;++s){const i=this._blocks[s],r=t.length;if(t+=i.displayValue,e<=t.length)return{index:s,offset:e-r}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,s)=>t+=s.displayValue.length,0)}_forEachBlocksInRange(e,t,s){t===void 0&&(t=this.displayValue.length);const i=this._mapPosToBlock(e);if(i){const r=this._mapPosToBlock(t),o=r&&i.index===r.index,a=i.offset,u=r&&o?r.offset:this._blocks[i.index].displayValue.length;if(s(this._blocks[i.index],i.index,a,u),r&&!o){for(let c=i.index+1;c<r.index;++c)s(this._blocks[c],c,0,this._blocks[c].displayValue.length);s(this._blocks[r.index],r.index,0,r.offset)}}}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=super.remove(e,t);return this._forEachBlocksInRange(e,t,(i,r,o,a)=>{s.aggregate(i.remove(o,a))}),s}nearestInputPos(e,t){if(t===void 0&&(t=_.NONE),!this._blocks.length)return 0;const s=new yc(this,e);if(t===_.NONE)return s.pushRightBeforeInput()||(s.popState(),s.pushLeftBeforeInput())?s.pos:this.displayValue.length;if(t===_.LEFT||t===_.FORCE_LEFT){if(t===_.LEFT){if(s.pushRightBeforeFilled(),s.ok&&s.pos===e)return e;s.popState()}if(s.pushLeftBeforeInput(),s.pushLeftBeforeRequired(),s.pushLeftBeforeFilled(),t===_.LEFT){if(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.ok&&s.pos<=e||(s.popState(),s.ok&&s.pos<=e))return s.pos;s.popState()}return s.ok?s.pos:t===_.FORCE_LEFT?0:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:0)}return t===_.RIGHT||t===_.FORCE_RIGHT?(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.pushRightBeforeFilled()?s.pos:t===_.FORCE_RIGHT?this.displayValue.length:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:this.nearestInputPos(e,_.LEFT))):e}totalInputPositions(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);let s=0;return this._forEachBlocksInRange(e,t,(i,r,o,a)=>{s+=i.totalInputPositions(o,a)}),s}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(s=>this._blocks[s]):[]}pad(e){const t=new k;return this._forEachBlocksInRange(0,this.displayValue.length,s=>t.aggregate(s.pad(e))),t}}N.DEFAULTS={...x.DEFAULTS,lazy:!0,placeholderChar:"_"};N.STOP_CHAR="`";N.ESCAPE_CHAR="\\";N.InputDefinition=It;N.FixedDefinition=_i;E.MaskedPattern=N;class Ct extends N{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:s=this.from||0,maxLength:i=this.maxLength||0,autofix:r=this.autofix,...o}=e;this.to=t,this.from=s,this.maxLength=Math.max(String(t).length,i),this.autofix=r;const a=String(this.from).padStart(this.maxLength,"0"),u=String(this.to).padStart(this.maxLength,"0");let c=0;for(;c<u.length&&u[c]===a[c];)++c;o.mask=u.slice(0,c).replace(/0/g,"\\0")+"0".repeat(this.maxLength-c),super._update(o)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",s="";const[,i,r]=e.match(/^(\D*)(\d*)(\D*)/)||[];return r&&(t="0".repeat(i.length)+r,s="9".repeat(i.length)+r),t=t.padEnd(this.maxLength,"0"),s=s.padEnd(this.maxLength,"9"),[t,s]}doPrepareChar(e,t){t===void 0&&(t={});let s;return[e,s]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(s.skip=!this.isComplete),[e,s]}_appendCharRaw(e,t){if(t===void 0&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const s=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),[r,o]=this.boundaries(this.value+e);return Number(o)<this.from?super._appendCharRaw(s[this.value.length],t):Number(r)>this.to?!t.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(s[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(i[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[i,r]=this.boundaries(t);return this.from<=Number(r)&&Number(i)<=this.to&&super.doValidate(e)}pad(e){const t=new k;if(this.value.length===this.maxLength)return t;const s=this.value,i=this.maxLength-this.value.length;if(i){this.reset();for(let r=0;r<i;++r)t.aggregate(super._appendCharRaw("0",e));s.split("").forEach(r=>this._appendCharRaw(r))}return t}}E.MaskedRange=Ct;const wc="d{.}`m{.}`Y";class ee extends N{static extractPatternOptions(e){const{mask:t,pattern:s,...i}=e;return{...i,mask:fe(t)?t:s}}constructor(e){super(ee.extractPatternOptions({...ee.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:s,blocks:i,...r}={...ee.DEFAULTS,...e},o=Object.assign({},ee.GET_DEFAULT_BLOCKS());e.min&&(o.Y.from=e.min.getFullYear()),e.max&&(o.Y.to=e.max.getFullYear()),e.min&&e.max&&o.Y.from===o.Y.to&&(o.m.from=e.min.getMonth()+1,o.m.to=e.max.getMonth()+1,o.m.from===o.m.to&&(o.d.from=e.min.getDate(),o.d.to=e.max.getDate())),Object.assign(o,this.blocks,i),super._update({...r,mask:fe(t)?t:s,blocks:o})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(ee.extractPatternOptions(e))}}ee.GET_DEFAULT_BLOCKS=()=>({d:{mask:Ct,from:1,to:31,maxLength:2},m:{mask:Ct,from:1,to:12,maxLength:2},Y:{mask:Ct,from:1900,to:9999}});ee.DEFAULTS={...N.DEFAULTS,mask:Date,pattern:wc,format:(n,e)=>{if(!n)return"";const t=String(n.getDate()).padStart(2,"0"),s=String(n.getMonth()+1).padStart(2,"0"),i=n.getFullYear();return[t,s,i].join(".")},parse:(n,e)=>{const[t,s,i]=n.split(".").map(Number);return new Date(i,s-1,t)}};E.MaskedDate=ee;class Pt extends x{constructor(e){super({...Pt.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>{const{expose:s,...i}=et(t),r=ue({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...i});return s&&(this.exposeMask=r),r}):[])}_appendCharRaw(e,t){t===void 0&&(t={});const s=this._applyDispatch(e,t);return this.currentMask&&s.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),s}_applyDispatch(e,t,s){e===void 0&&(e=""),t===void 0&&(t={}),s===void 0&&(s="");const i=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,r=this.rawInputValue,o=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:r,a=r.slice(o.length),u=this.currentMask,c=new k,h=u==null?void 0:u.state;return this.currentMask=this.doDispatch(e,{...t},s),this.currentMask&&(this.currentMask!==u?(this.currentMask.reset(),o&&(this.currentMask.append(o,{raw:!0}),c.tailShift=this.currentMask.value.length-i.length),a&&(c.tailShift+=this.currentMask.append(a,{raw:!0,tail:!0}).tailShift)):h&&(this.currentMask.state=h)),c}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new k;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,s;return{...e,_beforeTailState:((t=e._beforeTailState)==null?void 0:t.currentMaskRef)===this.currentMask&&((s=e._beforeTailState)==null?void 0:s.currentMask)||e._beforeTailState}}doDispatch(e,t,s){return t===void 0&&(t={}),s===void 0&&(s=""),this.dispatch(e,this,t,s)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){t===void 0&&(t={});let[s,i]=super.doPrepare(e,t);if(this.currentMask){let r;[s,r]=super.doPrepare(s,this.currentMaskFlags(t)),i=i.aggregate(r)}return[s,i]}doPrepareChar(e,t){t===void 0&&(t={});let[s,i]=super.doPrepareChar(e,t);if(this.currentMask){let r;[s,r]=super.doPrepareChar(s,this.currentMaskFlags(t)),i=i.aggregate(r)}return[s,i]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,t){const s=new k;return this.currentMask&&s.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),s}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:s,currentMask:i,...r}=e;t&&this.compiledMasks.forEach((o,a)=>o.state=t[a]),s!=null&&(this.currentMask=s,this.currentMask.state=i),super.state=r}extractInput(e,t,s){return this.currentMask?this.currentMask.extractInput(e,t,s):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,s)=>{if(!e[s])return;const{mask:i,...r}=e[s];return St(t,r)&&t.maskEquals(i)}):super.maskEquals(e)}typedValueEquals(e){var t;return!!((t=this.currentMask)!=null&&t.typedValueEquals(e))}}Pt.DEFAULTS={...x.DEFAULTS,dispatch:(n,e,t,s)=>{if(!e.compiledMasks.length)return;const i=e.rawInputValue,r=e.compiledMasks.map((o,a)=>{const u=e.currentMask===o,c=u?o.displayValue.length:o.nearestInputPos(o.displayValue.length,_.FORCE_LEFT);return o.rawInputValue!==i?(o.reset(),o.append(i,{raw:!0})):u||o.remove(c),o.append(n,e.currentMaskFlags(t)),o.appendTail(s),{index:a,weight:o.rawInputValue.length,totalInputPositions:o.totalInputPositions(0,Math.max(c,o.nearestInputPos(o.displayValue.length,_.FORCE_LEFT)))}});return r.sort((o,a)=>a.weight-o.weight||a.totalInputPositions-o.totalInputPositions),e.compiledMasks[r[0].index]}};E.MaskedDynamic=Pt;class Zt extends N{constructor(e){super({...Zt.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...s}=e;if(t){const i=t.map(a=>a.length),r=Math.min(...i),o=Math.max(...i)-r;s.mask="*".repeat(r),o&&(s.mask+="["+"*".repeat(o)+"]"),this.enum=t}super._update(s)}_appendCharRaw(e,t){t===void 0&&(t={});const s=Math.min(this.nearestInputPos(0,_.FORCE_RIGHT),this.value.length),i=this.enum.filter(r=>this.matchValue(r,this.unmaskedValue+e,s));if(i.length){i.length===1&&this._forEachBlocksInRange(0,this.value.length,(o,a)=>{const u=i[0][a];a>=this.value.length||u===o.value||(o.reset(),o._appendChar(u,t))});const r=super._appendCharRaw(i[0][this.value.length],t);return i.length===1&&i[0].slice(this.unmaskedValue.length).split("").forEach(o=>r.aggregate(super._appendCharRaw(o))),r}return new k({skip:!this.isComplete})}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new q("",e)}remove(e,t){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),e===t)return new k;const s=Math.min(super.nearestInputPos(0,_.FORCE_RIGHT),this.value.length);let i;for(i=e;i>=0&&!(this.enum.filter(a=>this.matchValue(a,this.value.slice(s,i),s)).length>1);--i);const r=super.remove(i,t);return r.tailShift+=i-e,r}get isComplete(){return this.enum.indexOf(this.value)>=0}}Zt.DEFAULTS={...N.DEFAULTS,matchValue:(n,e,t)=>n.indexOf(e,t)===t};E.MaskedEnum=Zt;class Sc extends x{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}E.MaskedFunction=Sc;var gi;class V extends x{constructor(e){super({...V.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",s=(this.scale?"("+dn(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+t+s),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(dn).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(dn(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){t===void 0&&(t={});const[s,i]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!s&&(i.skip=!0),s&&!this.allowPositive&&!this.value&&s!=="-"&&i.aggregate(this._appendChar("-")),[s,i]}_separatorsCount(e,t){t===void 0&&(t=!1);let s=0;for(let i=0;i<e;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++s,t&&(e+=this.thousandsSeparator.length));return s}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,s))}_appendCharRaw(e,t){t===void 0&&(t={});const s=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(s);this._value=this._removeThousandsSeparators(this.value);const r=this._value;this._value+=e;const o=this.number;let a=!isNaN(o),u=!1;if(a){let m;this.min!=null&&this.min<0&&this.number<this.min&&(m=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(m=this.max),m!=null&&(this.autofix?(this._value=this.format(m,this).replace(V.UNMASKED_RADIX,this.radix),u||(u=r===this._value&&!t.tail)):a=!1),a&&(a=!!this._value.match(this._numberRegExp))}let c;a?c=new k({inserted:this._value.slice(r.length),rawInserted:u?"":e,skip:u}):(this._value=r,c=new k),this._value=this._insertThousandsSeparators(this._value);const h=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,f=this._separatorsCountFromSlice(h);return c.tailShift+=(f-i)*this.thousandsSeparator.length,c}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,s=this.value.indexOf(this.thousandsSeparator,t);if(s<=e)return s}return-1}_adjustRangeWithSeparators(e,t){const s=this._findSeparatorAround(e);s>=0&&(e=s);const i=this._findSeparatorAround(t);return i>=0&&(t=i+this.thousandsSeparator.length),[e,t]}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const s=this.value.slice(0,e),i=this.value.slice(t),r=this._separatorsCount(s.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(s+i));const o=this._separatorsCountFromSlice(s);return new k({tailShift:(o-r)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case _.NONE:case _.LEFT:case _.FORCE_LEFT:{const s=this._findSeparatorAround(e-1);if(s>=0){const i=s+this.thousandsSeparator.length;if(e<i||this.value.length<=i||t===_.FORCE_LEFT)return s}break}case _.RIGHT:case _.FORCE_RIGHT:{const s=this._findSeparatorAround(e);if(s>=0)return s+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let s=this.value;this.normalizeZeros&&(s=this._normalizeZeros(s)),this.padFractionalZeros&&this.scale>0&&(s=this._padFractionalZeros(s)),this._value=s}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(s,i,r,o)=>i+o),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,s){t===void 0&&(t={});const i=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===V.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,s)&&!i}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,V.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(V.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||V.EMPTY_VALUES.includes(e)&&V.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}gi=V;V.UNMASKED_RADIX=".";V.EMPTY_VALUES=[...x.EMPTY_VALUES,0];V.DEFAULTS={...x.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[gi.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:n=>n.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};E.MaskedNumber=V;const _n={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Ei(n,e,t){e===void 0&&(e=_n.MASKED),t===void 0&&(t=_n.MASKED);const s=ue(n);return i=>s.runIsolated(r=>(r[e]=i,r[t]))}function Ic(n,e,t,s){return Ei(e,t,s)(n)}E.PIPE_TYPE=_n;E.createPipe=Ei;E.pipe=Ic;class Dc extends N{get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,s,i;const{repeat:r,...o}=et(e);this._blockOpts=Object.assign({},this._blockOpts,o);const a=ue(this._blockOpts);this.repeat=(t=(s=r??a.repeat)!=null?s:this.repeat)!=null?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((i=this._blocks)==null?void 0:i.length)||0,this.repeatFrom)),blocks:{m:a},eager:a.eager,overwrite:a.overwrite,skipInvalid:a.skipInvalid,lazy:a.lazy,placeholderChar:a.placeholderChar,displayChar:a.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(ue(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,t){t===void 0&&(t={});const s=new k;for(let u=(i=(r=this._mapPosToBlock(this.displayValue.length))==null?void 0:r.index)!=null?i:Math.max(this._blocks.length-1,0),c,h;c=(o=this._blocks[u])!=null?o:h=!h&&this._allocateBlock(u);++u){var i,r,o,a;const f=c._appendChar(e,{...t,_beforeTailState:(a=t._beforeTailState)==null||(a=a._blocks)==null?void 0:a[u]});if(f.skip&&h){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(s.aggregate(f),f.consumed)break}return s}_trimEmptyTail(e,t){var s,i;e===void 0&&(e=0);const r=Math.max(((s=this._mapPosToBlock(e))==null?void 0:s.index)||0,this.repeatFrom,0);let o;t!=null&&(o=(i=this._mapPosToBlock(t))==null?void 0:i.index),o==null&&(o=this._blocks.length-1);let a=0;for(let u=o;r<=u&&!this._blocks[u].unmaskedValue;--u,++a);a&&(this._blocks.splice(o-a+1,a),this.mask=this.mask.slice(a))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=super.remove(e,t);return this._trimEmptyTail(e,t),s}totalInputPositions(e,t){return e===void 0&&(e=0),t==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}E.RepeatBlock=Dc;try{globalThis.IMask=E}catch{}function l(n,e,t){function s(a,u){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(n),e(a,u);for(const h in o.prototype)h in a||Object.defineProperty(a,h,{value:o.prototype[h].bind(a)});a._zod.constr=o,a._zod.def=u}const i=(t==null?void 0:t.Parent)??Object;class r extends i{}Object.defineProperty(r,"name",{value:n});function o(a){var u;const c=t!=null&&t.Parent?new r:this;s(c,a),(u=c._zod).deferred??(u.deferred=[]);for(const h of c._zod.deferred)h();return c}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>{var u,c;return t!=null&&t.Parent&&a instanceof t.Parent?!0:(c=(u=a==null?void 0:a._zod)==null?void 0:u.traits)==null?void 0:c.has(n)}}),Object.defineProperty(o,"name",{value:n}),o}class Ze extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class vi extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const bi={};function Ie(n){return bi}function Lc(n){const e=Object.values(n).filter(s=>typeof s=="number");return Object.entries(n).filter(([s,i])=>e.indexOf(+s)===-1).map(([s,i])=>i)}function gn(n,e){return typeof e=="bigint"?e.toString():e}function In(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function Dn(n){return n==null}function Ln(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}const _s=Symbol("evaluating");function C(n,e,t){let s;Object.defineProperty(n,e,{get(){if(s!==_s)return s===void 0&&(s=_s,s=t()),s},set(i){Object.defineProperty(n,e,{value:i})},configurable:!0})}function $e(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function xe(...n){const e={};for(const t of n){const s=Object.getOwnPropertyDescriptors(t);Object.assign(e,s)}return Object.defineProperties({},e)}function gs(n){return JSON.stringify(n)}const ki="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Dt(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const Oc=In(()=>{var n;if(typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)!=null&&n.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function tt(n){if(Dt(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Dt(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function Ai(n){return tt(n)?{...n}:Array.isArray(n)?[...n]:n}const $c=new Set(["string","number","symbol"]);function jt(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function be(n,e,t){const s=new n._zod.constr(e??n._zod.def);return(!e||t!=null&&t.parent)&&(s._zod.parent=n),s}function v(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function xc(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}function Nc(n,e){const t=n._zod.def,s=xe(n._zod.def,{get shape(){const i={};for(const r in e){if(!(r in t.shape))throw new Error(`Unrecognized key: "${r}"`);e[r]&&(i[r]=t.shape[r])}return $e(this,"shape",i),i},checks:[]});return be(n,s)}function Fc(n,e){const t=n._zod.def,s=xe(n._zod.def,{get shape(){const i={...n._zod.def.shape};for(const r in e){if(!(r in t.shape))throw new Error(`Unrecognized key: "${r}"`);e[r]&&delete i[r]}return $e(this,"shape",i),i},checks:[]});return be(n,s)}function Mc(n,e){if(!tt(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=xe(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e};return $e(this,"shape",r),r},checks:[]});return be(n,i)}function Bc(n,e){if(!tt(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const s={...n._zod.def.shape,...e};return $e(this,"shape",s),s},checks:n._zod.def.checks};return be(n,t)}function Rc(n,e){const t=xe(n._zod.def,{get shape(){const s={...n._zod.def.shape,...e._zod.def.shape};return $e(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return be(n,t)}function Vc(n,e,t){const s=xe(e._zod.def,{get shape(){const i=e._zod.def.shape,r={...i};if(t)for(const o in t){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(r[o]=n?new n({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)r[o]=n?new n({type:"optional",innerType:i[o]}):i[o];return $e(this,"shape",r),r},checks:[]});return be(e,s)}function zc(n,e,t){const s=xe(e._zod.def,{get shape(){const i=e._zod.def.shape,r={...i};if(t)for(const o in t){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(r[o]=new n({type:"nonoptional",innerType:i[o]}))}else for(const o in i)r[o]=new n({type:"nonoptional",innerType:i[o]});return $e(this,"shape",r),r},checks:[]});return be(e,s)}function Ve(n,e=0){var t;if(n.aborted===!0)return!0;for(let s=e;s<n.issues.length;s++)if(((t=n.issues[s])==null?void 0:t.continue)!==!0)return!0;return!1}function Ci(n,e){return e.map(t=>{var s;return(s=t).path??(s.path=[]),t.path.unshift(n),t})}function gt(n){return typeof n=="string"?n:n==null?void 0:n.message}function De(n,e,t){var i,r,o,a,u,c;const s={...n,path:n.path??[]};if(!n.message){const h=gt((o=(r=(i=n.inst)==null?void 0:i._zod.def)==null?void 0:r.error)==null?void 0:o.call(r,n))??gt((a=e==null?void 0:e.error)==null?void 0:a.call(e,n))??gt((u=t.customError)==null?void 0:u.call(t,n))??gt((c=t.localeError)==null?void 0:c.call(t,n))??"Invalid input";s.message=h}return delete s.inst,delete s.continue,e!=null&&e.reportInput||delete s.input,s}function On(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function nt(...n){const[e,t,s]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:s}:{...e}}const yi=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,gn,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},Ti=l("$ZodError",yi),wi=l("$ZodError",yi,{Parent:Error});function Pc(n,e=t=>t.message){const t={},s=[];for(const i of n.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):s.push(e(i));return{formErrors:s,fieldErrors:t}}function Zc(n,e=t=>t.message){const t={_errors:[]},s=i=>{for(const r of i.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(o=>s({issues:o}));else if(r.code==="invalid_key")s({issues:r.issues});else if(r.code==="invalid_element")s({issues:r.issues});else if(r.path.length===0)t._errors.push(e(r));else{let o=t,a=0;for(;a<r.path.length;){const u=r.path[a];a===r.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(e(r))):o[u]=o[u]||{_errors:[]},o=o[u],a++}}};return s(n),t}const $n=n=>(e,t,s,i)=>{const r=s?Object.assign(s,{async:!1}):{async:!1},o=e._zod.run({value:t,issues:[]},r);if(o instanceof Promise)throw new Ze;if(o.issues.length){const a=new((i==null?void 0:i.Err)??n)(o.issues.map(u=>De(u,r,Ie())));throw ki(a,i==null?void 0:i.callee),a}return o.value},xn=n=>async(e,t,s,i)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let o=e._zod.run({value:t,issues:[]},r);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new((i==null?void 0:i.Err)??n)(o.issues.map(u=>De(u,r,Ie())));throw ki(a,i==null?void 0:i.callee),a}return o.value},Ut=n=>(e,t,s)=>{const i=s?{...s,async:!1}:{async:!1},r=e._zod.run({value:t,issues:[]},i);if(r instanceof Promise)throw new Ze;return r.issues.length?{success:!1,error:new(n??Ti)(r.issues.map(o=>De(o,i,Ie())))}:{success:!0,data:r.value}},jc=Ut(wi),Ht=n=>async(e,t,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let r=e._zod.run({value:t,issues:[]},i);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new n(r.issues.map(o=>De(o,i,Ie())))}:{success:!0,data:r.value}},Uc=Ht(wi),Hc=n=>(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return $n(n)(e,t,i)},Kc=n=>(e,t,s)=>$n(n)(e,t,s),Wc=n=>async(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return xn(n)(e,t,i)},Yc=n=>async(e,t,s)=>xn(n)(e,t,s),qc=n=>(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Ut(n)(e,t,i)},Gc=n=>(e,t,s)=>Ut(n)(e,t,s),Xc=n=>async(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Ht(n)(e,t,i)},Qc=n=>async(e,t,s)=>Ht(n)(e,t,s),Jc=/^[cC][^\s-]{8,}$/,el=/^[0-9a-z]+$/,tl=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,nl=/^[0-9a-vA-V]{20}$/,sl=/^[A-Za-z0-9]{27}$/,il=/^[a-zA-Z0-9_-]{21}$/,rl=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ol=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Es=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,al=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ul="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function cl(){return new RegExp(ul,"u")}const ll=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dl=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,hl=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,pl=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fl=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Si=/^[A-Za-z0-9_-]*$/,ml=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,_l=/^\+(?:[0-9]){6,14}[0-9]$/,Ii="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",gl=new RegExp(`^${Ii}$`);function Di(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function El(n){return new RegExp(`^${Di(n)}$`)}function vl(n){const e=Di({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${t.join("|")})`;return new RegExp(`^${Ii}T(?:${s})$`)}const bl=n=>{const e=n?`[\\s\\S]{${(n==null?void 0:n.minimum)??0},${(n==null?void 0:n.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},kl=/^[^A-Z]*$/,Al=/^[^a-z]*$/,J=l("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),Cl=l("$ZodCheckMaxLength",(n,e)=>{var t;J.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!Dn(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(s._zod.bag.maximum=e.maximum)}),n._zod.check=s=>{const i=s.value;if(i.length<=e.maximum)return;const o=On(i);s.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),yl=l("$ZodCheckMinLength",(n,e)=>{var t;J.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!Dn(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(s._zod.bag.minimum=e.minimum)}),n._zod.check=s=>{const i=s.value;if(i.length>=e.minimum)return;const o=On(i);s.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),Tl=l("$ZodCheckLengthEquals",(n,e)=>{var t;J.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!Dn(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),n._zod.check=s=>{const i=s.value,r=i.length;if(r===e.length)return;const o=On(i),a=r>e.length;s.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:n,continue:!e.abort})}}),Kt=l("$ZodCheckStringFormat",(n,e)=>{var t,s;J.init(n,e),n._zod.onattach.push(i=>{const r=i._zod.bag;r.format=e.format,e.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(s=n._zod).check??(s.check=()=>{})}),wl=l("$ZodCheckRegex",(n,e)=>{Kt.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),Sl=l("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=kl),Kt.init(n,e)}),Il=l("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=Al),Kt.init(n,e)}),Dl=l("$ZodCheckIncludes",(n,e)=>{J.init(n,e);const t=jt(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=s,n._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(s)}),n._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:n,continue:!e.abort})}}),Ll=l("$ZodCheckStartsWith",(n,e)=>{J.init(n,e);const t=new RegExp(`^${jt(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:n,continue:!e.abort})}}),Ol=l("$ZodCheckEndsWith",(n,e)=>{J.init(n,e);const t=new RegExp(`.*${jt(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:n,continue:!e.abort})}}),$l=l("$ZodCheckOverwrite",(n,e)=>{J.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class xl{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(o=>o),i=Math.min(...s.map(o=>o.length-o.trimStart().length)),r=s.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of r)this.content.push(o)}compile(){const e=Function,t=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(r=>`  ${r}`)];return new e(...t,i.join(`
`))}}const Nl={major:4,minor:1,patch:12},I=l("$ZodType",(n,e)=>{var i;var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=Nl;const s=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&s.unshift(n);for(const r of s)for(const o of r._zod.onattach)o(n);if(s.length===0)(t=n._zod).deferred??(t.deferred=[]),(i=n._zod.deferred)==null||i.push(()=>{n._zod.run=n._zod.parse});else{const r=(a,u,c)=>{let h=Ve(a),f;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(a))continue}else if(h)continue;const b=a.issues.length,A=m._zod.check(a);if(A instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Ze;if(f||A instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await A,a.issues.length!==b&&(h||(h=Ve(a,b)))});else{if(a.issues.length===b)continue;h||(h=Ve(a,b))}}return f?f.then(()=>a):a},o=(a,u,c)=>{if(Ve(a))return a.aborted=!0,a;const h=r(u,s,c);if(h instanceof Promise){if(c.async===!1)throw new Ze;return h.then(f=>n._zod.parse(f,c))}return n._zod.parse(h,c)};n._zod.run=(a,u)=>{if(u.skipChecks)return n._zod.parse(a,u);if(u.direction==="backward"){const h=n._zod.parse({value:a.value,issues:[]},{...u,skipChecks:!0});return h instanceof Promise?h.then(f=>o(f,a,u)):o(h,a,u)}const c=n._zod.parse(a,u);if(c instanceof Promise){if(u.async===!1)throw new Ze;return c.then(h=>r(h,s,u))}return r(c,s,u)}}n["~standard"]={validate:r=>{var o;try{const a=jc(n,r);return a.success?{value:a.data}:{issues:(o=a.error)==null?void 0:o.issues}}catch{return Uc(n,r).then(u=>{var c;return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),Nn=l("$ZodString",(n,e)=>{var t;I.init(n,e),n._zod.pattern=[...((t=n==null?void 0:n._zod.bag)==null?void 0:t.patterns)??[]].pop()??bl(n._zod.bag),n._zod.parse=(s,i)=>{if(e.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:n}),s}}),T=l("$ZodStringFormat",(n,e)=>{Kt.init(n,e),Nn.init(n,e)}),Fl=l("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=ol),T.init(n,e)}),Ml=l("$ZodUUID",(n,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Es(s))}else e.pattern??(e.pattern=Es());T.init(n,e)}),Bl=l("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=al),T.init(n,e)}),Rl=l("$ZodURL",(n,e)=>{T.init(n,e),n._zod.check=t=>{try{const s=t.value.trim(),i=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:ml.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=i.href:t.value=s;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),Vl=l("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=cl()),T.init(n,e)}),zl=l("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=il),T.init(n,e)}),Pl=l("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=Jc),T.init(n,e)}),Zl=l("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=el),T.init(n,e)}),jl=l("$ZodULID",(n,e)=>{e.pattern??(e.pattern=tl),T.init(n,e)}),Ul=l("$ZodXID",(n,e)=>{e.pattern??(e.pattern=nl),T.init(n,e)}),Hl=l("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=sl),T.init(n,e)}),Kl=l("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=vl(e)),T.init(n,e)}),Wl=l("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=gl),T.init(n,e)}),Yl=l("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=El(e)),T.init(n,e)}),ql=l("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=rl),T.init(n,e)}),Gl=l("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=ll),T.init(n,e),n._zod.onattach.push(t=>{const s=t._zod.bag;s.format="ipv4"})}),Xl=l("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=dl),T.init(n,e),n._zod.onattach.push(t=>{const s=t._zod.bag;s.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),Ql=l("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=hl),T.init(n,e)}),Jl=l("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=pl),T.init(n,e),n._zod.check=t=>{const s=t.value.split("/");try{if(s.length!==2)throw new Error;const[i,r]=s;if(!r)throw new Error;const o=Number(r);if(`${o}`!==r)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function Li(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const ed=l("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=fl),T.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{Li(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function td(n){if(!Si.test(n))return!1;const e=n.replace(/[-_]/g,s=>s==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return Li(t)}const nd=l("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=Si),T.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{td(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),sd=l("$ZodE164",(n,e)=>{e.pattern??(e.pattern=_l),T.init(n,e)});function id(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[s]=t;if(!s)return!1;const i=JSON.parse(atob(s));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const rd=l("$ZodJWT",(n,e)=>{T.init(n,e),n._zod.check=t=>{id(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),od=l("$ZodUnknown",(n,e)=>{I.init(n,e),n._zod.parse=t=>t}),ad=l("$ZodNever",(n,e)=>{I.init(n,e),n._zod.parse=(t,s)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function vs(n,e,t){n.issues.length&&e.issues.push(...Ci(t,n.issues)),e.value[t]=n.value}const ud=l("$ZodArray",(n,e)=>{I.init(n,e),n._zod.parse=(t,s)=>{const i=t.value;if(!Array.isArray(i))return t.issues.push({expected:"array",code:"invalid_type",input:i,inst:n}),t;t.value=Array(i.length);const r=[];for(let o=0;o<i.length;o++){const a=i[o],u=e.element._zod.run({value:a,issues:[]},s);u instanceof Promise?r.push(u.then(c=>vs(c,t,o))):vs(u,t,o)}return r.length?Promise.all(r).then(()=>t):t}});function Lt(n,e,t,s){n.issues.length&&e.issues.push(...Ci(t,n.issues)),n.value===void 0?t in s&&(e.value[t]=void 0):e.value[t]=n.value}function Oi(n){var s,i,r,o;const e=Object.keys(n.shape);for(const a of e)if(!((o=(r=(i=(s=n.shape)==null?void 0:s[a])==null?void 0:i._zod)==null?void 0:r.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const t=xc(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function $i(n,e,t,s,i,r){const o=[],a=i.keySet,u=i.catchall._zod,c=u.def.type;for(const h of Object.keys(e)){if(a.has(h))continue;if(c==="never"){o.push(h);continue}const f=u.run({value:e[h],issues:[]},s);f instanceof Promise?n.push(f.then(m=>Lt(m,t,h,e))):Lt(f,t,h,e)}return o.length&&t.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:r}),n.length?Promise.all(n).then(()=>t):t}const cd=l("$ZodObject",(n,e)=>{I.init(n,e);const t=Object.getOwnPropertyDescriptor(e,"shape");if(!(t!=null&&t.get)){const a=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...a};return Object.defineProperty(e,"shape",{value:u}),u}})}const s=In(()=>Oi(e));C(n._zod,"propValues",()=>{const a=e.shape,u={};for(const c in a){const h=a[c]._zod;if(h.values){u[c]??(u[c]=new Set);for(const f of h.values)u[c].add(f)}}return u});const i=Dt,r=e.catchall;let o;n._zod.parse=(a,u)=>{o??(o=s.value);const c=a.value;if(!i(c))return a.issues.push({expected:"object",code:"invalid_type",input:c,inst:n}),a;a.value={};const h=[],f=o.shape;for(const m of o.keys){const A=f[m]._zod.run({value:c[m],issues:[]},u);A instanceof Promise?h.push(A.then(y=>Lt(y,a,m,c))):Lt(A,a,m,c)}return r?$i(h,c,a,u,s.value,n):h.length?Promise.all(h).then(()=>a):a}}),ld=l("$ZodObjectJIT",(n,e)=>{cd.init(n,e);const t=n._zod.parse,s=In(()=>Oi(e)),i=m=>{const b=new xl(["shape","payload","ctx"]),A=s.value,y=P=>{const B=gs(P);return`shape[${B}]._zod.run({ value: input[${B}], issues: [] }, ctx)`};b.write("const input = payload.value;");const F=Object.create(null);let ct=0;for(const P of A.keys)F[P]=`key_${ct++}`;b.write("const newResult = {};");for(const P of A.keys){const B=F[P],le=gs(P);b.write(`const ${B} = ${y(P)};`),b.write(`
        if (${B}.issues.length) {
          payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${le}, ...iss.path] : [${le}]
          })));
        }
        
        
        if (${B}.value === undefined) {
          if (${le} in input) {
            newResult[${le}] = undefined;
          }
        } else {
          newResult[${le}] = ${B}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const lt=b.compile();return(P,B)=>lt(m,P,B)};let r;const o=Dt,a=!bi.jitless,c=a&&Oc.value,h=e.catchall;let f;n._zod.parse=(m,b)=>{f??(f=s.value);const A=m.value;return o(A)?a&&c&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(r||(r=i(e.shape)),m=r(m,b),h?$i([],A,m,b,f,n):m):t(m,b):(m.issues.push({expected:"object",code:"invalid_type",input:A,inst:n}),m)}});function bs(n,e,t,s){for(const r of n)if(r.issues.length===0)return e.value=r.value,e;const i=n.filter(r=>!Ve(r));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(r=>r.issues.map(o=>De(o,s,Ie())))}),e)}const dd=l("$ZodUnion",(n,e)=>{I.init(n,e),C(n._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),C(n._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),C(n._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),C(n._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(r=>r._zod.pattern);return new RegExp(`^(${i.map(r=>Ln(r.source)).join("|")})$`)}});const t=e.options.length===1,s=e.options[0]._zod.run;n._zod.parse=(i,r)=>{if(t)return s(i,r);let o=!1;const a=[];for(const u of e.options){const c=u._zod.run({value:i.value,issues:[]},r);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(u=>bs(u,i,n,r)):bs(a,i,n,r)}}),hd=l("$ZodIntersection",(n,e)=>{I.init(n,e),n._zod.parse=(t,s)=>{const i=t.value,r=e.left._zod.run({value:i,issues:[]},s),o=e.right._zod.run({value:i,issues:[]},s);return r instanceof Promise||o instanceof Promise?Promise.all([r,o]).then(([u,c])=>ks(t,u,c)):ks(t,r,o)}});function En(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(tt(n)&&tt(e)){const t=Object.keys(e),s=Object.keys(n).filter(r=>t.indexOf(r)!==-1),i={...n,...e};for(const r of s){const o=En(n[r],e[r]);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};i[r]=o.data}return{valid:!0,data:i}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let s=0;s<n.length;s++){const i=n[s],r=e[s],o=En(i,r);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};t.push(o.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function ks(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),Ve(n))return n;const s=En(e.value,t.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return n.value=s.data,n}const pd=l("$ZodEnum",(n,e)=>{I.init(n,e);const t=Lc(e.entries),s=new Set(t);n._zod.values=s,n._zod.pattern=new RegExp(`^(${t.filter(i=>$c.has(typeof i)).map(i=>typeof i=="string"?jt(i):i.toString()).join("|")})$`),n._zod.parse=(i,r)=>{const o=i.value;return s.has(o)||i.issues.push({code:"invalid_value",values:t,input:o,inst:n}),i}}),fd=l("$ZodTransform",(n,e)=>{I.init(n,e),n._zod.parse=(t,s)=>{if(s.direction==="backward")throw new vi(n.constructor.name);const i=e.transform(t.value,t);if(s.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(t.value=o,t));if(i instanceof Promise)throw new Ze;return t.value=i,t}});function As(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const md=l("$ZodOptional",(n,e)=>{I.init(n,e),n._zod.optin="optional",n._zod.optout="optional",C(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),C(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${Ln(t.source)})?$`):void 0}),n._zod.parse=(t,s)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>As(r,t.value)):As(i,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,s)}}),_d=l("$ZodNullable",(n,e)=>{I.init(n,e),C(n._zod,"optin",()=>e.innerType._zod.optin),C(n._zod,"optout",()=>e.innerType._zod.optout),C(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${Ln(t.source)}|null)$`):void 0}),C(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,s)=>t.value===null?t:e.innerType._zod.run(t,s)}),gd=l("$ZodDefault",(n,e)=>{I.init(n,e),n._zod.optin="optional",C(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>{if(s.direction==="backward")return e.innerType._zod.run(t,s);if(t.value===void 0)return t.value=e.defaultValue,t;const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>Cs(r,e)):Cs(i,e)}});function Cs(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const Ed=l("$ZodPrefault",(n,e)=>{I.init(n,e),n._zod.optin="optional",C(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>(s.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,s))}),vd=l("$ZodNonOptional",(n,e)=>{I.init(n,e),C(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(s=>s!==void 0)):void 0}),n._zod.parse=(t,s)=>{const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>ys(r,n)):ys(i,n)}});function ys(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const bd=l("$ZodCatch",(n,e)=>{I.init(n,e),C(n._zod,"optin",()=>e.innerType._zod.optin),C(n._zod,"optout",()=>e.innerType._zod.optout),C(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>{if(s.direction==="backward")return e.innerType._zod.run(t,s);const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>(t.value=r.value,r.issues.length&&(t.value=e.catchValue({...t,error:{issues:r.issues.map(o=>De(o,s,Ie()))},input:t.value}),t.issues=[]),t)):(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(r=>De(r,s,Ie()))},input:t.value}),t.issues=[]),t)}}),kd=l("$ZodPipe",(n,e)=>{I.init(n,e),C(n._zod,"values",()=>e.in._zod.values),C(n._zod,"optin",()=>e.in._zod.optin),C(n._zod,"optout",()=>e.out._zod.optout),C(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,s)=>{if(s.direction==="backward"){const r=e.out._zod.run(t,s);return r instanceof Promise?r.then(o=>Et(o,e.in,s)):Et(r,e.in,s)}const i=e.in._zod.run(t,s);return i instanceof Promise?i.then(r=>Et(r,e.out,s)):Et(i,e.out,s)}});function Et(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const Ad=l("$ZodReadonly",(n,e)=>{I.init(n,e),C(n._zod,"propValues",()=>e.innerType._zod.propValues),C(n._zod,"values",()=>e.innerType._zod.values),C(n._zod,"optin",()=>e.innerType._zod.optin),C(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,s)=>{if(s.direction==="backward")return e.innerType._zod.run(t,s);const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(Ts):Ts(i)}});function Ts(n){return n.value=Object.freeze(n.value),n}const Cd=l("$ZodCustom",(n,e)=>{J.init(n,e),I.init(n,e),n._zod.parse=(t,s)=>t,n._zod.check=t=>{const s=t.value,i=e.fn(s);if(i instanceof Promise)return i.then(r=>ws(r,t,s,n));ws(i,t,s,n)}});function ws(n,e,t,s){if(!n){const i={code:"custom",input:t,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(i.params=s._zod.def.params),e.issues.push(nt(i))}}class yd{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const s=t[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const s={...this.get(t)??{}};delete s.id;const i={...s,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Td(){return new yd}const vt=Td();function wd(n,e){return new n({type:"string",...v(e)})}function xi(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...v(e)})}function Ss(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...v(e)})}function Sd(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...v(e)})}function Id(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...v(e)})}function Dd(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...v(e)})}function Ld(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...v(e)})}function Od(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...v(e)})}function $d(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...v(e)})}function xd(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...v(e)})}function Nd(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...v(e)})}function Fd(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...v(e)})}function Md(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...v(e)})}function Bd(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...v(e)})}function Rd(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...v(e)})}function Vd(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...v(e)})}function zd(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...v(e)})}function Pd(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...v(e)})}function Zd(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...v(e)})}function jd(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...v(e)})}function Ud(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...v(e)})}function Hd(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...v(e)})}function Kd(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...v(e)})}function Wd(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...v(e)})}function Yd(n,e){return new n({type:"string",format:"date",check:"string_format",...v(e)})}function qd(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...v(e)})}function Gd(n,e){return new n({type:"string",format:"duration",check:"string_format",...v(e)})}function Xd(n){return new n({type:"unknown"})}function Qd(n,e){return new n({type:"never",...v(e)})}function Ni(n,e){return new Cl({check:"max_length",...v(e),maximum:n})}function Ot(n,e){return new yl({check:"min_length",...v(e),minimum:n})}function Fi(n,e){return new Tl({check:"length_equals",...v(e),length:n})}function Jd(n,e){return new wl({check:"string_format",format:"regex",...v(e),pattern:n})}function eh(n){return new Sl({check:"string_format",format:"lowercase",...v(n)})}function th(n){return new Il({check:"string_format",format:"uppercase",...v(n)})}function nh(n,e){return new Dl({check:"string_format",format:"includes",...v(e),includes:n})}function sh(n,e){return new Ll({check:"string_format",format:"starts_with",...v(e),prefix:n})}function ih(n,e){return new Ol({check:"string_format",format:"ends_with",...v(e),suffix:n})}function ut(n){return new $l({check:"overwrite",tx:n})}function rh(n){return ut(e=>e.normalize(n))}function oh(){return ut(n=>n.trim())}function ah(){return ut(n=>n.toLowerCase())}function uh(){return ut(n=>n.toUpperCase())}function ch(n,e,t){return new n({type:"array",element:e,...v(t)})}function lh(n,e,t){return new n({type:"custom",check:"custom",fn:e,...v(t)})}function dh(n){const e=hh(t=>(t.addIssue=s=>{if(typeof s=="string")t.issues.push(nt(s,t.value,e._zod.def));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=t.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),t.issues.push(nt(i))}},n(t.value,t)));return e}function hh(n,e){const t=new J({check:"custom",...v(e)});return t._zod.check=n,t}const ph=l("ZodISODateTime",(n,e)=>{Kl.init(n,e),w.init(n,e)});function fh(n){return Wd(ph,n)}const mh=l("ZodISODate",(n,e)=>{Wl.init(n,e),w.init(n,e)});function _h(n){return Yd(mh,n)}const gh=l("ZodISOTime",(n,e)=>{Yl.init(n,e),w.init(n,e)});function Eh(n){return qd(gh,n)}const vh=l("ZodISODuration",(n,e)=>{ql.init(n,e),w.init(n,e)});function bh(n){return Gd(vh,n)}const kh=(n,e)=>{Ti.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>Zc(n,t)},flatten:{value:t=>Pc(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,gn,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,gn,2)}},isEmpty:{get(){return n.issues.length===0}}})},H=l("ZodError",kh,{Parent:Error}),Ah=$n(H),Ch=xn(H),yh=Ut(H),Th=Ht(H),wh=Hc(H),Sh=Kc(H),Ih=Wc(H),Dh=Yc(H),Lh=qc(H),Oh=Gc(H),$h=Xc(H),xh=Qc(H),D=l("ZodType",(n,e)=>(I.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(xe(e,{checks:[...e.checks??[],...t.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),n.clone=(t,s)=>be(n,t,s),n.brand=()=>n,n.register=((t,s)=>(t.add(n,s),n)),n.parse=(t,s)=>Ah(n,t,s,{callee:n.parse}),n.safeParse=(t,s)=>yh(n,t,s),n.parseAsync=async(t,s)=>Ch(n,t,s,{callee:n.parseAsync}),n.safeParseAsync=async(t,s)=>Th(n,t,s),n.spa=n.safeParseAsync,n.encode=(t,s)=>wh(n,t,s),n.decode=(t,s)=>Sh(n,t,s),n.encodeAsync=async(t,s)=>Ih(n,t,s),n.decodeAsync=async(t,s)=>Dh(n,t,s),n.safeEncode=(t,s)=>Lh(n,t,s),n.safeDecode=(t,s)=>Oh(n,t,s),n.safeEncodeAsync=async(t,s)=>$h(n,t,s),n.safeDecodeAsync=async(t,s)=>xh(n,t,s),n.refine=(t,s)=>n.check(Cp(t,s)),n.superRefine=t=>n.check(yp(t)),n.overwrite=t=>n.check(ut(t)),n.optional=()=>Os(n),n.nullable=()=>$s(n),n.nullish=()=>Os($s(n)),n.nonoptional=t=>_p(n,t),n.array=()=>tp(n),n.or=t=>rp([n,t]),n.and=t=>ap(n,t),n.transform=t=>xs(n,lp(t)),n.default=t=>pp(n,t),n.prefault=t=>mp(n,t),n.catch=t=>Ep(n,t),n.pipe=t=>xs(n,t),n.readonly=()=>kp(n),n.describe=t=>{const s=n.clone();return vt.add(s,{description:t}),s},Object.defineProperty(n,"description",{get(){var t;return(t=vt.get(n))==null?void 0:t.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return vt.get(n);const s=n.clone();return vt.add(s,t[0]),s},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),Mi=l("_ZodString",(n,e)=>{Nn.init(n,e),D.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...s)=>n.check(Jd(...s)),n.includes=(...s)=>n.check(nh(...s)),n.startsWith=(...s)=>n.check(sh(...s)),n.endsWith=(...s)=>n.check(ih(...s)),n.min=(...s)=>n.check(Ot(...s)),n.max=(...s)=>n.check(Ni(...s)),n.length=(...s)=>n.check(Fi(...s)),n.nonempty=(...s)=>n.check(Ot(1,...s)),n.lowercase=s=>n.check(eh(s)),n.uppercase=s=>n.check(th(s)),n.trim=()=>n.check(oh()),n.normalize=(...s)=>n.check(rh(...s)),n.toLowerCase=()=>n.check(ah()),n.toUpperCase=()=>n.check(uh())}),Nh=l("ZodString",(n,e)=>{Nn.init(n,e),Mi.init(n,e),n.email=t=>n.check(xi(Bi,t)),n.url=t=>n.check(Od(Fh,t)),n.jwt=t=>n.check(Kd(Gh,t)),n.emoji=t=>n.check($d(Mh,t)),n.guid=t=>n.check(Ss(Ds,t)),n.uuid=t=>n.check(Sd(bt,t)),n.uuidv4=t=>n.check(Id(bt,t)),n.uuidv6=t=>n.check(Dd(bt,t)),n.uuidv7=t=>n.check(Ld(bt,t)),n.nanoid=t=>n.check(xd(Bh,t)),n.guid=t=>n.check(Ss(Ds,t)),n.cuid=t=>n.check(Nd(Rh,t)),n.cuid2=t=>n.check(Fd(Vh,t)),n.ulid=t=>n.check(Md(zh,t)),n.base64=t=>n.check(jd(Wh,t)),n.base64url=t=>n.check(Ud(Yh,t)),n.xid=t=>n.check(Bd(Ph,t)),n.ksuid=t=>n.check(Rd(Zh,t)),n.ipv4=t=>n.check(Vd(jh,t)),n.ipv6=t=>n.check(zd(Uh,t)),n.cidrv4=t=>n.check(Pd(Hh,t)),n.cidrv6=t=>n.check(Zd(Kh,t)),n.e164=t=>n.check(Hd(qh,t)),n.datetime=t=>n.check(fh(t)),n.date=t=>n.check(_h(t)),n.time=t=>n.check(Eh(t)),n.duration=t=>n.check(bh(t))});function R(n){return wd(Nh,n)}const w=l("ZodStringFormat",(n,e)=>{T.init(n,e),Mi.init(n,e)}),Bi=l("ZodEmail",(n,e)=>{Bl.init(n,e),w.init(n,e)});function Is(n){return xi(Bi,n)}const Ds=l("ZodGUID",(n,e)=>{Fl.init(n,e),w.init(n,e)}),bt=l("ZodUUID",(n,e)=>{Ml.init(n,e),w.init(n,e)}),Fh=l("ZodURL",(n,e)=>{Rl.init(n,e),w.init(n,e)}),Mh=l("ZodEmoji",(n,e)=>{Vl.init(n,e),w.init(n,e)}),Bh=l("ZodNanoID",(n,e)=>{zl.init(n,e),w.init(n,e)}),Rh=l("ZodCUID",(n,e)=>{Pl.init(n,e),w.init(n,e)}),Vh=l("ZodCUID2",(n,e)=>{Zl.init(n,e),w.init(n,e)}),zh=l("ZodULID",(n,e)=>{jl.init(n,e),w.init(n,e)}),Ph=l("ZodXID",(n,e)=>{Ul.init(n,e),w.init(n,e)}),Zh=l("ZodKSUID",(n,e)=>{Hl.init(n,e),w.init(n,e)}),jh=l("ZodIPv4",(n,e)=>{Gl.init(n,e),w.init(n,e)}),Uh=l("ZodIPv6",(n,e)=>{Xl.init(n,e),w.init(n,e)}),Hh=l("ZodCIDRv4",(n,e)=>{Ql.init(n,e),w.init(n,e)}),Kh=l("ZodCIDRv6",(n,e)=>{Jl.init(n,e),w.init(n,e)}),Wh=l("ZodBase64",(n,e)=>{ed.init(n,e),w.init(n,e)}),Yh=l("ZodBase64URL",(n,e)=>{nd.init(n,e),w.init(n,e)}),qh=l("ZodE164",(n,e)=>{sd.init(n,e),w.init(n,e)}),Gh=l("ZodJWT",(n,e)=>{rd.init(n,e),w.init(n,e)}),Xh=l("ZodUnknown",(n,e)=>{od.init(n,e),D.init(n,e)});function Ls(){return Xd(Xh)}const Qh=l("ZodNever",(n,e)=>{ad.init(n,e),D.init(n,e)});function Jh(n){return Qd(Qh,n)}const ep=l("ZodArray",(n,e)=>{ud.init(n,e),D.init(n,e),n.element=e.element,n.min=(t,s)=>n.check(Ot(t,s)),n.nonempty=t=>n.check(Ot(1,t)),n.max=(t,s)=>n.check(Ni(t,s)),n.length=(t,s)=>n.check(Fi(t,s)),n.unwrap=()=>n.element});function tp(n,e){return ch(ep,n,e)}const np=l("ZodObject",(n,e)=>{ld.init(n,e),D.init(n,e),C(n,"shape",()=>e.shape),n.keyof=()=>up(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:Ls()}),n.loose=()=>n.clone({...n._zod.def,catchall:Ls()}),n.strict=()=>n.clone({...n._zod.def,catchall:Jh()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>Mc(n,t),n.safeExtend=t=>Bc(n,t),n.merge=t=>Rc(n,t),n.pick=t=>Nc(n,t),n.omit=t=>Fc(n,t),n.partial=(...t)=>Vc(Ri,n,t[0]),n.required=(...t)=>zc(Vi,n,t[0])});function sp(n,e){const t={type:"object",shape:n??{},...v(e)};return new np(t)}const ip=l("ZodUnion",(n,e)=>{dd.init(n,e),D.init(n,e),n.options=e.options});function rp(n,e){return new ip({type:"union",options:n,...v(e)})}const op=l("ZodIntersection",(n,e)=>{hd.init(n,e),D.init(n,e)});function ap(n,e){return new op({type:"intersection",left:n,right:e})}const vn=l("ZodEnum",(n,e)=>{pd.init(n,e),D.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(s,i)=>{const r={};for(const o of s)if(t.has(o))r[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new vn({...e,checks:[],...v(i),entries:r})},n.exclude=(s,i)=>{const r={...e.entries};for(const o of s)if(t.has(o))delete r[o];else throw new Error(`Key ${o} not found in enum`);return new vn({...e,checks:[],...v(i),entries:r})}});function up(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(s=>[s,s])):n;return new vn({type:"enum",entries:t,...v(e)})}const cp=l("ZodTransform",(n,e)=>{fd.init(n,e),D.init(n,e),n._zod.parse=(t,s)=>{if(s.direction==="backward")throw new vi(n.constructor.name);t.addIssue=r=>{if(typeof r=="string")t.issues.push(nt(r,t.value,e));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=t.value),o.inst??(o.inst=n),t.issues.push(nt(o))}};const i=e.transform(t.value,t);return i instanceof Promise?i.then(r=>(t.value=r,t)):(t.value=i,t)}});function lp(n){return new cp({type:"transform",transform:n})}const Ri=l("ZodOptional",(n,e)=>{md.init(n,e),D.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Os(n){return new Ri({type:"optional",innerType:n})}const dp=l("ZodNullable",(n,e)=>{_d.init(n,e),D.init(n,e),n.unwrap=()=>n._zod.def.innerType});function $s(n){return new dp({type:"nullable",innerType:n})}const hp=l("ZodDefault",(n,e)=>{gd.init(n,e),D.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function pp(n,e){return new hp({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():Ai(e)}})}const fp=l("ZodPrefault",(n,e)=>{Ed.init(n,e),D.init(n,e),n.unwrap=()=>n._zod.def.innerType});function mp(n,e){return new fp({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():Ai(e)}})}const Vi=l("ZodNonOptional",(n,e)=>{vd.init(n,e),D.init(n,e),n.unwrap=()=>n._zod.def.innerType});function _p(n,e){return new Vi({type:"nonoptional",innerType:n,...v(e)})}const gp=l("ZodCatch",(n,e)=>{bd.init(n,e),D.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function Ep(n,e){return new gp({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const vp=l("ZodPipe",(n,e)=>{kd.init(n,e),D.init(n,e),n.in=e.in,n.out=e.out});function xs(n,e){return new vp({type:"pipe",in:n,out:e})}const bp=l("ZodReadonly",(n,e)=>{Ad.init(n,e),D.init(n,e),n.unwrap=()=>n._zod.def.innerType});function kp(n){return new bp({type:"readonly",innerType:n})}const Ap=l("ZodCustom",(n,e)=>{Cd.init(n,e),D.init(n,e)});function Cp(n,e={}){return lh(Ap,n,e)}function yp(n){return dh(n)}const zi=[{source:Xi,name:"荒原綠影"},{source:Qi,name:"垂綠星河"},{source:Ji,name:"噴霧器",position:"product-add1-position"}],je=[{type:"amount",name:"入會首購金 250 元",discount:250,minimumSpend:250,date:"2025.07.01 ~ 2025.12.31",code:"aaaaaa",state:""},{type:"amount",name:"好友分享禮 150 元",discount:150,minimumSpend:150,date:"2025.07.01 ~ 2025.12.31",code:"A7X9Q2",state:""},{type:"amount",name:"官方好友禮 50 元",discount:50,minimumSpend:50,date:"2025.07.01 ~ 2025.12.31",code:"M3T8kz",state:""},{type:"amount",name:"滿 5000 折 500",discount:500,minimumSpend:5e3,date:"2025.07.01 ~ 2025.12.31",code:"bbbbbb",state:""}],p={cart:[{type:"product",name:"荒原綠影",originalPrice:2400,salePrice:2400,count:1},{type:"product",name:"垂綠星河",originalPrice:3600,salePrice:3600,count:1},{type:"add-on",name:"噴霧器",originalPrice:249,salePrice:129,count:1}],subtotal:0,deliveryFee:0,discount:0,total:0,delivery:{method:"黑貓宅配"},payment:{method:"信用卡一次付清",creditCardInfo:{number:["1111","2222","3333","4444"],exp:["01","28"],cvc:"123"}},purchaser:{name:"王小明",tel:"0912-345-678",email:"plantique@test.com"},recipient:{name:"王小明",tel:"0912-345-678",email:"plantique@test.com",address:"台北市信義區松仁路100號"},invoice:{method:"雲端載具",mobileBarcode:"/ABC1234",ubn:"12345678"},notes:""},Tp=["購物車清單","付款資料","訂單確認"],wp=120,S={delivery:{id:"delivery-toggle",schema:R().refine(n=>n!=="請選擇運送方式","未選擇運送方式"),needCheck:!0},payment:{id:"payment-toggle",schema:R().refine(n=>n!=="請選擇付款方式","未選擇付款方式"),needCheck:!0},cardNumber:{id:"card-number",schema:R().regex(/^\d{4}(?: \d{4}){3}$/,"卡號輸入錯誤").min(1,"未輸入信用卡號"),needCheck:!1},cardExp:{id:"card-exp",schema:R().regex(/\d{2}\/\d{2}/,"有效期限輸入錯誤").min(1,"未輸入有效期限"),needCheck:!1},cardCvc:{id:"card-cvc",schema:R().regex(/\d{3}/,"末三碼輸入錯誤").min(1,"未輸入末三碼"),needCheck:!1},purchaserName:{id:"purchaser-name",schema:R().max(20,"訂購人姓名最長為 20").min(1,"未輸入訂購人姓名"),needCheck:!0},purchaserPhone:{id:"purchaser-phone",schema:R().regex(/^09\d{2}(?:-\d{3}){2}$/,"訂購人電話輸入錯誤").min(1,"未輸入訂購人電話"),needCheck:!0},purchaserEmail:{id:"purchaser-email",schema:Is("訂購人電子郵件輸入錯誤").min(1,"未輸入訂購人電子郵件"),needCheck:!0},recipientName:{id:"recipient-name",schema:R().max(20,"收件人姓名長度為 20").min(1,"未輸入收件人姓名"),needCheck:!0},recipientPhone:{id:"recipient-phone",schema:R().regex(/^09\d{2}(?:-\d{3}){2}$/,"收件人電話輸入錯誤").min(1,"未輸入收件人電話"),needCheck:!0},recipientEmail:{id:"recipient-email",schema:Is("收件人電子郵件輸入錯誤").min(1,"未輸入收件人電子郵件"),needCheck:!0},recipientAddress:{id:"recipient-address",schema:R().min(1,"未輸入收件人地址"),needCheck:!0},invoice:{id:"invoice-toggle",schema:R().refine(n=>n!=="請選擇發票類型","未選擇發票類型"),needCheck:!0},mobileBarcode:{id:"mobile-barcode",schema:R().length(8,"手機條碼輸入錯誤").regex(/^\/[0-9A-Z.\-\+]{7}$/,"手機條碼輸入錯誤").min(1,"未輸入手機條碼"),needCheck:!1},ubn:{id:"ubn",schema:R().regex(/\d{8}/,"統一編號輸入錯誤").min(1,"未輸入統一編號"),needCheck:!1}},Ns=document.querySelectorAll("#pills-cart-nav li button"),Fn=document.getElementById("btn-next-checkout"),Pi=document.getElementById("cart-list"),bn=document.getElementById("coupon-code"),Xe=document.getElementById("coupon-selected-name"),Sp=document.getElementById("coupon-check-btn"),kn=document.getElementById("coupon-choose-btn"),Ip=document.getElementById("btn-back-cart-desktop"),Dp=document.getElementById("btn-back-cart-mobile"),Lp=document.getElementById("btn-next-completed-desktop"),Op=document.getElementById("btn-next-completed-mobile"),Zi=document.getElementById("checkout-delivery-fee"),$p=document.getElementById("checkout-subtotal"),xp=document.getElementById("checkout-discount"),ji=document.getElementById("checkout-total"),Np=document.querySelectorAll(".dropdown"),ze=document.getElementById("delivery-toggle"),te=document.getElementById("payment-toggle"),ne=document.getElementById("invoice-toggle"),st=document.getElementById("creditcard-form"),$t=st.querySelectorAll("input"),ae=document.getElementById("card-number"),Q=document.getElementById("card-exp"),z=document.getElementById("card-cvc"),se=document.getElementById("purchaser-name"),ie=document.getElementById("purchaser-phone"),he=document.getElementById("purchaser-email"),Ue=document.getElementById("recipient-checked"),L=document.getElementById("recipient-name"),O=document.getElementById("recipient-phone"),$=document.getElementById("recipient-email"),Te=document.getElementById("recipient-address"),pe=document.getElementById("cloud-invoice-carrier"),W=document.getElementById("mobile-barcode"),Pe=document.getElementById("ubn-wrapper"),G=document.getElementById("ubn"),Fp=document.getElementById("checkout-notes-text"),Mp=document.getElementById("checkout-list"),Bp=E(ae,{mask:"0000 0000 0000 0000"}),Rp=E(Q,{mask:"MM/YY",blocks:{MM:{mask:E.MaskedRange,from:1,to:12},YY:{mask:E.MaskedRange,from:25,to:99}}}),Vp=E(z,{mask:"000"}),zp=E(ie,{mask:"0000-000-000"}),Pp=E(O,{mask:"0000-000-000"}),Zp=E(G,{mask:"00000000"}),jp=document.getElementById("confirmModal"),Ui=new we(jp),Mn=document.getElementById("confirmModalName"),Bn=document.getElementById("confirmModalPhone"),Up=document.getElementById("confirmModalAddress"),Hp=document.getElementById("confirmModalCheckBtn"),Kp=document.getElementById("completed-btn"),Wp=document.getElementById("demo-btn");function Yp(){return new Promise(n=>{if(window.scrollY===0){n();return}function e(){window.scrollY===0&&(window.removeEventListener("scroll",e),n())}window.addEventListener("scroll",e),window.scrollTo({top:0,behavior:"smooth"})})}async function Rn(n,e,t={}){const{addCompleted:s=!0,removeCompleted:i=!1}=t;await Yp();const r=Ns[n],o=Ns[e];await new Promise(a=>{let u=!1;const c=()=>{u||(u=!0,Se.getOrCreateInstance(o).show(),o.classList.add("step-active"),document.title=Tp[e],a())};r.addEventListener("transitionend",c,{once:!0}),r.classList.remove("step-active"),s&&r.classList.add("step-completed"),i&&o.classList.remove("step-completed")})}function Vn(n,e,t,s){if(![0,1,2].includes(t))return;if(n.innerHTML="",e.length==0){qp(n,s);return}const i=document.createDocumentFragment();e.forEach((r,o)=>{let a;switch(t){case 0:a=Gp(r,o);break;case 1:a=Xp(r);break}i.appendChild(a)}),n.appendChild(i)}function qp(n,e){e.disabled=!0;const t=document.createElement("li");t.classList.add("text-center"),t.innerHTML=`
      <p class="text-neutral-600 my-15">購物車尚未加入商品</p>
      <a href="#" class="btn btn-outline-neutral-400 rounded-pill py-3 px-5"
        >前往選購商品</a
      >`,n.appendChild(t)}function Gp(n,e){var ct,lt,P,B,le;const t=document.createElement("li");t.dataset.index=e;const s=document.createElement("div");s.classList.add("row","gx-3","gx-lg-6");const i=zi.filter(Gi=>Gi.name===n.name),r=document.createElement("div");r.classList.add("col-6","col-lg-3");const o=document.createElement("img");o.classList.add("cart-product-img","w-100"),n.type==="add-on"&&o.classList.add("add-on"),(ct=i[0])!=null&&ct.source&&(o.src=(lt=i[0])==null?void 0:lt.source),(P=i[0])!=null&&P.source?o.classList.add("object-fit-cover"):o.classList.add("d-block"),(B=i[0])!=null&&B.position&&o.classList.add((le=i[0])==null?void 0:le.position),o.alt=n.name,r.appendChild(o);const a=document.createElement("div");a.classList.add("col-6","col-lg-9");const u=document.createElement("div");u.classList.add("d-flex","flex-column","flex-lg-row","align-items-lg-center","h-100");const c=document.createElement("div");c.classList.add("col-lg-4","pe-lg-6"),c.innerHTML=`
    ${n.type==="add-on"?'<span class="align-self-start d-inline-block fs-xs fs-lg-sm text-secondary bg-secondary-100 text-nowrap py-1 px-2 px-lg-3 mb-1 mb-lg-2">加購商品</span>':""}
    <h4 class="h6 fs-lg-5 text-neutral-700 text-nowrap mb-1 mb-lg-2">${n.name}</h4>
    <div class="d-flex mb-3 mb-lg-0 align-items-end">
      <p class="fs-8 fs-lg-7 fw-bold lh-sm noto-serif-tc text-primary-700">NT$${n.salePrice.toLocaleString()}</p>
      ${n.originalPrice===n.salePrice?"":`<p class="fs-sm fs-lg-8 noto-serif-tc fw-bold lh-sm text-neutral-400 text-decoration-line-through ms-1 ms-lg-2">$${n.originalPrice}</p>`}
    </div>`;const h=document.createElement("div");h.classList.add("d-flex","justify-content-between","col-lg-4","pe-lg-6","mb-3","mb-md-0"),h.innerHTML='<p class="d-lg-none fs-sm text-neutral-400">小計</p>';const f=document.createElement("p");f.dataset.action="subtotal",f.classList.add("fs-7","fw-bold","lh-sm","fs-lg-6","noto-serif-tc","text-primary-700"),f.textContent=`NT$${(n.salePrice*n.count).toLocaleString()}`,h.appendChild(f);const m=document.createElement("div");m.classList.add("d-flex","align-items-center","col-lg-4","pe-lg-6"),m.classList.add("mt-auto","mt-lg-0");const b=document.createElement("button");b.type="button",b.dataset.action="minus",b.classList.add("btn","custom-btn-outline-neutral","custom-btn-circle-sm","me-1"),b.innerHTML='<span class="material-symbols-rounded fs-6 fs-lg-5 d-block">remove</span>',b.disabled=!0;const A=document.createElement("span");A.dataset.action="quantity",A.classList.add("cart-product-quantity","fs-lg-7","fw-bold","lh-sm","noto-serif-tc","text-black","text-center","me-1"),A.textContent=n.count;const y=document.createElement("button");y.type="button",y.dataset.action="add",y.classList.add("btn","custom-btn-outline-neutral","custom-btn-circle-sm","me-1"),y.innerHTML='<span class="material-symbols-rounded fs-6 fs-lg-5 d-block">add_2</span>';const F=document.createElement("button");return F.type="button",F.dataset.action="delete",F.classList.add("btn","custom-btn-outline-danger","custom-btn-circle-sm","ms-auto"),F.innerHTML='<span class="material-symbols-rounded fs-6 fs-lg-5 d-block text-danger">delete</span>',m.appendChild(b),m.appendChild(A),m.appendChild(y),m.appendChild(F),u.appendChild(c),u.appendChild(h),u.appendChild(m),a.appendChild(u),s.appendChild(r),s.appendChild(a),t.appendChild(s),t}function Xp(n){var f,m,b,A,y;const e=document.createElement("li"),t=document.createElement("div");t.classList.add("row","gx-3");const s=zi.filter(F=>F.name===n.name),i=document.createElement("div");i.classList.add("col-4");const r=document.createElement("img");r.classList.add("cart-product-img","w-100"),n.type==="add-on"&&r.classList.add("add-on"),(f=s[0])!=null&&f.source&&(r.src=(m=s[0])==null?void 0:m.source),(b=s[0])!=null&&b.source?r.classList.add("object-fit-cover"):r.classList.add("d-block"),(A=s[0])!=null&&A.position&&r.classList.add((y=s[0])==null?void 0:y.position),r.alt=n.name,i.appendChild(r);const o=document.createElement("div");o.classList.add("col-8","my-auto");const a=document.createElement("div");a.classList.add("d-flex","gap-2");const u=document.createElement("div");u.classList.add("col-6","mb-1","mb-lg-0"),u.innerHTML=`
    <h4 class="fs-7 fs-lg-6 text-neutral-700 noto-serif-tc text-nowrap mb-2">${n.name}</h4>
    <p class="fs-sm text-neutral-400">商品數量 : <span class="text-neutral-500">${n.count}</span></p>`;const c=document.createElement("div");c.classList.add("d-flex","justify-content-between","col-6","mb-md-0");const h=document.createElement("p");return h.classList.add("fs-8","fw-bold","lh-sm","fs-lg-7","noto-serif-tc","text-primary-700"),h.textContent=`NT$${(n.salePrice*n.count).toLocaleString()}`,c.appendChild(h),a.appendChild(u),a.appendChild(c),o.appendChild(a),t.appendChild(i),t.appendChild(o),e.appendChild(t),e}function Hi(){const n=document.getElementById("couponModalList");if(n.innerHTML="",!je.length)return;const e=document.createDocumentFragment();je.forEach(t=>{if(!t.state&&t.minimumSpend<=p.total){const s=document.createElement("li"),i=Ki(t,!0);s.appendChild(i),e.appendChild(s)}}),n.appendChild(e)}function Ki(n,e){const t=document.createElement("div");t.classList.add("coupon-layout","d-flex");const s=document.createElement("div");s.classList.add("bg-primary","d-flex","justify-content-center","align-items-center"),s.innerHTML=`
    <div class="bg-primary d-flex justify-content-center align-items-center">
      <div class="d-flex flex-column align-items-start">
        <span class="fs-sm text-white mb-1">NT$</span>
        <span class="h3 text-white">${n.discount}</span>
      </div>
    </div>`;const i=document.createElement("div");i.classList.add("flex-grow-1","d-flex","justify-content-between","align-items-center","border","border-start-0","px-3"),i.innerHTML=`
    <div class="me-3">
      <p class="fs-8 lh-sm fw-bold noto-serif-tc text-neutral-700 mb-2">
        ${n.name}
      </p>
      <p class="fs-xs fs-lg-sm text-primary-500">${n.date}</p>
    </div>`;const r=document.createElement("button");return r.type="button",r.classList.add("btn"),e?(r.classList.add("btn-primary","rounded-0","fs-sm","fs-lg-8","text-white","text-nowrap","px-3","py-2"),r.textContent="選擇"):(r.classList.add("border","border-2","border-danger-200","rounded-circle","p-2","mx-2"),r.innerHTML='<span class="material-symbols-rounded d-block text-danger">close</span>'),i.appendChild(r),t.appendChild(s),t.appendChild(i),r.addEventListener("click",()=>{e?(p.discount=n.discount,p.coupon=n,je.forEach(o=>o.state&&(o.state="")),n.state="selected",xt(!0,n)):(p.discount=0,delete p.coupon,n.state="",xt(!1)),Hi(),Wt(!1)}),t}function Wt(n=!1){p.subtotal=p.cart.reduce((e,t)=>e+=t.salePrice*t.count,0),p.discount=p.coupon?p.coupon.discount:0,p.total=p.subtotal-p.discount,n&&p.coupon&&p.coupon.minimumSpend>=p.total&&(je.forEach(e=>e.state&&(e.state="")),p.discount=0,delete p.coupon,p.total=p.subtotal,xt(!1)),Wi()}function Wi(){const n=document.getElementById("cart-subtotal"),e=document.getElementById("cart-discount"),t=document.getElementById("cart-total");n.textContent=`NT$ ${p.subtotal.toLocaleString()}`,e.textContent=`- NT$ ${p.discount.toLocaleString()}`,t.textContent=`NT$ ${p.total.toLocaleString()}`}function xt(n,e){const t=document.getElementById("couponModalSelected");t.innerHTML="",n?(t.classList.remove("unselected"),t.appendChild(Ki(e),!1),Xe.textContent=e.name,Xe.classList.add("selected"),kn.textContent="編輯"):(t.classList.add("unselected"),Xe.textContent="未選擇優惠",Xe.classList.remove("selected"),kn.textContent="選擇")}function ke(n,e,t){const s=[],i=[],r=document.getElementById("coupon-feedback");n?(i.push("d-none"),e?(s.push("text-danger"),i.push("text-success")):(s.push("text-success"),i.push("text-danger"))):(s.push("d-none"),i.push("text-success"),i.push("text-danger")),r.classList.remove(...i),r.classList.add(...s),r.textContent=t,n||(bn.value="")}function Qp(){const n={};for(const[e,t]of Object.entries(S))t.needCheck&&(n[e]=t.schema);return sp(n)}function K(n,e){var i;const t=n.parentElement;t.classList.add("zod-validated");const s=S[e].schema.safeParse(n.value);if(s.success)return n.classList.remove("is-invalid"),n.classList.add("is-valid"),!0;{n.classList.add("is-invalid"),n.classList.remove("is-valid");const r=t.querySelector(".zod-invalid-feedback");return r.textContent=(i=s.error.issues[0])==null?void 0:i.message,!1}}async function Yi(){p.total=p.subtotal-p.discount,Wi(),await Rn(1,0,{addCompleted:!1,removeCompleted:!0}),z.textContent="",document.querySelectorAll(".zod-validated").forEach(e=>{e.classList.remove("zod-validated");const t=e.querySelector(".is-valid, .is-invalid");t&&t.classList.remove("is-valid","is-invalid")})}function qi(){const n=Qp(),e={delivery:ze.textContent.trim(),payment:te.textContent.trim(),purchaserName:se.value,purchaserPhone:ie.value,purchaserEmail:he.value,recipientName:L.value,recipientPhone:O.value,recipientEmail:$.value,recipientAddress:Te.value,invoice:ne.textContent.trim()};S.cardNumber.needCheck&&(e.cardNumber=ae.value),S.cardExp.needCheck&&(e.cardExp=Q.value),S.cardCvc.needCheck&&(e.cardCvc=z.value),S.mobileBarcode.needCheck&&(e.mobileBarcode=W.value),S.ubn.needCheck&&(e.ubn=G.value);const t=n.safeParse(e);let s=!1;if(!t.success){t.error.issues.forEach(i=>{const r=Object.fromEntries(Object.entries(S).filter(([h])=>h===i.path[0])),o=Object.values(r)[0].id,a=document.getElementById(o),u=a.parentElement,c=u.querySelector(".zod-invalid-feedback");s||(a.scrollIntoView({behavior:"smooth",block:"center"}),a.focus(),s=!0),u.classList.add("zod-validated"),a.classList.add("is-invalid"),c.textContent=i.message});return}Mn.textContent=L.value,Bn.textContent=O.value,Up.textContent=Te.value,Ui.show()}async function Jp(){p.delivery=ze.textContent,p.payment.method=te.textContent,te.textContent==="信用卡一次付清"&&(ae.value.split(" ").forEach((i,r)=>{p.payment.creditCardInfo.number[r]=i}),Q.value.split("/").forEach((i,r)=>{p.payment.creditCardInfo.exp[r]=i}),p.payment.creditCardInfo.cvc=z.value),p.purchaser.name=se.value,p.purchaser.tel=ie.value,p.purchaser.email=he.value,p.recipient.name=L.value,p.recipient.tel=O.value,p.recipient.email=$.value,p.recipient.address=Te.value,p.invoice.method=ne.textContent,ne.textContent==="雲端載具"&&(p.invoice.mobileBarcode=W.value),ne.textContent==="統一編號"&&(p.invoice.ubn=G.value),p.notes=Fp.value;const n=document.getElementById("completed-order-number");n.textContent="#B160423010304";const e=document.getElementById("completed-email");if(e.textContent=p.recipient.email,te.textContent==="轉帳"){const i=document.getElementById("completed-message-default");document.getElementById("completed-message-transfer").classList.remove("d-none"),i.classList.add("d-none")}document.getElementById("pills-tabContent").classList.add("completed-tabContent"),await Rn(1,2),document.querySelectorAll(".zod-validated").forEach(i=>{i.classList.remove("zod-validated");const r=i.querySelector(".is-valid");r&&r.classList.remove("is-valid")})}Vn(Pi,p.cart,0,Fn);Wt(!1);Sp.addEventListener("click",()=>{if(bn.value.trim()===""){ke(!0,!0,"未輸入優惠代碼");return}const n=je.filter(e=>e.code===bn.value.trim());n.length===1?Xe.textContent===n[0].name?ke(!0,!1,"此優惠代碼已套用"):p.subtotal<n[0].minimumSpend?ke(!0,!0,"此優惠代碼未符合使用條件"):(je.map(e=>e.state=""),n[0].state="selected",p.discount=n[0].discount,p.coupon=n[0],xt(!0,n[0]),ke(!1,!1,""),Wt(!0)):ke(!0,!0,"查無此優惠代碼")});kn.addEventListener("click",()=>{ke(!1,!1,""),Hi()});Pi.addEventListener("click",n=>{const e=n.target.closest("button");if(!e)return;const t=e.closest("li"),s=t.querySelector('[data-action="quantity"]'),i=t.querySelector('[data-action="subtotal"]'),r=p.cart[t.dataset.index];switch(e.dataset.action){case"add":r.count++,i.textContent=`NT$${(r.salePrice*r.count).toLocaleString()}`,s.textContent=r.count;const a=t.querySelector('[data-action="minus"]');a.disabled=!1;break;case"minus":r.count>1&&(r.count--,i.textContent=`NT$${(r.salePrice*r.count).toLocaleString()}`,s.textContent=r.count),r.count<=1&&(e.disabled=!0);break;case"delete":p.cart.splice(p.cart.findIndex(u=>u.name===r.name),1),Vn(n.currentTarget,p.cart,0,Fn);break;default:return}Wt(!0)});Fn.addEventListener("click",async()=>{Vn(Mp,p.cart,1),p.total=p.subtotal+p.deliveryFee-p.discount,$p.textContent=`NT$ ${p.subtotal.toLocaleString()}`,Zi.textContent=`NT$ ${p.deliveryFee.toLocaleString()}`,xp.textContent=`- NT$ ${p.discount.toLocaleString()}`,ji.textContent=`NT$ ${p.total.toLocaleString()}`,await Rn(0,1),ke(!1,!1,"")});pe.style.display="none";pe.querySelector("input").disabled=!0;Pe.style.display="none";Pe.querySelector("input").disabled=!0;st.style.display="none";$t.forEach(n=>n.disabled=!0);Lp.addEventListener("click",qi);Op.addEventListener("click",qi);Ip.addEventListener("click",Yi);Dp.addEventListener("click",Yi);Np.forEach(n=>{const e=n.querySelector(".dropdown-toggle");n.querySelector(".dropdown-menu").addEventListener("click",s=>{const i=s.target.closest("a");if(i&&(s.preventDefault(),e.textContent=i.textContent,e.classList.remove("text-neutral-500"),e.classList.add("text-neutral-700"),e.id==="delivery-toggle"?i.id==="yamato-transport"&&(p.deliveryFee=wp,p.total=p.subtotal+p.deliveryFee-p.discount,Zi.textContent=`NT$ ${p.deliveryFee.toLocaleString()}`,ji.textContent=`NT$ ${p.total.toLocaleString()}`):e.id==="invoice-toggle"?(i.id==="mobile-barcode-item"?(S.mobileBarcode.needCheck=!0,pe.style.display="block",pe.querySelector("input").disabled=!1,W.scrollIntoView({behavior:"smooth",block:"center"}),W.focus()):(S.mobileBarcode.needCheck=!1,pe.style.display="none",pe.querySelector("input").disabled=!0,W.classList.remove("is-valid","is-invalid"),W.parentElement.classList.remove("zod-validated")),i.id==="ubn-item"?(S.ubn.needCheck=!0,Pe.style.display="block",Pe.querySelector("input").disabled=!1,G.scrollIntoView({behavior:"smooth",block:"center"}),G.focus()):(S.ubn.needCheck=!1,Pe.style.display="none",Pe.querySelector("input").disabled=!0,G.classList.remove("is-valid","is-invalid"),G.parentElement.classList.remove("zod-validated"))):e.id==="payment-toggle"&&(i.id==="credit-card-one-time-payment"?(S.cardNumber.needCheck=!0,S.cardExp.needCheck=!0,S.cardCvc.needCheck=!0,st.style.display="block",$t.forEach(r=>r.disabled=!1),ae.value===""?(ae.scrollIntoView({behavior:"smooth",block:"center"}),ae.focus()):Q.value===""?(Q.scrollIntoView({behavior:"smooth",block:"center"}),Q.focus()):(z.scrollIntoView({behavior:"smooth",block:"center"}),z.focus())):(S.cardNumber.needCheck=!1,S.cardExp.needCheck=!1,S.cardCvc.needCheck=!1,st.style.display="none",$t.forEach(r=>r.disabled=!0),z.value="",z.classList.remove("is-valid","is-invalid"),z.parentElement.classList.remove("zod-validated"))),n.classList.contains("zod-validated"))){const r=Object.fromEntries(Object.entries(S).filter(([u,c])=>c.id===e.id));Object.values(r)[0].schema.safeParse(e.textContent).success&&(e.classList.remove("is-invalid"),e.classList.add("is-valid"))}})});Ue.addEventListener("change",n=>{n.target.checked?(L.value=se.value,Mn.textContent=se.value,L.parentElement.classList.remove("zod-validated"),L.classList.remove("is-invalid","is-valid"),L.disabled=!0,O.value=ie.value,Bn.textContent=ie.value,O.parentElement.classList.remove("zod-validated"),O.classList.remove("is-invalid","is-valid"),O.disabled=!0,$.value=he.value,$.parentElement.classList.remove("zod-validated"),$.classList.remove("is-invalid","is-valid"),$.disabled=!0):(L.disabled=!1,O.disabled=!1,$.disabled=!1)});Bp.on("accept",n=>{K(n.target,"cardNumber")&&n.target.selectionStart===19&&Q.focus()});Rp.on("accept",n=>{K(n.target,"cardExp")&&n.target.selectionStart===5&&z.focus()});Vp.on("accept",n=>K(n.target,"cardCvc"));se.addEventListener("input",n=>{K(n.target,"purchaserName")&&Ue.checked&&(L.value=n.target.value,Mn.textContent=n.target.value)});zp.on("accept",n=>{K(n.target,"purchaserPhone")&&Ue.checked&&(O.value=n.target.value,Bn.textContent=n.target.value)});he.addEventListener("input",n=>{K(n.target,"purchaserEmail")&&Ue.checked&&($.value=n.target.value,$.textContent=n.target.value)});L.addEventListener("input",n=>K(n.target,"recipientName"));Pp.on("accept",n=>K(n.target,"recipientPhone"));$.addEventListener("input",n=>K(n.target,"recipientEmail"));Te.addEventListener("input",n=>K(n.target,"recipientAddress"));W.addEventListener("input",n=>K(n.target,"mobileBarcode"));Zp.on("accept",n=>K(n.target,"ubn"));Hp.addEventListener("click",()=>{Ui.hide(),Jp()});Kp.addEventListener("click",()=>window.location.href="./product-list.html");Wp.addEventListener("click",()=>{(ze.classList.contains("is-invalid")||ze.textContent.trim()===ze.dataset.initialText)&&(ze.textContent=p.delivery.method),(te.classList.contains("is-invalid")||te.textContent.trim()===te.dataset.initialText)&&(te.textContent=p.payment.method),te.textContent==="信用卡一次付清"&&(st.style.display="block",$t.forEach(e=>e.disabled=!1),(ae.classList.contains("is-invalid")||ae.value==="")&&(ae.value=p.payment.creditCardInfo.number.join("-")),(Q.classList.contains("is-invalid")||Q.value==="")&&(Q.value=p.payment.creditCardInfo.exp.join("/")),(z.classList.contains("is-invalid")||z.value==="")&&(z.value=p.payment.creditCardInfo.cvc)),(se.classList.contains("is-invalid")||se.value==="")&&(se.value=p.purchaser.name),(ie.classList.contains("is-invalid")||ie.value==="")&&(ie.value=p.purchaser.tel),(he.classList.contains("is-invalid")||he.value==="")&&(he.value=p.purchaser.email),Ue.checked?(L.value=se.value,O.value=ie.value,$.value=he.value):L.value===""&&O.value===""&&$.value===""?(Ue.checked=!0,L.disabled=!0,O.disabled=!0,$.disabled=!0,L.value=p.recipient.name,O.value=p.recipient.tel,$.value=p.recipient.email):((L.classList.contains("is-invalid")||L.value==="")&&(L.value=p.recipient.name),(O.classList.contains("is-invalid")||O.value==="")&&(O.value=p.recipient.tel),($.classList.contains("is-invalid")||$.value==="")&&($.value=p.recipient.email)),(Te.classList.contains("is-invalid")||Te.value==="")&&(Te.value=p.recipient.address),ne.textContent.trim()===ne.dataset.initialText?(ne.textContent=p.invoice.method,pe.style.display="block",pe.querySelector("input").disabled=!1,W.value=p.invoice.mobileBarcode):ne.textContent.trim()==="雲端載具"?(W.classList.contains("is-invalid")||W.value==="")&&(W.value=p.invoice.mobileBarcode):ne.textContent.trim()==="統一編號"&&(G.classList.contains("is-invalid")||G.value==="")&&(G.value=p.invoice.ubn),document.querySelectorAll(".zod-validated").forEach(e=>{e.classList.remove("zod-validated");const t=e.querySelector(".is-valid, .is-invalid");t&&t.classList.remove("is-valid","is-invalid")})});
